{"data":{"allRemoteCodeContent":{"nodes":[{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-scripts.zw","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-scripts.zw","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-scripts.zw#L6-L10","language":"zdl","visibleRange":"6,10","content":"        ZDLToOpenAPIPlugin {\n            idType integer\n            idTypeFormat int64\n            targetFile \"src/main/resources/public/apis/openapi.yml\"\n        }","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-scripts.zw:6,10"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/asyncapi-shopping-cart/apis/asyncapi.yml","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/asyncapi-shopping-cart/apis/asyncapi.yml","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/asyncapi-shopping-cart/apis/asyncapi.yml","language":"yaml","visibleRange":null,"content":"asyncapi: 3.0.0\ninfo:\n  title: \"AsyncAPI Shopping Cart Example\"\n  version: 0.0.1\n  tags:\n    - name: \"Default\"\n    - name: \"ShoppingCart\"\n\ndefaultContentType: application/json\n\nchannels:\n  ShoppingCartChannel:\n    address: \"shopping-cart\"\n    messages:\n      ShoppingCartItemUpdatedMessage:\n        $ref: '#/components/messages/ShoppingCartItemUpdatedMessage'\n      ShoppingCartCheckedOutMessage:\n        $ref: '#/components/messages/ShoppingCartCheckedOutMessage'\n      ShoppingCartItemAddedMessage:\n        $ref: '#/components/messages/ShoppingCartItemAddedMessage'\n      ShoppingCartCreatedMessage:\n        $ref: '#/components/messages/ShoppingCartCreatedMessage'\n      ShoppingCartItemRemovedMessage:\n        $ref: '#/components/messages/ShoppingCartItemRemovedMessage'\n\noperations:\n  onShoppingCartCreated:\n    action: send\n    tags:\n      - name: ShoppingCart\n    channel:\n      $ref: '#/channels/ShoppingCartChannel'\n    messages:\n      - $ref: '#/channels/ShoppingCartChannel/messages/ShoppingCartCreatedMessage'\n  onShoppingCartItemAdded:\n    action: send\n    tags:\n      - name: ShoppingCart\n    channel:\n      $ref: '#/channels/ShoppingCartChannel'\n    messages:\n      - $ref: '#/channels/ShoppingCartChannel/messages/ShoppingCartItemAddedMessage'\n  onShoppingCartItemRemoved:\n    action: send\n    tags:\n      - name: ShoppingCart\n    channel:\n      $ref: '#/channels/ShoppingCartChannel'\n    messages:\n      - $ref: '#/channels/ShoppingCartChannel/messages/ShoppingCartItemRemovedMessage'\n  onShoppingCartItemUpdated:\n    action: send\n    tags:\n      - name: ShoppingCart\n    channel:\n      $ref: '#/channels/ShoppingCartChannel'\n    messages:\n      - $ref: '#/channels/ShoppingCartChannel/messages/ShoppingCartItemUpdatedMessage'\n  onShoppingCartCheckedOut:\n    action: send\n    tags:\n      - name: ShoppingCart\n    channel:\n      $ref: '#/channels/ShoppingCartChannel'\n    messages:\n      - $ref: '#/channels/ShoppingCartChannel/messages/ShoppingCartCheckedOutMessage'\n\n\ncomponents:\n  messages:\n    ShoppingCartCreatedMessage:\n      name: ShoppingCartCreatedMessage\n      title: \"\"\n      summary: \"\"\n      traits:\n        - $ref: '#/components/messageTraits/CommonHeaders'\n      payload:\n        schemaFormat: application/vnd.apache.avro+json;version=1.9.0\n        schema:\n          $ref: \"./avro/ShoppingCartCreated.avsc\"\n    ShoppingCartItemAddedMessage:\n      name: ShoppingCartItemAddedMessage\n      title: \"\"\n      summary: \"\"\n      traits:\n        - $ref: '#/components/messageTraits/CommonHeaders'\n      payload:\n        schemaFormat: application/vnd.apache.avro+json;version=1.9.0\n        schema:\n          $ref: \"./avro/ShoppingCartItemAdded.avsc\"\n    ShoppingCartItemRemovedMessage:\n      name: ShoppingCartItemRemovedMessage\n      title: \"\"\n      summary: \"\"\n      traits:\n        - $ref: '#/components/messageTraits/CommonHeaders'\n      payload:\n        schemaFormat: application/vnd.apache.avro+json;version=1.9.0\n        schema:\n          $ref: \"./avro/ShoppingCartItemRemoved.avsc\"\n    ShoppingCartItemUpdatedMessage:\n      name: ShoppingCartItemUpdatedMessage\n      title: \"\"\n      summary: \"\"\n      traits:\n        - $ref: '#/components/messageTraits/CommonHeaders'\n      payload:\n        schemaFormat: application/vnd.apache.avro+json;version=1.9.0\n        schema:\n          $ref: \"./avro/ShoppingCartItemUpdated.avsc\"\n    ShoppingCartCheckedOutMessage:\n      name: ShoppingCartCheckedOutMessage\n      title: \"\"\n      summary: \"\"\n      traits:\n        - $ref: '#/components/messageTraits/CommonHeaders'\n      payload:\n        schemaFormat: application/vnd.apache.avro+json;version=1.9.0\n        schema:\n          $ref: \"./avro/ShoppingCartCheckedOut.avsc\"\n\n  messageTraits:\n    CommonHeaders:\n      headers:\n        type: object\n        properties:\n          kafka_messageKey:\n            type: \"integer\"\n            format: \"int64\"\n            description: This header value will be populated automatically at runtime\n            x-runtime-expression: $message.payload#/customerId\n          # CloudEvents Attributes\n          ce-id:\n            type: string\n            description: Unique identifier for the event\n            x-runtime-expression: $message.payload#{#this.customerId.toString()}\n          ce-source:\n            type: string\n            description: URI identifying the context where event happened\n            x-runtime-expression: $message.payload#{\"ShoppingCart\"}\n          ce-specversion:\n            type: string\n            description: CloudEvents specification version\n            x-runtime-expression: $message.payload#{\"1.0\"}\n          ce-type:\n            type: string\n            description: Event type\n            x-runtime-expression: $message.payload#{#this.getClass().getSimpleName()}\n          ce-time:\n            type: string\n            description: Timestamp of when the event happened\n            x-runtime-expression: $message.payload#{T(java.time.Instant).now().toString()}\n\n\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/asyncapi-shopping-cart/apis/asyncapi.yml:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-sdk/refs/heads/main/zenwave-sdk-cli/src/main/java/io/zenwave360/sdk/zdl/layouts/CleanHexagonalProjectLayout.java","originalUrl":"https://github.com/ZenWave360/zenwave-sdk/blob/main/zenwave-sdk-cli/src/main/java/io/zenwave360/sdk/zdl/layouts/CleanHexagonalProjectLayout.java","sourceUrl":"https://github.com/ZenWave360/zenwave-sdk/blob/main/zenwave-sdk-cli/src/main/java/io/zenwave360/sdk/zdl/layouts/CleanHexagonalProjectLayout.java#L3-L33","language":"java","visibleRange":"3,33","content":"/**\n * Hexagonal Architecture (also called Ports and Adapters) with a Clean separation of concerns, following Domain-Driven Design (DDD) and Event-Driven Architecture (EDA) principles.\n *\n * <pre>\n * ðŸ“¦ {{basePackage}}\n *    ðŸ“¦ adapters\n *        â””â”€ web\n *        |  â””â”€ RestControllers (spring mvc)\n *        â””â”€ events\n *           â””â”€ *EventListeners (spring-cloud-streams)\n *    ðŸ“¦ core\n *        â”œâ”€ ðŸ“¦ domain\n *        |     â””â”€ (entities and aggregates)\n *        â”œâ”€ ðŸ“¦ inbound\n *        |     â”œâ”€ dtos/\n *        |     â””â”€ ServiceInterface (inbound service interface)\n *        â”œâ”€ ðŸ“¦ outbound\n *        |     â”œâ”€ mongodb\n *        |     |  â””â”€ *RepositoryInterface (spring-data interface)\n *        |     â””â”€ jpa\n *        |        â””â”€ *RepositoryInterface (spring-data interface)\n *        â””â”€ ðŸ“¦ implementation\n *              â”œâ”€ mappers/\n *              â””â”€ ServiceImplementation (inbound service implementation)\n *    ðŸ“¦ infrastructure\n *      â”œâ”€ mongodb\n *      |  â””â”€ CustomRepositoryImpl (spring-data custom implementation)\n *      â””â”€ jpa\n *         â””â”€ CustomRepositoryImpl (spring-data custom implementation)\n * </pre>\n */","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-sdk/refs/heads/main/zenwave-sdk-cli/src/main/java/io/zenwave360/sdk/zdl/layouts/CleanHexagonalProjectLayout.java:3,33"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/zenwave-scripts.zw","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/zenwave-scripts.zw","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/zenwave-scripts.zw","language":"zdl","visibleRange":null,"content":"config {\n    title \"Clinical Tool Backend\"\n    basePackage \"io.zenwave360.example.clinicaltool\"\n    persistence jpa\n    databaseType postgresql\n\n    layout.commonPackage \"{{basePackage}}.common\"\n    layout.infrastructureRepositoryCommonPackage \"{{commonPackage}}\"\n    layout.adaptersWebMappersCommonPackage \"{{commonPackage}}.mappers\"\n    layout.coreImplementationMappersCommonPackage \"{{commonPackage}}.mappers\"\n\n    // these should match the values of openapi-generator-maven-plugin\n    openApiModelNameSuffix DTO\n    // used by ZDLToOpenAPIPlugin\n    idType integer\n    idTypeFormat int64\n\n    // BackendApplicationDefaultPlugin\n    useLombok true\n    useSpringModulith true\n\n    haltOnFailFormatting false\n\n\n    plugins {\n\n        ZDLToOpenAPIPlugin {\n            title \"Clinical Tool - WebApp API\"\n            zdlFiles \"models/clinical.zdl\"\n            targetFile \"src/main/resources/public/apis/webapp-openapi.yml\"\n            operationIdsToExclude \"getPatientProfileById\"\n        }\n\n        ZDLToOpenAPIPlugin {\n            title \"Clinical Tool - Mobile API\"\n            zdlFiles \"models/clinical.zdl\"\n            targetFile \"src/main/resources/public/apis/mobile-openapi.yml\"\n            operationIdsToInclude \"getPatientProfileById,requestOptOut\"\n        }\n\n        ZDLToOpenAPIPlugin {\n            title \"Surveys - Backoffice API\"\n            zdlFile \"models/surveys.zdl\"\n            targetFile \"src/main/resources/public/apis/surveys-backoffice-openapi.yml\"\n            operationIdsToExclude \"getSurveyAndQuestionsForPatient,answerSurvey,updateSurveyAnswers,getSurveyAnswers\"\n        }\n\n        ZDLToOpenAPIPlugin {\n            title \"Surveys - Public API\"\n            zdlFile \"models/surveys.zdl\"\n            targetFile \"src/main/resources/public/apis/surveys-public-openapi.yml\"\n            operationIdsToInclude \"getSurveyAndQuestionsForPatient,answerSurvey,updateSurveyAnswers,getSurveyAnswers\"\n        }\n\n        ZDLToOpenAPIPlugin {\n            title \"Documents API\"\n            zdlFile \"models/documents.zdl\"\n//            openapiOverlayFiles \"src/main/resources/public/apis/documents-openapi-overlay.yml\"\n            targetFile \"src/main/resources/public/apis/documents-openapi.yml\"\n        }\n\n        ZDLToOpenAPIPlugin {\n            title \"Master Data API\"\n            zdlFiles \"models/masterdata.zdl\"\n            targetFile \"src/main/resources/public/apis/masterdata-openapi.yml\"\n        }\n\n        ZDLToOpenAPIPlugin {\n            title \"Terms And Conditions API\"\n            zdlFiles \"models/terms-and-conditions.zdl\"\n            targetFile \"src/main/resources/public/apis/terms-and-conditions-openapi.yml\"\n        }\n\n        ZDLToOpenAPIPlugin {\n            title \"User Managament API\"\n            zdlFiles \"models/users.zdl\"\n            openapiOverlayFiles \"src/main/resources/public/apis/user-additionalproperties-overlay.yml\"\n            targetFile \"src/main/resources/public/apis/users-openapi.yml\"\n        }\n\n\n        //-----------------------------\n\n        BackendApplicationDefaultPlugin {\n            zdlFile \"models/clinical.zdl\"\n            // --force // overwite all files\n        }\n\n        BackendApplicationDefaultPlugin {\n            zdlFile \"models/surveys.zdl\"\n            // --force // overwite all files\n        }\n\n        BackendApplicationDefaultPlugin {\n            zdlFile \"models/documents.zdl\"\n             // --force // overwite all files\n        }\n\n        BackendApplicationDefaultPlugin {\n            zdlFile \"models/masterdata.zdl\"\n            // --force // overwite all files\n        }\n\n        BackendApplicationDefaultPlugin {\n            zdlFile \"models/terms-and-conditions.zdl\"\n            // --force // overwite all files\n        }\n\n        BackendApplicationDefaultPlugin {\n            zdlFile \"models/users.zdl\"\n            // --force // overwite all files\n        }\n\n\n        //-----------------------------\n\n        OpenAPIControllersPlugin {\n            zdlFiles \"models/clinical.zdl\"\n            openapiFile \"src/main/resources/public/apis/webapp-openapi.yml\"\n\n            layout.customWebModule \"{{basePackage}}.modules.web.webapp\"\n            layout.adaptersWebPackage \"{{layout.customWebModule}}\"\n            layout.openApiApiPackage \"{{layout.customWebModule}}\"\n            layout.openApiModelPackage \"{{layout.customWebModule}}.dtos\"\n        }\n\n        OpenAPIControllersPlugin {\n            zdlFiles \"models/clinical.zdl\"\n            openapiFile \"src/main/resources/public/apis/mobile-openapi.yml\"\n\n            layout.customWebModule \"{{basePackage}}.modules.web.mobile\"\n            layout.adaptersWebPackage \"{{layout.customWebModule}}\"\n            layout.openApiApiPackage \"{{layout.customWebModule}}\"\n            layout.openApiModelPackage \"{{layout.customWebModule}}.dtos\"\n        }\n\n        OpenAPIControllersPlugin {\n            zdlFiles \"models/surveys.zdl\"\n            openapiFile \"src/main/resources/public/apis/surveys-backoffice-openapi.yml\"\n        }\n\n        OpenAPIControllersPlugin {\n            zdlFiles \"models/surveys.zdl\"\n            openapiFile \"src/main/resources/public/apis/surveys-public-openapi.yml\"\n        }\n\n        OpenAPIControllersPlugin {\n            zdlFiles \"models/documents.zdl\"\n            openapiFile \"src/main/resources/public/apis/documents-openapi.yml\"\n        }\n\n        OpenAPIControllersPlugin {\n            zdlFiles \"models/masterdata.zdl\"\n            openapiFile \"src/main/resources/public/apis/masterdata-openapi.yml\"\n        }\n\n        OpenAPIControllersPlugin {\n            zdlFiles \"models/terms-and-conditions.zdl\"\n            openapiFile \"src/main/resources/public/apis/terms-and-conditions-openapi.yml\"\n        }\n\n        OpenAPIControllersPlugin {\n            zdlFiles \"models/users.zdl\"\n            openapiFile \"src/main/resources/public/apis/users-openapi.yml\"\n        }\n\n        //-----------------------------\n\n        SpringWebTestClientPlugin {\n            zdlFiles \"models/surveys.zdl\"\n            openapiFile \"src/main/resources/public/apis/surveys-backoffice-openapi.yml\"\n        }\n\n        SpringWebTestClientPlugin {\n            zdlFiles \"models/surveys.zdl\"\n            openapiFile \"src/main/resources/public/apis/surveys-public-openapi.yml\"\n        }\n\n        SpringWebTestClientPlugin {\n            zdlFiles \"models/documents.zdl\"\n            openapiFile \"src/main/resources/public/apis/documents-openapi.yml\"\n        }\n\n        SpringWebTestClientPlugin {\n            zdlFiles \"models/masterdata.zdl\"\n            openapiFile \"src/main/resources/public/apis/masterdata-openapi.yml\"\n        }\n\n        SpringWebTestClientPlugin {\n            zdlFiles \"models/terms-and-conditions.zdl\"\n            openapiFile \"src/main/resources/public/apis/terms-and-conditions-openapi.yml\"\n        }\n\n        //-----------------------------\n\n        OpenAPIKaratePlugin {\n            basePackage \"{{basePackage}}.adapters.web\"\n            testsPackage \"karate.webapp\"\n            apiFile \"src/main/resources/public/apis/webapp-openapi.yml\"\n        }\n        OpenAPIKaratePlugin {\n            basePackage \"{{basePackage}}.adapters.web\"\n            testsPackage \"karate.mobile\"\n            apiFile \"src/main/resources/public/apis/mobile-openapi.yml\"\n        }\n        OpenAPIKaratePlugin {\n            basePackage \"{{basePackage}}.adapters.web\"\n            testsPackage \"karate.surveys.backoffice\"\n            apiFile \"src/main/resources/public/apis/surveys-backoffice-openapi.yml\"\n        }\n        OpenAPIKaratePlugin {\n            basePackage \"{{basePackage}}.adapters.web\"\n            testsPackage \"karate.surveys.api\"\n            apiFile \"src/main/resources/public/apis/surveys-public-openapi.yml\"\n        }\n\n    }\n}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/zenwave-scripts.zw:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/zenwave-jpa-baseline/zenwave-scripts.zw","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/zenwave-jpa-baseline/zenwave-scripts.zw","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/zenwave-jpa-baseline/zenwave-scripts.zw","language":"zdl","visibleRange":null,"content":"// This is a ZenWave Scripts File (.zw)\n//\n// This file defines ZenWave SDK plugins and their configurations for SDK execution and code generation.\n//\n// Usage:\n// - Execute plugins using the Play button in IntelliJ IDEA ZenWave Model Editor\n// - Or Copy the generated command line hovering the play button on each plugin\n// - Or Run commands directly from terminal using the generated command line\n//\n// Plugin: https://plugins.jetbrains.com/plugin/22858-zenwave-domain-model-editor-for-zdl\n//\n// There are global properties that apply to all plugins, and plugin specific properties.\n// Configuration Precedence (highest to lowest):\n// 1. Command line arguments always have the highest precedence\n// 2. Plugin-specific properties (defined in this file)\n// 3. Global properties (defined in this file)\n// 4. Properties from referenced .zdl files\n//\nconfig {\n\n    // This is a global configuration that applies to all plugins.\n    zdlFile \"zenwave-model.zdl\"\n\n\n    // these should match the values of openapi-generator-maven-plugin\n    // used by the OpenAPIControllersPlugin and SpringWebTestClientPlugin\n    openApiApiPackage \"{{basePackage}}.adapters.web\"\n    openApiModelPackage \"{{basePackage}}.adapters.web.model\"\n    openApiModelNameSuffix DTO\n\n\n    plugins {\n        /** Generates an OpenAPI 3.0 specification from the ZDL model. */\n        ZDLToOpenAPIPlugin {\n            idType integer\n            idTypeFormat int64\n            targetFile \"src/main/resources/public/apis/openapi.yml\"\n        }\n        /** Generates an AsyncAPI 3.0 specification from the ZDL model. */\n        ZDLToAsyncAPIPlugin {\n            asyncapiVersion v3\n            idType integer\n            idTypeFormat int64\n            targetFile \"src/main/resources/public/apis/asyncapi.yml\"\n            includeCloudEventsHeaders true\n            includeKafkaCommonHeaders true\n        }\n        /** Generates a Backend Application from the ZDL model. (Headless Core) */\n        BackendApplicationDefaultPlugin {\n            useLombok false\n            useJSpecify true\n            includeEmitEventsImplementation true\n            // --force // overwite all files\n        }\n        /** Generates Spring MVC controllers from the OpenAPI specification (Web Adapters). */\n        OpenAPIControllersPlugin {\n            openapiFile \"src/main/resources/public/apis/openapi.yml\"\n        }\n\n        SpringWebTestClientPlugin {\n            openapiFile \"src/main/resources/public/apis/openapi.yml\"\n        }\n\n        SpringWebTestClientPlugin {\n            openapiFile \"src/main/resources/public/apis/openapi.yml\"\n            groupBy businessFlow\n            businessFlowTestName CreateUpdateDeleteCustomerIntegrationTest\n            operationIds createCustomer,updateCustomer,deleteCustomer,getCustomer\n        }\n\n        OpenAPIKaratePlugin {\n            openapiFile \"src/main/resources/public/apis/openapi.yml\"\n        }\n\n        OpenAPIKaratePlugin {\n            openapiFile \"src/main/resources/public/apis/openapi.yml\"\n            groupBy businessFlow\n            businessFlowTestName CreateUpdateDeleteCustomerKarateTest\n            operationIds createCustomer,updateCustomer,deleteCustomer,getCustomer\n        }\n    }\n}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/zenwave-jpa-baseline/zenwave-scripts.zw:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-model.zdl","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-model.zdl","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-model.zdl","language":"zdl","visibleRange":null,"content":"/**\n * Sample ZenWave Model Definition.\n * Use zenwave-scripts.zdl to generate your code from this model definition.\n */\nconfig {\n    title \"ZenWave Customer JPA Example\"\n    basePackage \"io.zenwave360.example\"\n    persistence jpa\n    databaseType postgresql\n\n    layout CleanHexagonalProjectLayout\n\n    // these should match the values of openapi-generator-maven-plugin\n    // used by the OpenAPIControllersPlugin and SpringWebTestClientPlugin\n    openApiApiPackage \"{{basePackage}}.adapters.web\"\n    openApiModelPackage \"{{basePackage}}.adapters.web.model\"\n    openApiModelNameSuffix DTO\n}\n\n/**\n* Customer entity\n*/\n@aggregate\n@auditing // adds auditing fields to the entity\nentity Customer {\n    name String required maxlength(254) /** Customer name */\n    email String required maxlength(254) pattern(/^[^@]+@[^\\\\s@]+\\\\.[^\\\\s@]+$/)\n    /** Customer Addresses can be stored in a JSON column in the database. */\n    @json addresses Address[] minlength(1) maxlength(5) {\n        street String required maxlength(254)\n        city String required maxlength(254)\n    }\n}\n\n@auditing\nentity PaymentMethod {\n    type PaymentMethodType required\n    cardNumber String required\n}\n\nenum PaymentMethodType { VISA(1), MASTERCARD(2) }\n\nrelationship OneToMany {\n    Customer{paymentMethods required maxlength(3)} to PaymentMethod{customer required}\n}\n\n// you can create 'inputs' as dtos for your service methods, or use entities directly\ninput CustomerSearchCriteria {\n    name String\n    email String\n    city String\n    state String\n}\n\n@rest(\"/customers\")\nservice CustomerService for (Customer) {\n    @post\n    createCustomer(Customer) Customer withEvents CustomerEvent\n    @get(\"/{id}\")\n    getCustomer(id) Customer?\n    @put(\"/{id}\")\n    updateCustomer(id, Customer) Customer? withEvents CustomerEvent\n    @delete(\"/{id}\")\n    deleteCustomer(id) withEvents CustomerDeletedEvent\n    @post(path: \"/search\", status: 200)\n    @paginated\n    searchCustomers(CustomerSearchCriteria) Customer[]\n}\n\n@copy(Customer)\n@asyncapi({ channel: \"CustomersChannel\", topic: \"customers\" })\nevent CustomerEvent {\n    id Long required\n    version Integer\n    // all fields from Customer are copied here, but not relationships\n    paymentMethods PaymentMethod[]\n}\n\n@asyncapi({ channel: \"CustomersChannel\", topic: \"customers\" })\nevent CustomerDeletedEvent {\n    id Long required\n}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-model.zdl:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/kustomer-address-jpa/zenwave-model.zdl","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/kustomer-address-jpa/zenwave-model.zdl","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/kustomer-address-jpa/zenwave-model.zdl","language":"zdl","visibleRange":null,"content":"/**\n * Sample ZenWave Model Definition.\n * Use zenwave-scripts.zdl to generate your code from this model definition.\n */\nconfig {\n    title \"Project Name\"\n    basePackage \"io.zenwave360.examples.kotlin\"\n    persistence jpa\n    databaseType postgresql\n\n    // you can choose: DefaultProjectLayout, CleanHexagonalProjectLayout, LayeredProjectLayout, SimpleDomainProjectLayout, HexagonalProjectLayout, CleanArchitectureProjectLayout\n    layout LayeredProjectLayout\n\n    // these should match the values of openapi-generator-maven-plugin\n    // used by the OpenAPIControllersPlugin and SpringWebTestClientPlugin\n    layout.openApiApiPackage \"{{basePackage}}.web\"\n    layout.openApiModelPackage \"{{basePackage}}.web.dtos\"\n    openApiModelNameSuffix DTO\n}\n\n/**\n* Customer entity\n*/\n@aggregate\n@auditing // adds auditing fields to the entity\nentity Customer {\n    name String required maxlength(254) /** Customer name */\n    email String required maxlength(254) pattern(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/)\n    /** Customer Addresses can be stored in a JSON column in the database. */\n    @json addresses Address[] minlength(1) maxlength(5) {\n        street String required maxlength(254)\n        city String required maxlength(254)\n    }\n}\n\n@auditing\nentity PaymentMethod {\n    type PaymentMethodType required\n    cardNumber String required\n}\n\nenum PaymentMethodType { VISA(1), MASTERCARD(2) }\n\nrelationship OneToMany {\n    @eager\n    Customer{paymentMethods required maxlength(3)} to PaymentMethod{customer required}\n}\n\n// you can create 'inputs' as dtos for your service methods, or use entities directly\ninput CustomerSearchCriteria {\n    name String\n    email String\n    city String\n    state String\n}\n\n@rest(\"/customers\")\nservice CustomerService for (Customer) {\n    @post\n    createCustomer(Customer) Customer withEvents CustomerEvent\n    @get(\"/{customerId}\")\n    getCustomer(id) Customer?\n    @put(\"/{customerId}\")\n    updateCustomer(id, Customer) Customer? withEvents CustomerEvent\n    @delete(\"/{customerId}\")\n    deleteCustomer(id) withEvents CustomerEvent\n    @post({path: \"/search\", status: 200}) @paginated\n    searchCustomers(CustomerSearchCriteria) Customer[]\n}\n\n@copy(Customer)\n@asyncapi({ channel: \"CustomersChannel\", topic: \"customers\" })\nevent CustomerEvent {\n    id Long\n    version Integer\n    // all fields from Customer are copied here, but not relationships\n    paymentMethods PaymentMethod[]\n}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/kustomer-address-jpa/zenwave-model.zdl:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml","language":"yaml","visibleRange":null,"content":"openapi: 3.0.1\ninfo:\n  title: \"ZenWave Customer JPA Example\"\n  version: 0.0.1\n  description: \"ZenWave Customer JPA Example\"\n  contact:\n    email: email@domain.com\nservers:\n  - description: localhost\n    url: http://localhost:8080/api\n  - description: custom\n    url: \"{protocol}://{server}/{path}\"\n    variables:\n      protocol:\n        enum: ['http', 'https']\n        default: 'http'\n      server:\n        default: 'localhost:8080'\n      path:\n        default: 'api'\ntags:\n  - name: \"Default\"\n  - name: \"Customer\"\n\n\npaths:\n  /customers:\n    post:\n      operationId: createCustomer\n      description: \"createCustomer\"\n      tags: [Customer]\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/Customer\"\n      responses:\n        \"201\":\n          description: \"OK\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Customer\"\n  /customers/{id}:\n    get:\n      operationId: getCustomer\n      description: \"getCustomer\"\n      tags: [Customer]\n      parameters:\n        - name: \"id\"\n          in: path\n          required: true\n          schema:\n            type: integer\n            format: int64\n      responses:\n        \"200\":\n          description: \"OK\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Customer\"\n    put:\n      operationId: updateCustomer\n      description: \"updateCustomer\"\n      tags: [Customer]\n      parameters:\n        - name: \"id\"\n          in: path\n          required: true\n          schema:\n            type: integer\n            format: int64\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/Customer\"\n      responses:\n        \"200\":\n          description: \"OK\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Customer\"\n    delete:\n      operationId: deleteCustomer\n      description: \"deleteCustomer\"\n      tags: [Customer]\n      parameters:\n        - name: \"id\"\n          in: path\n          required: true\n          schema:\n            type: integer\n            format: int64\n      responses:\n        \"204\":\n          description: \"OK\"\n  /customers/search:\n    post:\n      operationId: searchCustomers\n      description: \"searchCustomers\"\n      tags: [Customer]\n      parameters:\n        - $ref: \"#/components/parameters/page\"\n        - $ref: \"#/components/parameters/limit\"\n        - $ref: \"#/components/parameters/sort\"\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/CustomerSearchCriteria\"\n      responses:\n        \"200\":\n          description: \"OK\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/CustomerPaginated\"\n\ncomponents:\n  schemas:\n    Customer:\n      type: \"object\"\n      x-business-entity: \"Customer\"\n      required:\n      - \"name\"\n      - \"email\"\n      properties:\n        id:\n          type: \"integer\"\n          format: \"int64\"\n          readOnly: true\n        version:\n          type: \"integer\"\n          default: \"null\"\n          description: \"Version of the document (required in PUT for concurrency control,\\\n            \\ should be null in POSTs).\"\n        name:\n          type: \"string\"\n          maxLength: 254\n          description: \"Customer name\"\n        email:\n          type: \"string\"\n          maxLength: 254\n          pattern: \"^[^@]+@[^\\\\s@]+\\\\.[^\\\\s@]+$\"\n          description: \"\"\n        addresses:\n          type: \"array\"\n          items:\n            $ref: \"#/components/schemas/Address\"\n            minLength: 1\n            maxLength: 5\n        paymentMethods:\n          type: \"array\"\n          items:\n            $ref: \"#/components/schemas/PaymentMethod\"\n    CustomerPaginated:\n      allOf:\n      - $ref: \"#/components/schemas/Page\"\n      - properties:\n          content:\n            type: \"array\"\n            items:\n              $ref: \"#/components/schemas/Customer\"\n    CustomerSearchCriteria:\n      type: \"object\"\n      x-business-entity: \"CustomerSearchCriteria\"\n      properties:\n        name:\n          type: \"string\"\n        email:\n          type: \"string\"\n        city:\n          type: \"string\"\n        state:\n          type: \"string\"\n    PaymentMethodType:\n      type: \"string\"\n      x-business-entity: \"PaymentMethodType\"\n      enum:\n      - \"VISA\"\n      - \"MASTERCARD\"\n    Address:\n      type: \"object\"\n      x-business-entity: \"Address\"\n      required:\n      - \"street\"\n      - \"city\"\n      properties:\n        street:\n          type: \"string\"\n          maxLength: 254\n        city:\n          type: \"string\"\n          maxLength: 254\n    PaymentMethod:\n      type: \"object\"\n      x-business-entity: \"PaymentMethod\"\n      required:\n      - \"type\"\n      - \"cardNumber\"\n      properties:\n        id:\n          type: \"integer\"\n          format: \"int64\"\n          readOnly: true\n        version:\n          type: \"integer\"\n          default: \"null\"\n          description: \"Version of the document (required in PUT for concurrency control,\\\n            \\ should be null in POSTs).\"\n        type:\n          $ref: \"#/components/schemas/PaymentMethodType\"\n        cardNumber:\n          type: \"string\"\n\n    Page:\n      type: object\n      required:\n        - \"content\"\n        - \"totalElements\"\n        - \"totalPages\"\n        - \"size\"\n        - \"number\"\n      properties:\n        number:\n          type: integer\n          minimum: 0\n        numberOfElements:\n          type: integer\n          minimum: 0\n        size:\n          type: integer\n          minimum: 0\n          maximum: 200\n          multipleOf: 25\n        totalElements:\n          type: integer\n        totalPages:\n          type: integer\n\n  parameters:\n    page:\n      name: page\n      in: query\n      description: The number of results page\n      schema:\n        type: integer\n        format: int32\n        default: 0\n    limit:\n      name: limit\n      in: query\n      description: The number of results in a single page\n      schema:\n        type: integer\n        format: int32\n        default: 20\n    sort:\n      name: sort\n      in: query\n      description: Sort results by field name and direction (asc or desc)\n      schema:\n        type: array\n        items:\n          type: string\n\n  securitySchemes:\n    basicAuth:     # <-- arbitrary name for the security scheme\n      type: http\n      scheme: basic\n    bearerAuth:     # <-- arbitrary name for the security scheme\n      type: http\n      scheme: bearer\n      bearerFormat: JWT    # optional, arbitrary value for documentation purposes\nsecurity:\n  - basicAuth: []  # <-- use the same name here\n  - bearerAuth: []  # <-- use the same name here\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/order-fulfillment-kotlin/src/main/resources/public/apis/openapi.yml","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/order-fulfillment-kotlin/src/main/resources/public/apis/openapi.yml","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/order-fulfillment-kotlin/src/main/resources/public/apis/openapi.yml","language":"yaml","visibleRange":null,"content":"openapi: 3.0.1\ninfo:\n  title: \"Order Fulfillment DDD Example\"\n  version: 0.0.1\n  description: \"Order Fulfillment DDD Example\"\n  contact:\n    email: email@domain.com\nservers:\n  - description: localhost\n    url: http://localhost:8080/api\n  - description: custom\n    url: \"{protocol}://{server}/{path}\"\n    variables:\n      protocol:\n        enum: ['http', 'https']\n        default: 'http'\n      server:\n        default: 'localhost:8080'\n      path:\n        default: 'api'\ntags:\n  - name: \"Default\"\n  - name: \"Order\"\n\n\npaths:\n  /orders:\n    post:\n      operationId: placeOrder\n      description: \"Customer places an order\"\n      tags: [Order]\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/PlaceOrderInput\"\n      responses:\n        \"201\":\n          description: \"OK\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Order\"\n  /orders/{orderNumber}/pay:\n    post:\n      operationId: payOrder\n      description: \"Order is shipped\"\n      tags: [Order]\n      parameters:\n        - name: \"orderNumber\"\n          in: path\n          required: true\n          schema:\n            type: string\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/PayOrderInput\"\n      responses:\n        \"201\":\n          description: \"OK\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Order\"\n  /orders/{orderNumber}/ship:\n    post:\n      operationId: shipOrder\n      description: \"Order is cancelled\"\n      tags: [Order]\n      parameters:\n        - name: \"orderNumber\"\n          in: path\n          required: true\n          schema:\n            type: string\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/ShipOrderInput\"\n      responses:\n        \"201\":\n          description: \"OK\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Order\"\n  /orders/{orderNumber}/cancel:\n    post:\n      operationId: cancelOrder\n      description: \"Query order\"\n      tags: [Order]\n      parameters:\n        - name: \"orderNumber\"\n          in: path\n          required: true\n          schema:\n            type: string\n      responses:\n        \"201\":\n          description: \"OK\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Order\"\n  /orders/{orderNumber}:\n    get:\n      operationId: getOrder\n      description: \"getOrder\"\n      tags: [Order]\n      parameters:\n        - name: \"orderNumber\"\n          in: path\n          required: true\n          schema:\n            type: string\n      responses:\n        \"200\":\n          description: \"OK\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Order\"\n\ncomponents:\n  schemas:\n    PlaceOrderInput:\n      type: \"object\"\n      x-business-entity: \"PlaceOrderInput\"\n      required:\n      - \"currency\"\n      properties:\n        items:\n          type: \"array\"\n          items:\n            $ref: \"#/components/schemas/OrderItem\"\n            minLength: 1\n        currency:\n          type: \"string\"\n          maxLength: 3\n    PayOrderInput:\n      type: \"object\"\n      x-business-entity: \"PayOrderInput\"\n      required:\n      - \"paymentReference\"\n      properties:\n        paymentReference:\n          type: \"string\"\n    ShipOrderInput:\n      type: \"object\"\n      x-business-entity: \"ShipOrderInput\"\n      required:\n      - \"trackingNumber\"\n      properties:\n        trackingNumber:\n          type: \"string\"\n    Order:\n      type: \"object\"\n      x-business-entity: \"Order\"\n      required:\n      - \"orderNumber\"\n      - \"status\"\n      - \"totalAmount\"\n      - \"currency\"\n      properties:\n        id:\n          type: \"integer\"\n          format: \"int64\"\n          readOnly: true\n        version:\n          type: \"integer\"\n          default: \"null\"\n          description: \"Version of the document (required in PUT for concurrency control,\\\n            \\ should be null in POSTs).\"\n        orderNumber:\n          type: \"string\"\n          maxLength: 36\n          description: \"prefix doc comment\"\n        status:\n          $ref: \"#/components/schemas/OrderStatus\"\n        totalAmount:\n          type: \"number\"\n          format: \"double\"\n        currency:\n          type: \"string\"\n          maxLength: 3\n        paymentReference:\n          type: \"string\"\n        trackingNumber:\n          type: \"string\"\n          description: \"Order lines stored as JSON for simplicity in the demo\"\n        items:\n          type: \"array\"\n          items:\n            $ref: \"#/components/schemas/OrderItem\"\n            minLength: 1\n    OrderStatus:\n      type: \"string\"\n      x-business-entity: \"OrderStatus\"\n      enum:\n      - \"DRAFT\"\n      - \"PLACED\"\n      - \"PAID\"\n      - \"SHIPPED\"\n      - \"CANCELLED\"\n    OrderItem:\n      type: \"object\"\n      x-business-entity: \"OrderItem\"\n      required:\n      - \"productId\"\n      - \"productName\"\n      - \"quantity\"\n      - \"unitPrice\"\n      properties:\n        productId:\n          type: \"string\"\n        productName:\n          type: \"string\"\n          maxLength: 254\n        quantity:\n          type: \"integer\"\n          format: \"int32\"\n        unitPrice:\n          type: \"number\"\n          format: \"double\"\n\n    Page:\n      type: object\n      required:\n        - \"content\"\n        - \"totalElements\"\n        - \"totalPages\"\n        - \"size\"\n        - \"number\"\n      properties:\n        number:\n          type: integer\n          minimum: 0\n        numberOfElements:\n          type: integer\n          minimum: 0\n        size:\n          type: integer\n          minimum: 0\n          maximum: 200\n          multipleOf: 25\n        totalElements:\n          type: integer\n        totalPages:\n          type: integer\n\n  parameters:\n    page:\n      name: page\n      in: query\n      description: The number of results page\n      schema:\n        type: integer\n        format: int32\n        default: 0\n    limit:\n      name: limit\n      in: query\n      description: The number of results in a single page\n      schema:\n        type: integer\n        format: int32\n        default: 20\n    sort:\n      name: sort\n      in: query\n      description: Sort results by field name and direction (asc or desc)\n      schema:\n        type: array\n        items:\n          type: string\n\n  securitySchemes:\n    basicAuth:     # <-- arbitrary name for the security scheme\n      type: http\n      scheme: basic\n    bearerAuth:     # <-- arbitrary name for the security scheme\n      type: http\n      scheme: bearer\n      bearerFormat: JWT    # optional, arbitrary value for documentation purposes\nsecurity:\n  - basicAuth: []  # <-- use the same name here\n  - bearerAuth: []  # <-- use the same name here\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/order-fulfillment-kotlin/src/main/resources/public/apis/openapi.yml:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/surveys-public-openapi.yml","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/surveys-public-openapi.yml","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/surveys-public-openapi.yml#L322-L324","language":"text","visibleRange":"322,324","content":"    SurveyAnswersPatch:\n      allOf:\n      - $ref: \"#/components/schemas/SurveyAnswers\"","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/surveys-public-openapi.yml:322,324"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-sdk/refs/heads/main/zenwave-sdk-cli/src/main/java/io/zenwave360/sdk/zdl/layouts/LayeredProjectLayout.java","originalUrl":"https://github.com/ZenWave360/zenwave-sdk/blob/main/zenwave-sdk-cli/src/main/java/io/zenwave360/sdk/zdl/layouts/LayeredProjectLayout.java","sourceUrl":"https://github.com/ZenWave360/zenwave-sdk/blob/main/zenwave-sdk-cli/src/main/java/io/zenwave360/sdk/zdl/layouts/LayeredProjectLayout.java#L3-L33","language":"java","visibleRange":"3,33","content":"/**\n * Simple domain project layout.\n *\n * <pre>\n * ðŸ“¦ {{basePackage}}                            # Root package\n *    ðŸ“¦ config                                  # Spring Boot configuration, security, etc.\n *    ðŸ“¦ domain                                  # Domain Layer (Business Entities and Events)\n *        â”œâ”€ *Entities\n *        â””â”€ events/\n *           â””â”€ *DomainEvents\n *    ðŸ“¦ repository                              # Repository Layer (Persistence and Data Access)\n *        â”œâ”€ {{persistence}}/\n *        |   â”œâ”€ *RepositoryInterface            # Persistence interface (Spring Data, etc.)\n *        |   â””â”€ *RepositoryImpl                 # Repository implementation\n *    ðŸ“¦ events                                  # Events Layer (Internal and Async API Events)\n *        â”œâ”€ *EventListeners                     # Event listeners\n *    ðŸ“¦ commands                                # Command Layer (Command Handlers)\n *        â”œâ”€ *CommandHandlers                   # Command handlers (e.g., CQRS commands)\n *    ðŸ“¦ service                                 # Service Layer (Business Logic and DTOs)\n *        â”œâ”€ dtos/\n *        |   â””â”€ *DTOs                           # Data Transfer Objects\n *        â”œâ”€ impl/\n *        |   â””â”€ *ServiceImplementation          # Service implementations\n *        â””â”€ impl/mappers/\n *            â””â”€ *Mappers                        # Object mappers for transformations\n *    ðŸ“¦ web                                     # Web Layer (Controllers and API)\n *        â”œâ”€ *RestControllers                   # REST controllers (Spring MVC, etc.)\n *        â””â”€ mappers/\n *           â””â”€ *WebMappers                     # Mappers for web layer transformations\n * </pre>\n */","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-sdk/refs/heads/main/zenwave-sdk-cli/src/main/java/io/zenwave360/sdk/zdl/layouts/LayeredProjectLayout.java:3,33"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/asyncapi-shopping-cart/apis/avro/ShoppingCartCreated.avsc","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/asyncapi-shopping-cart/apis/avro/ShoppingCartCreated.avsc","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/asyncapi-shopping-cart/apis/avro/ShoppingCartCreated.avsc","language":"json","visibleRange":null,"content":"{\n  \"type\" : \"record\",\n  \"name\" : \"ShoppingCartCreated\",\n  \"namespace\" : \"io.example.asyncapi.shoppingcart.events.avro\",\n  \"fields\" : [ {\n    \"name\" : \"customerId\",\n    \"type\" : \"long\"\n  } ]\n}","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/asyncapi-shopping-cart/apis/avro/ShoppingCartCreated.avsc:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/zenwave-jpa-baseline/zenwave-model.zdl","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/zenwave-jpa-baseline/zenwave-model.zdl","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/zenwave-jpa-baseline/zenwave-model.zdl","language":"zdl","visibleRange":null,"content":"/**\n * Sample ZenWave Model Definition.\n *\n * This model describes a simple Customer entity with a one-to-many relationship with PaymentMethod.\n *\n * Use zenwave-scripts.zw to generate your code from this model definition.\n */\nconfig {\n    title \"ZenWave SDK - JPA BaseLine\"\n    basePackage \"io.zenwave360.example\"\n    persistence jpa\n    databaseType postgresql\n\n    // you can choose: DefaultProjectLayout, LayeredProjectLayout, SimpleDomainProjectLayout\n    //                 CleanHexagonalProjectLayout, HexagonalProjectLayout, CleanArchitectureProjectLayout\n    layout LayeredProjectLayout\n\n    // these should match what you have configured in your pom.xml for asyncapi-generator-maven-plugin\n    layout.asyncApiModelPackage \"{{basePackage}}.events.dtos\"\n    layout.asyncApiProducerApiPackage \"{{basePackage}}.events\"\n    layout.asyncApiConsumerApiPackage \"{{basePackage}}.commands\"\n}\n\n/**\n* Customer entity\n*/\n@aggregate\n@auditing // adds auditing fields to the entity\nentity Customer {\n    name String required maxlength(254) /** Customer name */\n    email String required maxlength(254) pattern(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/)\n    /** Customer Addresses can be stored in a JSON column in the database. */\n    @json addresses Address[] minlength(1) maxlength(5) {\n        street String required maxlength(254)\n        city String required maxlength(254)\n    }\n}\n\n@auditing\nentity PaymentMethod {\n    type PaymentMethodType required\n    cardNumber String required\n}\n\nenum PaymentMethodType { VISA(1), MASTERCARD(2) }\n\nrelationship OneToMany {\n    @eager\n    Customer{paymentMethods required maxlength(3)} to PaymentMethod{customer required}\n}\n\n// you can create 'inputs' as dtos for your service methods, or use entities directly\ninput CustomerSearchCriteria {\n    name String\n    email String\n    city String\n    state String\n}\n\n@rest(\"/customers\")\nservice CustomerService for (Customer) {\n    @post\n    createCustomer(Customer) Customer withEvents CustomerEvent\n    @get(\"/{id}\")\n    getCustomer(id) Customer?\n    @put(\"/{id}\")\n    updateCustomer(id, Customer) Customer? withEvents CustomerEvent\n    @delete(\"/{id}\")\n    deleteCustomer(id) withEvents CustomerEvent\n    @post(\"/search\")\n    @paginated\n    searchCustomers(CustomerSearchCriteria) Customer[]\n}\n\n@copy(Customer)\n@asyncapi({ channel: \"CustomersChannel\", topic: \"customers\" })\nevent CustomerEvent {\n    id Long\n    version Integer\n    // all fields from Customer are copied here, but not relationships\n    paymentMethods PaymentMethod[]\n}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/zenwave-jpa-baseline/zenwave-model.zdl:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/kustomer-address-jpa/zenwave-scripts.zw","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/kustomer-address-jpa/zenwave-scripts.zw","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/kustomer-address-jpa/zenwave-scripts.zw","language":"zdl","visibleRange":null,"content":"@import(\"io.zenwave360.sdk.plugins.customizations:kotlin-backend-application:2.1.0-SNAPSHOT\")\n\nconfig {\n\n    zdlFile \"zenwave-model.zdl\"\n\n    plugins {\n\n        ZDLToOpenAPIPlugin {\n            idType integer\n            idTypeFormat int64\n            targetFile \"src/main/resources/public/apis/openapi.yml\"\n        }\n\n        ZDLToAsyncAPIPlugin {\n            asyncapiVersion v3\n            idType integer\n            idTypeFormat int64\n            targetFile \"src/main/resources/public/apis/asyncapi.yml\"\n            // includeKafkaCommonHeaders true\n        }\n\n        BackendApplicationDefaultPlugin {\n            templates \"new io.zenwave360.sdk.plugins.kotlin.BackendApplicationKotlinTemplates()\"\n            includeEmitEventsImplementation true\n            haltOnFailFormatting false\n            --force // overwite all files\n        }\n\n        OpenAPIControllersPlugin {\n            openapiFile \"src/main/resources/public/apis/openapi.yml\"\n            templates \"new io.zenwave360.sdk.plugins.kotlin.OpenAPIControllersKotlinTemplates()\"\n        }\n\n        SpringWebTestClientPlugin {\n            openapiFile \"src/main/resources/public/apis/openapi.yml\"\n            templates \"new io.zenwave360.sdk.plugins.kotlin.SpringWebTestClientKotlinTemplates()\"\n        }\n\n        SpringWebTestClientPlugin {\n            openapiFile \"src/main/resources/public/apis/openapi.yml\"\n            templates \"new io.zenwave360.sdk.plugins.kotlin.SpringWebTestClientKotlinTemplates()\"\n            groupBy businessFlow\n            businessFlowTestName CreateUpdateDeleteCustomerIntegrationTest\n            operationIds createCustomer,updateCustomer,deleteCustomer,getCustomer\n        }\n\n        OpenAPIKaratePlugin {\n            openapiFile \"src/main/resources/public/apis/openapi.yml\"\n        }\n\n        OpenAPIKaratePlugin {\n            openapiFile \"src/main/resources/public/apis/openapi.yml\"\n            groupBy businessFlow\n            businessFlowTestName CreateUpdateDeleteCustomerKarateTest\n            operationIds createCustomer,updateCustomer,deleteCustomer,getCustomer\n        }\n    }\n}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/kustomer-address-jpa/zenwave-scripts.zw:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/order-fulfillment-kotlin/src/main/resources/public/apis/asyncapi.yml","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/order-fulfillment-kotlin/src/main/resources/public/apis/asyncapi.yml","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/order-fulfillment-kotlin/src/main/resources/public/apis/asyncapi.yml","language":"yaml","visibleRange":null,"content":"asyncapi: 3.0.0\ninfo:\n  title: \"Order Fulfillment DDD Example\"\n  version: 0.0.1\n  tags:\n    - name: \"Default\"\n    - name: \"Order\"\n\ndefaultContentType: application/json\n\nchannels:\n  OrdersPlacedChannel:\n    address: \"orders.placed\"\n    messages:\n      OrderPlacedMessage:\n        $ref: '#/components/messages/OrderPlacedMessage'\n  OrdersPaidChannel:\n    address: \"orders.paid\"\n    messages:\n      OrderPaidMessage:\n        $ref: '#/components/messages/OrderPaidMessage'\n  OrdersShippedChannel:\n    address: \"orders.shipped\"\n    messages:\n      OrderShippedMessage:\n        $ref: '#/components/messages/OrderShippedMessage'\n  OrdersCancelledChannel:\n    address: \"orders.cancelled\"\n    messages:\n      OrderCancelledMessage:\n        $ref: '#/components/messages/OrderCancelledMessage'\n\noperations:\n  onOrderPlaced:\n    action: send\n    tags:\n      - name: Order\n    channel:\n      $ref: '#/channels/OrdersPlacedChannel'\n  onOrderPaid:\n    action: send\n    tags:\n      - name: Order\n    channel:\n      $ref: '#/channels/OrdersPaidChannel'\n  onOrderShipped:\n    action: send\n    tags:\n      - name: Order\n    channel:\n      $ref: '#/channels/OrdersShippedChannel'\n  onOrderCancelled:\n    action: send\n    tags:\n      - name: Order\n    channel:\n      $ref: '#/channels/OrdersCancelledChannel'\n\n\ncomponents:\n  messages:\n    OrderPlacedMessage:\n      name: OrderPlacedMessage\n      title: \"Domain Events\"\n      summary: \"Domain Events\"\n      traits:\n        - $ref: '#/components/messageTraits/CommonHeaders'\n      payload:\n        $ref: \"#/components/schemas/OrderPlaced\"\n    OrderPaidMessage:\n      name: OrderPaidMessage\n      title: \"\"\n      summary: \"\"\n      traits:\n        - $ref: '#/components/messageTraits/CommonHeaders'\n      payload:\n        $ref: \"#/components/schemas/OrderPaid\"\n    OrderShippedMessage:\n      name: OrderShippedMessage\n      title: \"\"\n      summary: \"\"\n      traits:\n        - $ref: '#/components/messageTraits/CommonHeaders'\n      payload:\n        $ref: \"#/components/schemas/OrderShipped\"\n    OrderCancelledMessage:\n      name: OrderCancelledMessage\n      title: \"\"\n      summary: \"\"\n      traits:\n        - $ref: '#/components/messageTraits/CommonHeaders'\n      payload:\n        $ref: \"#/components/schemas/OrderCancelled\"\n\n  messageTraits:\n    CommonHeaders:\n      headers:\n        type: object\n        properties:\n          kafka_messageKey:\n            type: \"integer\"\n            format: \"int64\"\n            description: This header value will be populated automatically at runtime\n            x-runtime-expression: $message.payload#/id\n          # CloudEvents Attributes\n          ce-id:\n            type: string\n            description: Unique identifier for the event\n            x-runtime-expression: $message.payload#{#this.id}\n          ce-source:\n            type: string\n            description: URI identifying the context where event happened\n            x-runtime-expression: $message.payload#{\"Order\"}\n          ce-specversion:\n            type: string\n            description: CloudEvents specification version\n            x-runtime-expression: $message.payload#{\"1.0\"}\n          ce-type:\n            type: string\n            description: Event type\n            x-runtime-expression: $message.payload#{#this.getClass().getSimpleName()}\n          ce-time:\n            type: string\n            description: Timestamp of when the event happened\n            x-runtime-expression: $message.payload#{T(java.time.Instant).now().toString()}\n\n  schemas:\n    OrderPlaced:\n      type: \"object\"\n      x-business-entity: \"OrderPlaced\"\n      required:\n      - \"orderNumber\"\n      - \"status\"\n      - \"totalAmount\"\n      - \"currency\"\n      properties:\n        orderNumber:\n          type: \"string\"\n          maxLength: 36\n          description: \"prefix doc comment\"\n        status:\n          $ref: \"#/components/schemas/OrderStatus\"\n        totalAmount:\n          type: \"number\"\n          format: \"double\"\n        currency:\n          type: \"string\"\n          maxLength: 3\n        paymentReference:\n          type: \"string\"\n        trackingNumber:\n          type: \"string\"\n          description: \"Order lines stored as JSON for simplicity in the demo\"\n        items:\n          type: \"array\"\n          items:\n            $ref: \"#/components/schemas/OrderItem\"\n            minLength: 1\n        id:\n          type: \"integer\"\n          format: \"int64\"\n        version:\n          type: \"integer\"\n          format: \"int32\"\n    OrderPaid:\n      type: \"object\"\n      x-business-entity: \"OrderPaid\"\n      required:\n      - \"orderNumber\"\n      - \"status\"\n      - \"totalAmount\"\n      - \"currency\"\n      properties:\n        orderNumber:\n          type: \"string\"\n          maxLength: 36\n          description: \"prefix doc comment\"\n        status:\n          $ref: \"#/components/schemas/OrderStatus\"\n        totalAmount:\n          type: \"number\"\n          format: \"double\"\n        currency:\n          type: \"string\"\n          maxLength: 3\n        paymentReference:\n          type: \"string\"\n        trackingNumber:\n          type: \"string\"\n          description: \"Order lines stored as JSON for simplicity in the demo\"\n        items:\n          type: \"array\"\n          items:\n            $ref: \"#/components/schemas/OrderItem\"\n            minLength: 1\n        id:\n          type: \"integer\"\n          format: \"int64\"\n        version:\n          type: \"integer\"\n          format: \"int32\"\n    OrderShipped:\n      type: \"object\"\n      x-business-entity: \"OrderShipped\"\n      required:\n      - \"orderNumber\"\n      - \"status\"\n      - \"totalAmount\"\n      - \"currency\"\n      properties:\n        orderNumber:\n          type: \"string\"\n          maxLength: 36\n          description: \"prefix doc comment\"\n        status:\n          $ref: \"#/components/schemas/OrderStatus\"\n        totalAmount:\n          type: \"number\"\n          format: \"double\"\n        currency:\n          type: \"string\"\n          maxLength: 3\n        paymentReference:\n          type: \"string\"\n        trackingNumber:\n          type: \"string\"\n        items:\n          type: \"array\"\n          items:\n            $ref: \"#/components/schemas/OrderItem\"\n            minLength: 1\n        id:\n          type: \"integer\"\n          format: \"int64\"\n        version:\n          type: \"integer\"\n          format: \"int32\"\n    OrderCancelled:\n      type: \"object\"\n      x-business-entity: \"OrderCancelled\"\n      required:\n      - \"orderNumber\"\n      - \"status\"\n      - \"totalAmount\"\n      - \"currency\"\n      properties:\n        orderNumber:\n          type: \"string\"\n          maxLength: 36\n          description: \"prefix doc comment\"\n        status:\n          $ref: \"#/components/schemas/OrderStatus\"\n        totalAmount:\n          type: \"number\"\n          format: \"double\"\n        currency:\n          type: \"string\"\n          maxLength: 3\n        paymentReference:\n          type: \"string\"\n        trackingNumber:\n          type: \"string\"\n          description: \"Order lines stored as JSON for simplicity in the demo\"\n        items:\n          type: \"array\"\n          items:\n            $ref: \"#/components/schemas/OrderItem\"\n            minLength: 1\n        id:\n          type: \"integer\"\n          format: \"int64\"\n        version:\n          type: \"integer\"\n          format: \"int32\"\n    OrderStatus:\n      type: \"string\"\n      x-business-entity: \"OrderStatus\"\n      enum:\n      - \"DRAFT\"\n      - \"PLACED\"\n      - \"PAID\"\n      - \"SHIPPED\"\n      - \"CANCELLED\"\n    OrderItem:\n      type: \"object\"\n      x-business-entity: \"OrderItem\"\n      required:\n      - \"productId\"\n      - \"productName\"\n      - \"quantity\"\n      - \"unitPrice\"\n      properties:\n        productId:\n          type: \"string\"\n        productName:\n          type: \"string\"\n          maxLength: 254\n        quantity:\n          type: \"integer\"\n          format: \"int32\"\n        unitPrice:\n          type: \"number\"\n          format: \"double\"\n\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/order-fulfillment-kotlin/src/main/resources/public/apis/asyncapi.yml:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-scripts.zw","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-scripts.zw","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-scripts.zw","language":"zdl","visibleRange":null,"content":"config {\n    zdlFile \"zenwave-model.zdl\"\n\n    plugins {\n\n        ZDLToOpenAPIPlugin {\n            idType integer\n            idTypeFormat int64\n            targetFile \"src/main/resources/public/apis/openapi.yml\"\n        }\n\n        ZDLToAsyncAPIPlugin {\n            asyncapiVersion v3\n            schemaFormat avro\n            avroPackage \"io.zenwave360.example.core.outbound.events.dtos\"\n            idType long\n            targetFile \"src/main/resources/public/apis/asyncapi.yml\"\n            includeKafkaCommonHeaders true\n        }\n\n        BackendApplicationDefaultPlugin {\n            useLombok true\n            includeEmitEventsImplementation true\n            // --force // overwite all files\n        }\n\n        OpenAPIControllersPlugin {\n            openapiFile \"src/main/resources/public/apis/openapi.yml\"\n        }\n\n        SpringWebTestClientPlugin {\n            openapiFile \"src/main/resources/public/apis/openapi.yml\"\n        }\n\n        SpringWebTestClientPlugin {\n            openapiFile \"src/main/resources/public/apis/openapi.yml\"\n            groupBy businessFlow\n            businessFlowTestName CreateUpdateDeleteCustomerIntegrationTest\n            operationIds createCustomer,updateCustomer,deleteCustomer,getCustomer\n        }\n\n        OpenAPIKaratePlugin {\n            openapiFile \"src/main/resources/public/apis/openapi.yml\"\n        }\n\n        OpenAPIKaratePlugin {\n            openapiFile \"src/main/resources/public/apis/openapi.yml\"\n            groupBy businessFlow\n            businessFlowTestName CreateUpdateDeleteCustomerKarateTest\n            operationIds createCustomer,updateCustomer,deleteCustomer,getCustomer\n        }\n    }\n}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-scripts.zw:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/models/clinical.zdl","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/models/clinical.zdl","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/models/clinical.zdl","language":"zdl","visibleRange":null,"content":"config {\n    title \"Clinical Tool Backend\"\n    layout.moduleBasePackage \"io.zenwave360.example.clinicaltool.modules.clinical\"\n    // you can choose different layouts, see docs at https://www.zenwave360.io/docs/\n    layout CleanHexagonalProjectLayout\n}\n\n@aggregate\nentity Hospital {\n    name String required unique maxlength(254)\n    lang String required maxlength(3) /** Primary language of the hospital */\n    timezone String required maxlength(3) /** ECT (Europe/Madrid)  */\n}\n\n@aggregate\n@auditing\nentity Doctor {\n    userId Long\n    profilePictureId Long\n    hospitalId Long required\n    name String required maxlength(100)\n    surname String required maxlength(100)\n    surname2 String maxlength(100)\n    email String maxlength(100) pattern(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/)\n    phoneNumber String maxlength(20)\n    lang String maxlength(3) /** Primary language of the doctor */\n}\n\n@aggregate\n@auditing\nentity Patient {\n    userId Long\n    hospitalId Long required\n    profilePictureId Long\n\n    @naturalId\n    phoneNumber String required maxlength(20)\n    @naturalId\n    hisNumber String required maxlength(100)\n\n    email String required maxlength(100) pattern(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/)\n\n    generalInfo GeneralInfo {\n        name String required maxlength(100)\n        surname String required maxlength(100)\n        surname2 String maxlength(100)\n        identityDocumentType IdentityDocumentType required\n        identityDocumentNumber String required maxlength(20)\n        birthDate LocalDate required\n        gender GenderType required\n        lang String maxlength(3) /** Primary language of the patient */\n    }\n\n    healthInsuranceInfo HealthInsuranceInfo {\n        insuranceCompanyId String required maxlength(100)\n        insuranceCardNumber String required maxlength(20)\n    }\n\n    @json documentIds Long[]\n}\n\nrelationship OneToMany {\n    Patient{medicalContacts required } to MedicalContact{patient required}\n    Patient{personalContacts required } to PersonalContact{patient required}\n    Patient{patientAddresses required } to PatientAddress{patient required}\n    Patient{hospitalAddresses required } to HospitalAddress{patient required}\n    Patient{patientWearables required } to PatientWearable{patient required}\n}\n\n@skip\nentity Address {\n   street String required maxlength(100)\n   city String required maxlength(100)\n   postalCode String required maxlength(10)\n   countryCode String required maxlength(3)\n   additionalInfo String maxlength(254)\n}\n\n@copy(Address)\nentity PatientAddress {\n   current Boolean required\n}\n\n@copy(Address)\nentity HospitalAddress {\n}\n\nenum IdentityDocumentType {\n    DNI(1), NIE(2), PASSPORT(3)\n}\n\nenum GenderType {\n    MALE(1), FEMALE(2), OTHER(3)\n}\n\n\nentity PatientWearable {\n    wearableType String required\n    serialNumber String maxlength(20)\n}\n\n\nentity MedicalContact {\n    name String required maxlength(100)\n    surname String required maxlength(100)\n    surname2 String maxlength(100)\n    hospital String maxlength(254)\n    area String maxlength(100)\n    jobPosition String maxlength(100)\n    phoneNumber String required maxlength(20)\n    email String required maxlength(100) pattern(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/)\n}\n\nentity PersonalContact {\n    name String required maxlength(100)\n    surname String required maxlength(100)\n    surname2 String maxlength(100)\n    phoneNumber String required maxlength(20)\n    email String required maxlength(100) pattern(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/)\n    patientRelationshipType PatientRelationshipType\n    emergencyContact Boolean required\n}\n\nenum PatientRelationshipType {\n    SON_DAUGTHER(1), CARE_GIVER(2), OTHER(3)\n}\n\n@inline\ninput HospitalId {\n    hospitalId Long required\n}\n\n@inline\ninput CriterioPatient {\n    hisNumber String required maxlength(100)\n    phoneNumber String required maxlength(20)\n}\n\noutput PatientHospital {\n    patientId Long\n    hospitalId Long\n    hisNumber String\n    fullName String\n    gender GenderType\n    dni String\n    birthDate LocalDate\n    phone String\n    email String\n    insuranceCardNumber String\n    address String\n}\n\n@rest\nservice HospitalService for (Hospital, Doctor) {\n    @get(\"/hospitals/{id}\")\n    getHospital(id) Hospital?\n    @post(\"/hospitals\")\n    createHospital(Hospital) Hospital\n    @put(\"/hospitals/{id}\")\n    updateHospital(id, Hospital) Hospital?\n    @get(\"/hospitals\")\n    listHospitals() Hospital[]\n\n    @post(\"/doctors\")\n    createDoctor(Doctor) Doctor withEvents DoctorCreated\n    @put(\"/doctors/{id}\")\n    updateDoctor(id, Doctor) Doctor?\n    @get(\"/doctors/{id}\")\n    getDoctor(id) Doctor?\n    @get(\"/doctors\")\n    listDoctors() Doctor[]\n\n    @get(\"/hospital/{hospitalId}/doctors\")\n    @entityForId(Hospital)\n    listHospitalDoctors(HospitalId) Doctor[]\n\n    @get(\"/hospital/{hospitalId}/patients\")\n    @entityForId(Hospital)\n    listHospitalPatients(HospitalId) PatientHospital[]\n}\n\ninput DocumentSignatureRequestedInput {\n    documentInfoId Long required\n    patientId Long required\n}\n\n@rest\nservice PatientsService for (Patient) {\n\n    @get(\"/patients/{hisNumber}/{phoneNumber}\")\n    loadPatient(@natural id) Patient\n\n    @post(\"/patients\")\n    createPatient(Patient) Patient withEvents PatientCreated\n\n    @patch(\"/patients/{hisNumber}/{phoneNumber}\")\n    partialPatientUpdate(@natural id, Patient) Patient\n\n    @put(\"/patients/{id}\")\n    updatePatient(id, Patient) Patient?\n\n    @get(\"/patients/{id}\")\n    getPatient(id) Patient?\n\n    @get(\"/patients/{id}/profile\")\n    @policies(isMobile)\n    @entityForId(Patient)\n    getPatientProfileById(id) PatientProfile\n\n    @listener({model: \"models/documents.zdl\", event: DocumentSignatureRequested})\n    associateDocumentWithPatient(DocumentSignatureRequestedInput)\n}\n\noutput PatientProfile {\n    name String required maxlength(100)\n    surname String required maxlength(100)\n    surname2 String maxlength(100)\n    birthDate LocalDate required\n    gender GenderType required\n    phoneNumber String required maxlength(20)\n}\n\nevent DoctorCreated {\n    doctor Doctor\n}\n\nevent PatientCreated {\n    patient Patient\n}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/models/clinical.zdl:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/pom.xml","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/pom.xml","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/pom.xml#L383-L419","language":"xml","visibleRange":"383,419","content":"\t\t\t<plugin>\n\t\t\t\t<groupId>org.openapitools</groupId>\n\t\t\t\t<artifactId>openapi-generator-maven-plugin</artifactId>\n\t\t\t\t<version>${openapi-generator-maven-plugin.version}</version>\n\t\t\t\t<executions>\n\t\t\t\t\t<execution>\n\t\t\t\t\t\t<goals>\n\t\t\t\t\t\t\t<goal>generate</goal>\n\t\t\t\t\t\t</goals>\n\t\t\t\t\t\t<phase>generate-sources</phase>\n                        <configuration>\n                            <inputSpec>${project.basedir}/src/main/resources/public/apis/openapi.yml</inputSpec>\n                            <skipIfSpecIsUnchanged>true</skipIfSpecIsUnchanged>\n                            <generatorName>spring</generatorName>\n                            <apiPackage>${openApiApiPackage}</apiPackage>\n                            <modelPackage>${openApiModelPackage}</modelPackage>\n                            <modelNameSuffix>DTO</modelNameSuffix>\n                            <addCompileSourceRoot>true</addCompileSourceRoot>\n                            <generateSupportingFiles>false</generateSupportingFiles>\n                            <typeMappings>\n                                <typeMapping>Double=java.math.BigDecimal</typeMapping>\n                            </typeMappings>\n                            <configOptions>\n                                <useSpringBoot3>true</useSpringBoot3>\n                                <documentationProvider>none</documentationProvider>\n                                <openApiNullable>false</openApiNullable>\n                                <useOptional>false</useOptional>\n                                <useTags>true</useTags>\n                                <interfaceOnly>true</interfaceOnly>\n                                <skipDefaultInterface>true</skipDefaultInterface>\n                                <delegatePattern>false</delegatePattern>\n                                <sortParamsByRequiredFlag>false</sortParamsByRequiredFlag>\n                            </configOptions>\n                        </configuration>\n\t\t\t\t\t</execution>\n\t\t\t\t</executions>\n\t\t\t</plugin>","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/pom.xml:383,419"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/order-fulfillment-kotlin/zenwave-model.zdl","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/order-fulfillment-kotlin/zenwave-model.zdl","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/order-fulfillment-kotlin/zenwave-model.zdl","language":"zdl","visibleRange":null,"content":"config {\n    title \"Order Fulfillment DDD Example\"\n    basePackage \"io.zenwave360.example.orderfulfillment\"\n    persistence jpa\n    databaseType postgresql\n\n    // you can choose: DefaultProjectLayout, LayeredProjectLayout, SimpleDomainProjectLayout\n    //                 CleanHexagonalProjectLayout, HexagonalProjectLayout, CleanArchitectureProjectLayout\n    layout SimpleDomainProjectLayout\n\n    // these should match what you have configured in your pom.xml for asyncapi-generator-maven-plugin\n    layout.asyncApiModelPackage \"{{basePackage}}.events.dtos\"\n    layout.asyncApiProducerApiPackage \"{{basePackage}}.events\"\n    layout.asyncApiConsumerApiPackage \"{{basePackage}}.commands\"\n}\n\n/**\n * Order aggregate root\n */\n@aggregate\n@auditing\nentity Order(order_table) {\n    /** prefix doc comment */\n    @naturalId\n    orderNumber String required unique maxlength(36)\n    status OrderStatus required /** suffix inline doc comment */\n    totalAmount BigDecimal required\n    currency String required maxlength(3)\n\n    paymentReference String\n    trackingNumber String\n\n    /**\n     * Order lines stored as JSON for simplicity in the demo\n     */\n    @json items OrderItem[] minlength(1) {\n        productId String required\n        productName String required maxlength(254)\n        quantity Integer required min(1)\n        unitPrice BigDecimal required\n    }\n}\n\npolicies (Order) {\n    orderNumberUnique \"orderNumber must be unique\"\n}\n\npolicies {\n    shipedOrdersCanNotBeCancelled \"Shipped orders can not be cancelled\"\n}\n\nenum OrderStatus {\n    DRAFT(1),\n    PLACED(2),\n    PAID(3),\n    SHIPPED(4),\n    CANCELLED(5)\n}\n\n/**\n * Commands / Inputs\n */\ninput PlaceOrderInput {\n    items OrderItem[] minlength(1)\n    currency String required maxlength(3)\n}\n\ninput PayOrderInput {\n     paymentReference String required\n}\n\ninput ShipOrderInput {\n    trackingNumber String required\n}\n\n/**\n * Order Application Service\n */\n@rest(\"/orders\")\nservice OrderService for (Order) {\n\n    /** Customer places an order */\n    @post\n    placeOrder(PlaceOrderInput) Order withEvents OrderPlaced\n\n    /** Order is paid */\n    @post(\"/{orderNumber}/pay\")\n    payOrder(@natural id, PayOrderInput) Order withEvents OrderPaid\n\n    /** Order is shipped */\n    @post(\"/{orderNumber}/ship\")\n    shipOrder(@natural id, ShipOrderInput) Order withEvents OrderShipped\n\n    /** Order is cancelled */\n    @post(\"/{orderNumber}/cancel\")\n    @policy(shipedOrdersCanNotBeCancelled)\n    cancelOrder(@natural id) Order withEvents OrderCancelled\n\n    /** Query order */\n    @get(\"/{orderNumber}\")\n    getOrder(@natural id) Order?\n}\n\n/**\n * Domain Events\n */\n@copy(Order)\n@asyncapi({ channel: \"OrdersPlacedChannel\", topic: \"orders.placed\" })\nevent OrderPlaced {\n    id Long\n    version Integer\n}\n\n@copy(Order)\n@asyncapi({ channel: \"OrdersPaidChannel\", topic: \"orders.paid\" })\nevent OrderPaid {\n    id Long\n    version Integer\n}\n\n@copy(Order)\n@asyncapi({ channel: \"OrdersShippedChannel\", topic: \"orders.shipped\" })\nevent OrderShipped {\n    id Long\n    version Integer\n    trackingNumber String\n}\n\n@copy(Order)\n@asyncapi({ channel: \"OrdersCancelledChannel\", topic: \"orders.cancelled\" })\nevent OrderCancelled {\n    id Long\n    version Integer\n}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/order-fulfillment-kotlin/zenwave-model.zdl:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-model.zdl","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-model.zdl","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-model.zdl#L1-L18","language":"zdl","visibleRange":"1,18","content":"/**\n * Sample ZenWave Model Definition.\n * Use zenwave-scripts.zdl to generate your code from this model definition.\n */\nconfig {\n    title \"ZenWave Customer JPA Example\"\n    basePackage \"io.zenwave360.example\"\n    persistence jpa\n    databaseType postgresql\n\n    layout CleanHexagonalProjectLayout\n\n    // these should match the values of openapi-generator-maven-plugin\n    // used by the OpenAPIControllersPlugin and SpringWebTestClientPlugin\n    openApiApiPackage \"{{basePackage}}.adapters.web\"\n    openApiModelPackage \"{{basePackage}}.adapters.web.model\"\n    openApiModelNameSuffix DTO\n}","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-model.zdl:1,18"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/asyncapi-shopping-cart/apis/avro/ShoppingCartItemAdded.avsc","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/asyncapi-shopping-cart/apis/avro/ShoppingCartItemAdded.avsc","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/asyncapi-shopping-cart/apis/avro/ShoppingCartItemAdded.avsc","language":"json","visibleRange":null,"content":"{\n  \"type\" : \"record\",\n  \"name\" : \"ShoppingCartItemAdded\",\n  \"namespace\" : \"io.example.asyncapi.shoppingcart.events.avro\",\n  \"fields\" : [ {\n    \"name\" : \"customerId\",\n    \"type\" : \"long\"\n  }, {\n    \"name\" : \"shoppingCart\",\n    \"type\" : \"ShoppingCart\"\n  }, {\n    \"name\" : \"item\",\n    \"type\" : \"Item\"\n  } ]\n}","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/asyncapi-shopping-cart/apis/avro/ShoppingCartItemAdded.avsc:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-sdk/refs/heads/main/zenwave-sdk-cli/src/main/java/io/zenwave360/sdk/zdl/layouts/SimpleDomainProjectLayout.java","originalUrl":"https://github.com/ZenWave360/zenwave-sdk/blob/main/zenwave-sdk-cli/src/main/java/io/zenwave360/sdk/zdl/layouts/SimpleDomainProjectLayout.java","sourceUrl":"https://github.com/ZenWave360/zenwave-sdk/blob/main/zenwave-sdk-cli/src/main/java/io/zenwave360/sdk/zdl/layouts/SimpleDomainProjectLayout.java#L3-L33","language":"java","visibleRange":"3,33","content":"/**\n * Simple domain project layout.\n *\n * <pre>\n * ðŸ“¦ {{basePackage}}\n *    â””â”€ ðŸ“¦ config\n *    â””â”€ ðŸ“¦ model (entities and aggregates)\n *    â””â”€ ðŸ“¦ dtos\n *    â””â”€ ðŸ“¦ events\n *    â”œâ”€ ðŸ“¦ mappers\n *    â”œâ”€ *EventListeners (spring-cloud-streams)\n *    â”œâ”€ *RestControllers (spring mvc)\n *    â”œâ”€ ServiceImplementation\n *    â””â”€ *RepositoryInterface\n * </pre>\n */\npublic class SimpleDomainProjectLayout extends ProjectLayout {\n\n    {\n        basePackage = \"{{basePackage}}\";\n        // in case of modular project\n        configPackage = \"{{basePackage}}.config\";\n        commonPackage = \"{{basePackage}}\"; // set to \"{{basePackage}}.common\" in modular projects\n        modulesPackage = \"{{basePackage}}.modules\";\n\n        // module specific\n        moduleBasePackage = \"{{basePackage}}\";\n        moduleConfigPackage = \"{{moduleBasePackage}}.config\";\n\n        // domain entities and events\n        entitiesPackage = \"{{moduleBasePackage}}.domain\";","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-sdk/refs/heads/main/zenwave-sdk-cli/src/main/java/io/zenwave360/sdk/zdl/layouts/SimpleDomainProjectLayout.java:3,33"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/models/users.zdl","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/models/users.zdl","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/models/users.zdl","language":"zdl","visibleRange":null,"content":"config {\n    title \"User Management\"\n    layout.moduleBasePackage \"io.zenwave360.example.clinicaltool.modules.users\"\n    // you can choose: DefaultProjectLayout, CleanHexagonalProjectLayout, LayeredProjectLayout, SimpleDomainProjectLayout, HexagonalProjectLayout, CleanArchitectureProjectLayout\n    layout SimpleDomainProjectLayout\n}\n\n@aggregate\n@auditing\nentity User (application_user) {\n    name String\n    @naturalId\n    username String required unique\n    email String required unique\n    password String\n\n    @set\n    roles String[] required\n\n    enabled Boolean\n    credentialsNonExpired Boolean\n    accountNonExpired Boolean\n    accountNonLocked Boolean\n\n    @jsonb additionalProperties Map\n}\n\ninput SearchCriteria {\n    username String\n    email String\n    role String\n    enabled Boolean\n    searchTerms Map\n}\n\n@rest(\"/users\")\nservice UserService for (User) {\n\n    @get(\"/{username}\")\n    findByUsername(@natural id) User?\n\n    @post\n    createUser(User) User\n    @put(\"/{username}\")\n    updateUser(@natural id, User) User?\n\n    @put(path: \"/{username}/enable\", status: 200)\n    enableAccount(@natural id) User?\n    @put(path: \"/{username}/disable\", status: 200)\n    disableAccount(@natural id) User?\n    @delete(\"/{username}\")\n    deleteUser(@natural id)\n\n    @post(path: \"/search\", status: 200) @paginated\n    searchUsers(SearchCriteria) User[]\n    @get @paginated\n    listUsers() User[]\n}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/models/users.zdl:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml#L162-L169","language":"yml","visibleRange":"162,169","content":"    CustomerPaginated:\n      allOf:\n      - $ref: \"#/components/schemas/Page\"\n      - properties:\n          content:\n            type: \"array\"\n            items:\n              $ref: \"#/components/schemas/Customer\"","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml:162,169"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/pom.xml","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/pom.xml","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/pom.xml#L383-L419","language":"xml","visibleRange":"383,419","content":"\t\t\t<plugin>\n\t\t\t\t<groupId>org.openapitools</groupId>\n\t\t\t\t<artifactId>openapi-generator-maven-plugin</artifactId>\n\t\t\t\t<version>${openapi-generator-maven-plugin.version}</version>\n\t\t\t\t<executions>\n\t\t\t\t\t<execution>\n\t\t\t\t\t\t<goals>\n\t\t\t\t\t\t\t<goal>generate</goal>\n\t\t\t\t\t\t</goals>\n\t\t\t\t\t\t<phase>generate-sources</phase>\n                        <configuration>\n                            <inputSpec>${project.basedir}/src/main/resources/public/apis/openapi.yml</inputSpec>\n                            <skipIfSpecIsUnchanged>true</skipIfSpecIsUnchanged>\n                            <generatorName>spring</generatorName>\n                            <apiPackage>${openApiApiPackage}</apiPackage>\n                            <modelPackage>${openApiModelPackage}</modelPackage>\n                            <modelNameSuffix>DTO</modelNameSuffix>\n                            <addCompileSourceRoot>true</addCompileSourceRoot>\n                            <generateSupportingFiles>false</generateSupportingFiles>\n                            <typeMappings>\n                                <typeMapping>Double=java.math.BigDecimal</typeMapping>\n                            </typeMappings>\n                            <configOptions>\n                                <useSpringBoot3>true</useSpringBoot3>\n                                <documentationProvider>none</documentationProvider>\n                                <openApiNullable>false</openApiNullable>\n                                <useOptional>false</useOptional>\n                                <useTags>true</useTags>\n                                <interfaceOnly>true</interfaceOnly>\n                                <skipDefaultInterface>true</skipDefaultInterface>\n                                <delegatePattern>false</delegatePattern>\n                                <sortParamsByRequiredFlag>false</sortParamsByRequiredFlag>\n                            </configOptions>\n                        </configuration>\n\t\t\t\t\t</execution>\n\t\t\t\t</executions>\n\t\t\t</plugin>","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/pom.xml:383,419"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/CustomerApiControllerTest.java","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/CustomerApiControllerTest.java","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/CustomerApiControllerTest.java#L12-L35","language":"java","visibleRange":"12,35","content":"/** Test controller for CustomerApiController. */\nclass CustomerApiControllerTest {\n\n    private final Logger log = LoggerFactory.getLogger(getClass());\n\n    ServicesInMemoryConfig context = new ServicesInMemoryConfig();\n\n    CustomerApiController controller = new CustomerApiController(context.customerService());\n\n    @BeforeEach\n    void setUp() {\n        context.reloadTestData();\n    }\n\n    @Test\n    void createCustomerTest() {\n        CustomerDTO reqBody = new CustomerDTO();\n        reqBody.setName(\"John Doe\");\n        reqBody.setEmail(\"john.doe@example.com\");\n        reqBody.setAddresses(List.of(new AddressDTO(\"Anytown\", \"123 Main St\")));\n        reqBody.setPaymentMethods(List.of(new PaymentMethodDTO(PaymentMethodTypeDTO.VISA, \"1234567890123456\")));\n        var response = controller.createCustomer(reqBody);\n        Assertions.assertEquals(201, response.getStatusCode().value());\n    }","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/CustomerApiControllerTest.java:12,35"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/order-fulfillment-kotlin/zenwave-scripts.zw","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/order-fulfillment-kotlin/zenwave-scripts.zw","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/order-fulfillment-kotlin/zenwave-scripts.zw","language":"zdl","visibleRange":null,"content":"@import(\"io.zenwave360.sdk.plugins.customizations:kotlin-backend-application:2.3.0-SNAPSHOT\")\nconfig {\n\n    // This is a global configuration that applies to all plugins.\n    zdlFile \"zenwave-model.zdl\"\n\n    // these should match the values of openapi-generator-maven-plugin\n    // used by the OpenAPIControllersPlugin and SpringWebTestClientPlugin\n    openApiApiPackage \"{{basePackage}}.web\"\n    openApiModelPackage \"{{basePackage}}.web.model\"\n    openApiModelNameSuffix DTO\n\n\n    plugins {\n        /** Generates an OpenAPI 3.0 specification from the ZDL model. */\n        ZDLToOpenAPIPlugin {\n            idType integer\n            idTypeFormat int64\n            targetFile \"src/main/resources/public/apis/openapi.yml\"\n        }\n        /** Generates an AsyncAPI 3.0 specification from the ZDL model. */\n        ZDLToAsyncAPIPlugin {\n            asyncapiVersion v3\n            idType integer\n            idTypeFormat int64\n            targetFile \"src/main/resources/public/apis/asyncapi.yml\"\n            includeCloudEventsHeaders true\n            includeKafkaCommonHeaders true\n        }\n        /** Generates a Backend Application from the ZDL model. (Headless Core) */\n        BackendApplicationDefaultPlugin {\n            templates \"new io.zenwave360.sdk.plugins.kotlin.BackendApplicationKotlinTemplates()\"\n            useJSpecify true\n            includeEmitEventsImplementation true\n//             --force // overwite all files\n        }\n        /** Generates Spring MVC controllers from the OpenAPI specification (Web Adapters). */\n        OpenAPIControllersPlugin {\n            templates \"new io.zenwave360.sdk.plugins.kotlin.OpenAPIControllersKotlinTemplates()\"\n            openapiFile \"src/main/resources/public/apis/openapi.yml\"\n        }\n\n        SpringWebTestClientPlugin {\n            templates \"new io.zenwave360.sdk.plugins.kotlin.SpringWebTestClientKotlinTemplates()\"\n            openapiFile \"src/main/resources/public/apis/openapi.yml\"\n        }\n\n        SpringWebTestClientPlugin {\n            templates \"new io.zenwave360.sdk.plugins.kotlin.SpringWebTestClientKotlinTemplates()\"\n            openapiFile \"src/main/resources/public/apis/openapi.yml\"\n            groupBy businessFlow\n            businessFlowTestName FromPlaceOrderToCancelIntegrationTest\n            operationIds placeOrder,getOrder,payOrder,shipOrder,cancelOrder\n        }\n    }\n}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/order-fulfillment-kotlin/zenwave-scripts.zw:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/asyncapi-shopping-cart/apis/avro/Item.avsc","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/asyncapi-shopping-cart/apis/avro/Item.avsc","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/asyncapi-shopping-cart/apis/avro/Item.avsc","language":"json","visibleRange":null,"content":"{\n  \"type\" : \"record\",\n  \"name\" : \"Item\",\n  \"namespace\" : \"io.example.asyncapi.shoppingcart.events.avro\",\n  \"fields\" : [ {\n    \"name\" : \"name\",\n    \"type\" : \"string\"\n  }, {\n    \"name\" : \"quantity\",\n    \"type\" : \"int\"\n  } ]\n}","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/asyncapi-shopping-cart/apis/avro/Item.avsc:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-sdk/refs/heads/main/zenwave-sdk-cli/src/main/java/io/zenwave360/sdk/zdl/layouts/HexagonalProjectLayout.java","originalUrl":"https://github.com/ZenWave360/zenwave-sdk/blob/main/zenwave-sdk-cli/src/main/java/io/zenwave360/sdk/zdl/layouts/HexagonalProjectLayout.java","sourceUrl":"https://github.com/ZenWave360/zenwave-sdk/blob/main/zenwave-sdk-cli/src/main/java/io/zenwave360/sdk/zdl/layouts/HexagonalProjectLayout.java#L3-L35","language":"java","visibleRange":"3,35","content":"/**\n * Hexagonal project layout.\n *\n * <pre>\n * ðŸ“¦ {{basePackage}}\n *    ðŸ“¦ domain                         # Domain model (Entities, Aggregates, Value Objects)\n *        â””â”€ *Entities\n *        |\n *    ðŸ“¦ ports                          # Port interfaces\n *        â”œâ”€ inbound                   # Primary ports (driving adapters)\n *        |   â””â”€ UserServicePort       # Interface for business logic (input)\n *        â””â”€ outbound                  # Secondary ports (driven adapters)\n *            â””â”€ UserRepositoryPort    # Interface for persistence (output)\n *        |\n *    ðŸ“¦ application                   # Application core (business logic services)\n *        â”œâ”€ services                 # Service implementations\n *        |   â””â”€ UserServiceImpl      # Implements UserServicePort, uses UserRepositoryPort\n *        â””â”€ mappers                 # Optional: Mapping between entities and DTOs\n *        |\n *    ðŸ“¦ adapters                      # Interface adapters (controllers, repositories, listeners)\n *        â”œâ”€ web                     # Web adapter (e.g., REST)\n *        |   â””â”€ UserController      # Calls UserServicePort\n *        â”œâ”€ persistence             # Persistence adapters\n *        |   â”œâ”€ mongodb/\n *        |   |   â””â”€ MongoUserRepository (implements UserRepositoryPort)\n *        |   â””â”€ jpa/\n *        |       â””â”€ JpaUserRepository (implements UserRepositoryPort)\n *        â””â”€ events                  # Event-driven adapters\n *            â””â”€ UserEventListener   # Listens to events, calls UserServicePort\n *        |\n *    ðŸ“¦ config                  # Spring Boot configurations\n * </pre>\n */","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-sdk/refs/heads/main/zenwave-sdk-cli/src/main/java/io/zenwave360/sdk/zdl/layouts/HexagonalProjectLayout.java:3,35"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/models/documents.zdl","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/models/documents.zdl","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/models/documents.zdl","language":"zdl","visibleRange":null,"content":"config {\n    title \"Documents Model\"\n    layout.moduleBasePackage \"io.zenwave360.example.clinicaltool.modules.documents\"\n    // you can choose: DefaultProjectLayout, CleanHexagonalProjectLayout, LayeredProjectLayout, SimpleDomainProjectLayout, HexagonalProjectLayout, CleanArchitectureProjectLayout\n    layout SimpleDomainProjectLayout\n}\n\n@aggregate\nentity DocumentInfo {\n    uuid String\n    fileName String required\n    documentType String required\n    contentType String required\n    tags String[]\n}\n\nentity DocumentData {\n    data Blob required\n}\n\nrelationship OneToOne {\n    DocumentInfo{documentData required } to @Id DocumentData{document required}\n}\n\n@inline\ninput DocumentIds {\n    documentIds Long[]\n}\n\n@rest(\"/documents\")\nservice DocumentService for (DocumentInfo) {\n\n    @get({path: \"/\"})\n    listDocumentInfo(DocumentIds) DocumentInfo[]\n\n    @get({path: \"/{id}\", params: {preview: boolean} })\n    @filedownload(\"documentData.data\")\n    downloadDocument(id) DocumentInfo\n\n    @post({path: \"/upload\", status: 201})\n    @fileupload(\"file\")\n    uploadDocument(DocumentInfo) DocumentInfo\n\n    @delete({path: \"/{id}\", status: 204})\n    deleteDocumentInfo(id)\n}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/models/documents.zdl:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml#L222-L271","language":"yml","visibleRange":"222,271","content":"    Page:\n      type: object\n      required:\n        - \"content\"\n        - \"totalElements\"\n        - \"totalPages\"\n        - \"size\"\n        - \"number\"\n      properties:\n        number:\n          type: integer\n          minimum: 0\n        numberOfElements:\n          type: integer\n          minimum: 0\n        size:\n          type: integer\n          minimum: 0\n          maximum: 200\n          multipleOf: 25\n        totalElements:\n          type: integer\n        totalPages:\n          type: integer\n\n  parameters:\n    page:\n      name: page\n      in: query\n      description: The number of results page\n      schema:\n        type: integer\n        format: int32\n        default: 0\n    limit:\n      name: limit\n      in: query\n      description: The number of results in a single page\n      schema:\n        type: integer\n        format: int32\n        default: 20\n    sort:\n      name: sort\n      in: query\n      description: Sort results by field name and direction (asc or desc)\n      schema:\n        type: array\n        items:\n          type: string","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml:222,271"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-model.zdl","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-model.zdl","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-model.zdl#L20-L46","language":"zdl","visibleRange":"20,46","content":"/**\n* Customer entity\n*/\n@aggregate\n@auditing // adds auditing fields to the entity\nentity Customer {\n    name String required maxlength(254) /** Customer name */\n    email String required maxlength(254) pattern(/^[^@]+@[^\\\\s@]+\\\\.[^\\\\s@]+$/)\n    /** Customer Addresses can be stored in a JSON column in the database. */\n    @json addresses Address[] minlength(1) maxlength(5) {\n        street String required maxlength(254)\n        city String required maxlength(254)\n    }\n}\n\n@auditing\nentity PaymentMethod {\n    type PaymentMethodType required\n    cardNumber String required\n}\n\nenum PaymentMethodType { VISA(1), MASTERCARD(2) }\n\nrelationship OneToMany {\n    Customer{paymentMethods required maxlength(3)} to PaymentMethod{customer required}\n}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-model.zdl:20,46"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/BaseWebTestClientTest.java","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/BaseWebTestClientTest.java","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/BaseWebTestClientTest.java#L13-L29","language":"java","visibleRange":"13,29","content":"@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.MOCK)\n@ActiveProfiles(\"test\")\n@DockerComposeInitializer.EnableDockerCompose\n@org.springframework.transaction.annotation.Transactional\npublic abstract class BaseWebTestClientTest {\n\n    @Autowired\n    protected WebApplicationContext context;\n\n    protected WebTestClient webTestClient;\n\n    @BeforeEach\n    void setup() {\n        this.webTestClient =\n                MockMvcWebTestClient.bindToApplicationContext(this.context).build();\n    }\n}","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/BaseWebTestClientTest.java:13,29"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/order-fulfillment-kotlin/zenwave-model.zdl","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/order-fulfillment-kotlin/zenwave-model.zdl","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/order-fulfillment-kotlin/zenwave-model.zdl#L17-L46","language":"zdl","visibleRange":"17,46","content":"/**\n * Order aggregate root\n */\n@aggregate\n@auditing\nentity Order(order_table) {\n    /** prefix doc comment */\n    @naturalId\n    orderNumber String required unique maxlength(36)\n    status OrderStatus required /** suffix inline doc comment */\n    totalAmount BigDecimal required\n    currency String required maxlength(3)\n\n    paymentReference String\n    trackingNumber String\n\n    /**\n     * Order lines stored as JSON for simplicity in the demo\n     */\n    @json items OrderItem[] minlength(1) {\n        productId String required\n        productName String required maxlength(254)\n        quantity Integer required min(1)\n        unitPrice BigDecimal required\n    }\n}\n\npolicies (Order) {\n    orderNumberUnique \"orderNumber must be unique\"\n}","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/order-fulfillment-kotlin/zenwave-model.zdl:17,46"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/asyncapi-shopping-cart/apis/avro/ShoppingCart.avsc","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/asyncapi-shopping-cart/apis/avro/ShoppingCart.avsc","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/asyncapi-shopping-cart/apis/avro/ShoppingCart.avsc","language":"json","visibleRange":null,"content":"{\n  \"type\" : \"record\",\n  \"name\" : \"ShoppingCart\",\n  \"namespace\" : \"io.example.asyncapi.shoppingcart.events.avro\",\n  \"fields\" : [ {\n    \"name\" : \"id\",\n    \"type\" : \"long\"\n  }, {\n    \"name\" : \"customerId\",\n    \"type\" : \"long\"\n  }, {\n    \"name\" : \"items\",\n    \"type\" : {\n      \"type\" : \"array\",\n      \"items\" : \"Item\",\n      \"java-class\" : \"java.util.List\"\n    }\n  } ]\n}","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/asyncapi-shopping-cart/apis/avro/ShoppingCart.avsc:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/models/masterdata.zdl","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/models/masterdata.zdl","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/models/masterdata.zdl","language":"zdl","visibleRange":null,"content":"config {\n    title \"Master Data\"\n    layout.moduleBasePackage \"io.zenwave360.example.clinicaltool.modules.masterdata\"\n    // you can choose: DefaultProjectLayout, CleanHexagonalProjectLayout, LayeredProjectLayout, SimpleDomainProjectLayout, HexagonalProjectLayout, CleanArchitectureProjectLayout\n    layout SimpleDomainProjectLayout\n}\n\n@aggregate\nentity MasterData {\n    @naturalId\n    type MasterDataType required\n    @naturalId\n    key String required maxlength(254)\n    value String required maxlength(254)\n    @jsonb translations MasterDataTranslation[] {\n        lang String required\n        text String required\n    }\n}\n\nenum MasterDataType {\n    GENDER(1)\n    ID_DOCUMENT_TYPE(2)\n    COUNTRY(3)\n    INSURANCE_COMPANY(4)\n    MEDICAL_AREA(5)\n}\n\noutput MasterDataKeyValue {\n    key String\n    value String\n}\n\n@inline\ninput MasterDataFilter {\n    type MasterDataType\n    lang String\n}\n\n@rest(\"/masterdata\")\nservice MasterDataService for (MasterData) {\n    @post\n    createMasterData(MasterData) MasterData\n    @get(\"/{id}\")\n    getMasterData(id) MasterData?\n    @put(\"/{id}\")\n    updateMasterData(id, MasterData) MasterData?\n    @get @paginated\n    listMasterData() MasterData[]\n    @delete(\"/{id}\")\n    deleteMasterData(id)\n\n    @get(\"/type/{type}/{lang}\")\n    listMasterDataOfType(MasterDataFilter) MasterDataKeyValue[]\n}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/models/masterdata.zdl:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/src/main/java/io/zenwave360/example/clinicaltool/modules/documents/DocumentApiController.java","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/src/main/java/io/zenwave360/example/clinicaltool/modules/documents/DocumentApiController.java","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/src/main/java/io/zenwave360/example/clinicaltool/modules/documents/DocumentApiController.java#L81-L88","language":"yml","visibleRange":"81,88","content":"    public ResponseEntity<DocumentInfoDTO> uploadDocument(\n            String uuid, List<String> tags, org.springframework.web.multipart.MultipartFile file) {\n        log.debug(\"REST request to uploadDocument: {}, {}, {}\", file, uuid, tags);\n        var input = mapper.asDocumentInfo(file, uuid, tags);\n        var documentInfo = documentService.uploadDocument(input);\n        DocumentInfoDTO responseDTO = mapper.asDocumentInfoDTO(documentInfo);\n        return ResponseEntity.status(201).body(responseDTO);\n    }","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/src/main/java/io/zenwave360/example/clinicaltool/modules/documents/DocumentApiController.java:81,88"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/core/domain/Customer.java","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/core/domain/Customer.java","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/core/domain/Customer.java#L22-L113","language":"java","visibleRange":"22,113","content":"@lombok.Getter\n@lombok.Setter\n@Entity\n@Table(name = \"customer\")\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\n@EntityListeners(AuditingEntityListener.class)\npublic class Customer implements Serializable {\n\n    @java.io.Serial\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private Long id;\n\n    @Version\n    private Integer version;\n\n    /** Customer name */\n    @NotNull\n    @Size(max = 254)\n    @Column(name = \"name\", nullable = false, length = 254)\n    private String name;\n\n    @NotNull\n    @Size(max = 254)\n    @Pattern(regexp = \"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,4}\")\n    @Column(name = \"email\", nullable = false, length = 254)\n    private String email;\n\n    /** Customer Addresses can be stored in a JSON column in the database. */\n    @Size(min = 1, max = 5)\n    @org.hibernate.annotations.JdbcTypeCode(org.hibernate.type.SqlTypes.JSON)\n    @Column(name = \"addresses\")\n    private List<Address> addresses = new ArrayList<>();\n\n    @NotNull\n    @Size(max = 3)\n    @OneToMany(mappedBy = \"customer\", fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true)\n    @Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\n    private Set<PaymentMethod> paymentMethods = new HashSet<>();\n\n    @CreatedBy\n    @Column(name = \"created_by\", updatable = false)\n    protected String createdBy;\n\n    @CreatedDate\n    @Column(name = \"created_date\", columnDefinition = \"TIMESTAMP\", updatable = false)\n    protected LocalDateTime createdDate;\n\n    @LastModifiedBy\n    @Column(name = \"last_modified_by\")\n    protected String lastModifiedBy;\n\n    @LastModifiedDate\n    @Column(name = \"last_modified_date\", columnDefinition = \"TIMESTAMP\")\n    protected LocalDateTime lastModifiedDate;\n\n    // manage relationships\n    public Customer addPaymentMethods(PaymentMethod paymentMethods) {\n        this.paymentMethods.add(paymentMethods);\n        paymentMethods.setCustomer(this);\n        return this;\n    }\n\n    public Customer removePaymentMethods(PaymentMethod paymentMethods) {\n        this.paymentMethods.remove(paymentMethods);\n        paymentMethods.setCustomer(null);\n        return this;\n    }\n\n    /*\n     * https://vladmihalcea.com/the-best-way-to-implement-equals-hashcode-and-tostring-\n     * with-jpa-and-hibernate/\n     */\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) {\n            return true;\n        }\n        if (!(o instanceof Customer)) {\n            return false;\n        }\n        Customer other = (Customer) o;\n        return getId() != null && getId().equals(other.getId());\n    }\n\n    @Override\n    public int hashCode() {\n        return getClass().hashCode();\n    }\n}","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/core/domain/Customer.java:22,113"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-scripts.zw","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-scripts.zw","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-scripts.zw#L27-L29","language":"zdl","visibleRange":"27,29","content":"        OpenAPIControllersPlugin {\n            openapiFile \"src/main/resources/public/apis/openapi.yml\"\n        }","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-scripts.zw:27,29"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/domain/Order.kt","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/domain/Order.kt","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/domain/Order.kt","language":"kotlin","visibleRange":null,"content":"package io.zenwave360.example.orderfulfillment.domain\n\nimport jakarta.persistence.*\nimport jakarta.validation.constraints.*\nimport java.io.Serializable\nimport java.math.*\nimport java.time.*\nimport java.util.*\nimport org.hibernate.annotations.Cache\nimport org.hibernate.annotations.CacheConcurrencyStrategy\nimport org.springframework.data.annotation.CreatedBy\nimport org.springframework.data.annotation.CreatedDate\nimport org.springframework.data.annotation.LastModifiedBy\nimport org.springframework.data.annotation.LastModifiedDate\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener\n\n/**  */\n@Entity\n@Table(name = \"order_table\")\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\n@EntityListeners(AuditingEntityListener::class)\ndata class Order(\n    @Id @GeneratedValue(strategy = GenerationType.SEQUENCE) var id: Long? = null,\n    @Version var version: Int? = null,\n\n    /** prefix doc comment */\n    @NotNull\n    @Size(max = 36)\n    @Column(name = \"order_number\", nullable = false, unique = true, length = 36)\n    @org.hibernate.annotations.NaturalId\n    var orderNumber: String? = null,\n\n    /** suffix inline doc comment */\n    @NotNull\n    @Column(name = \"status\", nullable = false)\n    @Convert(converter = OrderStatus.OrderStatusConverter::class)\n    var status: OrderStatus? = null,\n    @NotNull @Column(name = \"total_amount\", nullable = false) var totalAmount: BigDecimal? = null,\n    @NotNull @Size(max = 3) @Column(name = \"currency\", nullable = false, length = 3) var currency: String? = null,\n    @Column(name = \"payment_reference\") var paymentReference: String? = null,\n\n    /** Order lines stored as JSON for simplicity in the demo */\n    @Column(name = \"tracking_number\") var trackingNumber: String? = null,\n    @Size(min = 1)\n    @org.hibernate.annotations.JdbcTypeCode(org.hibernate.type.SqlTypes.JSON)\n    @Column(name = \"items\")\n    var items: MutableList<OrderItem> = mutableListOf(),\n) : Serializable {\n\n    companion object {\n        private const val serialVersionUID = 1L\n    }\n\n    @CreatedBy @Column(name = \"created_by\", updatable = false) var createdBy: String? = null\n\n    @CreatedDate\n    @Column(name = \"created_date\", columnDefinition = \"TIMESTAMP\", updatable = false)\n    var createdDate: LocalDateTime? = null\n\n    @LastModifiedBy @Column(name = \"last_modified_by\") var lastModifiedBy: String? = null\n\n    @LastModifiedDate\n    @Column(name = \"last_modified_date\", columnDefinition = \"TIMESTAMP\")\n    var lastModifiedDate: LocalDateTime? = null\n\n    override fun toString(): String {\n        return this::class.java.name + \"#\" + id\n    }\n\n    /* https://vladmihalcea.com/the-best-way-to-implement-equals-hashcode-and-tostring-with-jpa-and-hibernate/ */\n    override fun equals(other: Any?): Boolean {\n        if (this === other) return true\n        if (other !is Order) return false\n        return id != null && id == other.id\n    }\n\n    override fun hashCode(): Int {\n        return javaClass.hashCode()\n    }\n}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/domain/Order.kt:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/adapters/web/CustomerApiController.java","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/adapters/web/CustomerApiController.java","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/adapters/web/CustomerApiController.java#L24-L117","language":"java","visibleRange":"24,117","content":"@RestController\n@RequestMapping(\"/api\")\npublic class CustomerApiController implements CustomerApi {\n\n    private final Logger log = LoggerFactory.getLogger(getClass());\n\n    @Autowired\n    private NativeWebRequest request;\n\n    private CustomerService customerService;\n\n    @Autowired\n    public CustomerApiController setCustomerService(CustomerService customerService) {\n        this.customerService = customerService;\n        return this;\n    }\n\n    private CustomerDTOsMapper mapper = CustomerDTOsMapper.INSTANCE;\n\n    public CustomerApiController(CustomerService customerService) {\n\n        this.customerService = customerService;\n    }\n\n    public Optional<NativeWebRequest> getRequest() {\n        return Optional.ofNullable(request);\n    }\n\n    @Override\n    public ResponseEntity<CustomerDTO> createCustomer(CustomerDTO reqBody) {\n        log.debug(\"REST request to createCustomer: {}\", reqBody);\n        var input = mapper.asCustomer(reqBody);\n        var customer = customerService.createCustomer(input);\n        CustomerDTO responseDTO = mapper.asCustomerDTO(customer);\n        return ResponseEntity.status(201).body(responseDTO);\n    }\n\n    @Override\n    public ResponseEntity<CustomerDTO> getCustomer(Long id) {\n        log.debug(\"REST request to getCustomer: {}\", id);\n        var customer = customerService.getCustomer(id);\n        if (customer.isPresent()) {\n            CustomerDTO responseDTO = mapper.asCustomerDTO(customer.get());\n            return ResponseEntity.status(200).body(responseDTO);\n        } else {\n            return ResponseEntity.notFound().build();\n        }\n    }\n\n    @Override\n    public ResponseEntity<CustomerDTO> updateCustomer(Long id, CustomerDTO reqBody) {\n        log.debug(\"REST request to updateCustomer: {}, {}\", id, reqBody);\n        var input = mapper.asCustomer(reqBody);\n        var customer = customerService.updateCustomer(id, input);\n        if (customer.isPresent()) {\n            CustomerDTO responseDTO = mapper.asCustomerDTO(customer.get());\n            return ResponseEntity.status(200).body(responseDTO);\n        } else {\n            return ResponseEntity.notFound().build();\n        }\n    }\n\n    @Override\n    public ResponseEntity<Void> deleteCustomer(Long id) {\n        log.debug(\"REST request to deleteCustomer: {}\", id);\n        customerService.deleteCustomer(id);\n        return ResponseEntity.status(204).build();\n    }\n\n    @Override\n    public ResponseEntity<CustomerPaginatedDTO> searchCustomers(\n            Integer page, Integer limit, List<String> sort, CustomerSearchCriteriaDTO reqBody) {\n        log.debug(\"REST request to searchCustomers: {}, {}, {}, {}\", page, limit, sort, reqBody);\n        var input = mapper.asCustomerSearchCriteria(reqBody);\n        var customerPage = customerService.searchCustomers(input, pageOf(page, limit, sort));\n        var responseDTO = mapper.asCustomerPaginatedDTO(customerPage);\n        return ResponseEntity.status(200).body(responseDTO);\n    }\n\n    protected Pageable pageOf(Integer page, Integer limit, List<String> sort) {\n        Sort sortOrder = sort != null\n                ? Sort.by(sort.stream()\n                        .map(sortParam -> {\n                            String[] parts = sortParam.split(\":\");\n                            String property = parts[0];\n                            Sort.Direction direction =\n                                    parts.length > 1 ? Sort.Direction.fromString(parts[1]) : Sort.Direction.ASC;\n                            return new Sort.Order(direction, property);\n                        })\n                        .toList())\n                : Sort.unsorted();\n        return PageRequest.of(page != null ? page : 0, limit != null ? limit : 10, sortOrder);\n    }\n}","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/adapters/web/CustomerApiController.java:24,117"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/src/main/java/io/zenwave360/example/clinicaltool/modules/documents/DocumentApiController.java","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/src/main/java/io/zenwave360/example/clinicaltool/modules/documents/DocumentApiController.java","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/src/main/java/io/zenwave360/example/clinicaltool/modules/documents/DocumentApiController.java#L61-L71","language":"java","visibleRange":"61,71","content":"    @Override\n    public ResponseEntity<Resource> downloadDocument(Long id, Boolean preview) {\n        log.debug(\"REST request to downloadDocument: {}, {}\", id, preview);\n        var documentInfo = documentService.downloadDocument(id);\n        byte[] bytes = documentInfo.getDocumentData().getData();\n        ByteArrayResource resource = new ByteArrayResource(bytes);\n        return ResponseEntity.status(200)\n                .header(\"Content-Disposition\", \"inline\") // or attachment; filename=example.pdf\n                .contentType(MediaType.APPLICATION_OCTET_STREAM) // TODO: set content type\n                .body(resource);\n    }","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/src/main/java/io/zenwave360/example/clinicaltool/modules/documents/DocumentApiController.java:61,71"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/core/domain/Address.java","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/core/domain/Address.java","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/core/domain/Address.java","language":"java","visibleRange":null,"content":"package io.zenwave360.example.core.domain;\n\nimport jakarta.persistence.Column;\nimport jakarta.validation.constraints.NotNull;\nimport jakarta.validation.constraints.Size;\nimport java.io.Serializable;\n\n/** */\n@lombok.Getter\n@lombok.Setter\n// @Embeddable // json embedded\npublic class Address implements Serializable {\n\n    @java.io.Serial\n    private static final long serialVersionUID = 1L;\n\n    @NotNull\n    @Size(max = 254)\n    @Column(name = \"street\", nullable = false, length = 254)\n    private String street;\n\n    @NotNull\n    @Size(max = 254)\n    @Column(name = \"city\", nullable = false, length = 254)\n    private String city;\n}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/core/domain/Address.java:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/asyncapi-shopping-cart/shopping-cart/pom.xml","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/asyncapi-shopping-cart/shopping-cart/pom.xml","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/asyncapi-shopping-cart/shopping-cart/pom.xml#L63-L123","language":"xml","visibleRange":"63,123","content":"            <plugin>\n                <groupId>io.zenwave360.sdk</groupId>\n                <artifactId>zenwave-sdk-maven-plugin</artifactId>\n                <version>${zenwave.version}</version>\n                <configuration>\n                    <inputSpec>${asyncapi.inputSpec}</inputSpec>\n                    <skip>false</skip>\n                    <addCompileSourceRoot>true</addCompileSourceRoot>\n                    <addTestCompileSourceRoot>true</addTestCompileSourceRoot>\n                    <!-- <authentication> -->\n                    <!--     <authentication><key>API_KEY</key><value>XXX</value></authentication> -->\n                    <!-- </authentication> -->\n                </configuration>\n                <executions>\n                    <execution>\n                        <id>generate-asyncapi</id>\n                        <phase>generate-sources</phase>\n                        <goals>\n                            <goal>generate</goal>\n                        </goals>\n                        <configuration>\n                            <generatorName>AsyncAPIGenerator</generatorName>\n                            <configOptions>\n                                <role>provider</role>\n                                <templates>${zenwave.asyncapiGenerator.templates}</templates>\n                                <!-- <modelPackage>${asyncApiModelPackage}</modelPackage> required for json-schema, here it'll use the avro package -->\n                                <producerApiPackage>${asyncApiProducerApiPackage}</producerApiPackage>\n                                <consumerApiPackage>${asyncApiConsumerApiPackage}</consumerApiPackage>\n                                <avroCompilerProperties.imports>${asyncapi.avro.imports}</avroCompilerProperties.imports>\n                            </configOptions>\n                        </configuration>\n                    </execution>\n                </executions>\n                <dependencies>\n                    <dependency>\n                        <groupId>io.zenwave360.sdk.plugins</groupId>\n                        <artifactId>asyncapi-generator</artifactId>\n                        <version>${zenwave.version}</version>\n                    </dependency>\n                    <dependency>\n                        <groupId>org.apache.avro</groupId>\n                        <artifactId>avro-compiler</artifactId>\n                        <version>${avro.version}</version>\n                        <exclusions>\n                            <exclusion>\n                                <groupId>com.fasterxml.jackson.core</groupId>\n                                <artifactId>jackson-core</artifactId>\n                            </exclusion>\n                            <exclusion>\n                                <groupId>com.fasterxml.jackson.core</groupId>\n                                <artifactId>jackson-databind</artifactId>\n                            </exclusion>\n                        </exclusions>\n                    </dependency>\n                    <dependency>\n                        <groupId>io.example.asyncapi.shoppingcart</groupId>\n                        <artifactId>shopping-cart-apis</artifactId>\n                        <version>1.0.0</version>\n                    </dependency>\n                </dependencies>\n            </plugin>","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/asyncapi-shopping-cart/shopping-cart/pom.xml:63,123"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/models/surveys.zdl","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/models/surveys.zdl","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/models/surveys.zdl","language":"zdl","visibleRange":null,"content":"config {\n    title \"Clinical Surveys Backend\"\n    layout.moduleBasePackage \"io.zenwave360.example.clinicaltool.modules.surveys\"\n    layout LayeredProjectLayout\n}\n\napis {\n    openapi(provider) BackOfficeAPI {\n        url \"src/main/resources/public/apis/surveys-backoffice-openapi.yml\"\n    }\n    openapi(provider) PublicAPI {\n        url \"src/main/resources/public/apis/surveys-public-openapi.yml\"\n    }\n}\n\n@aggregate\n@auditing\nentity Survey {\n    @naturalId\n    name String required maxlength(254) /** Unique identifier for the survey */\n    @naturalId\n    hospitalId Long required\n    title String required maxlength(254) /** Public title for the survey */\n    lang String required maxlength(3) /** Default language for this survey */\n    @jsonb sections SurveySection[] {\n        name String required maxlength(254) /** Unique identifier for the section */\n        translations SectionTranslation[] {\n            lang String required\n            title String required\n            summary String\n        }\n        questionIds Long[] /** Sorted List of Questions for this section */\n    }\n}\n\n@aggregate\n@auditing\nentity Question {\n    name String required unique maxlength(254) /** Unique identifier for the question */\n    questionType QuestionType required\n    required boolean = true\n    rangeStart Integer\n    rangeEnd Integer\n    @jsonb translations QuestionTranslation[] {\n        lang String required\n        text String required\n    }\n    @jsonb options Option[] { // mas facil mantener el orden que con OneToMany\n        name String required maxlength(254)\n        translations OptionTranslation[] {\n            lang String required\n            text String required\n        }\n    }\n    includeOther Boolean = false\n}\n\nenum QuestionType {\n    YES_NO(1), MULTIPLE_SELECTION(2), SINGLE_SELECTION(3), TEXT(4), NUMBER(5), DECIMAL(6), RANGE(7),\n}\n\n@aggregate\n@auditing\nentity SurveyAnswers {\n    @naturalId\n    surveyId Long required\n    @naturalId\n    patientId Long required\n    @naturalId\n    date LocalDate required\n    lang String required\n    @jsonb answers Answer[] {\n        questionId Long required\n        value String\n        values String[]\n        otherValue String\n    }\n}\n\n\ninput SurveysByHospital {\n    hospitalId Long required\n    lang String maxlength(3)\n}\n\n/**\n* Service for managing surveys and questions in the backoffice.\n*/\n@apis(BackOfficeAPI)\n@rest(\"/backoffice/surveys\")\nservice SurveysBackofficeService for (Survey, Question) {\n    @get\n    listSurveys() Survey[]\n    @get(\"/{id}\")\n    getSurvey(id) Survey?\n    @post\n    createSurvey(Survey) Survey\n    @put(\"/{id}\")\n    updateSurvey(id, Survey) Survey?\n    @delete(\"/{id}\")\n    @entityForId(Survey)\n    deleteSurvey(id)\n\n    @get(\"/questions\")\n    listQuestions() Question[]\n    @get(\"/questions/{id}\")\n    getQuestion(id) Question?\n    @post(\"/questions\")\n    createQuestion(Question) Question\n    @put(\"/questions/{id}\")\n    updateQuestion(id, Question) Question?\n    @entityForId(Question)\n    @delete(\"/questions/{id}\")\n    deleteQuestion(id)\n}\n\n/**\n* This object represent a full survey with all the questions and options translated to the patient language.\n*/\noutput SurveyAndQuestions {\n    surveyId Long required /** Persistence identifier for the survey */\n    name String required maxlength(254) /** Unique identifier for the survey across all environments */\n    title String required maxlength(254) /** Public title for the survey */\n    hospitalId Long required\n    lang String required maxlength(3) /** Default language for this survey */\n    sections SurveySectionOutput[] {\n        name String required maxlength(254) /** Unique identifier for the section */\n        title String required maxlength(254) /** Public title for the section */\n        summary String\n        questions QuestionTranslationOutput[] {\n            questionId Long required\n            required boolean = true\n            rangeStart Integer\n            rangeEnd Integer\n            text String required maxlength(254) /** Translated text for the question */\n            questionType QuestionType required\n            options OptionTranslationOutput[] {\n                name String required maxlength(254) /** Internal name for the option */\n                text String required /** Translated text for the option */\n            }\n            includeOther boolean = false\n        }\n    }\n}\n\n@inline\ninput SurveyByNameAndPatient {\n    name String required maxlength(254)\n    patientId Long required\n    lang String maxlength(3)\n}\n\n/**\n* Public service to get Surveys and Questions for a patient and to answer the survey.\n*/\n@apis(PublicAPI)\n@rest(\"/public/surveys\")\nservice SurveysService for (SurveyAnswers) {\n\n    @get({ path: \"/{name}/patient/{patientId}/questions\", params: { lang: String } })\n    getSurveyAndQuestionsForPatient(SurveyByNameAndPatient) SurveyAndQuestions\n\n    @post(\"/{surveyId}/patient/{patientId}/answers/{date}\")\n    answerSurvey(@natural id, SurveyAnswers) SurveyAnswers\n\n    @patch({ path: \"/{surveyId}/patient/{patientId}/answers/{date}\", params: { surveyId: Long } })\n    updateSurveyAnswers(@natural id, SurveyAnswers) SurveyAnswers?\n\n    @get(\"/{surveyId}/patient/{patientId}/answers/{date}\")\n    getSurveyAnswers(@natural id) SurveyAnswers?\n\n}\n\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/models/surveys.zdl:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/domain/OrderStatus.kt","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/domain/OrderStatus.kt","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/domain/OrderStatus.kt","language":"kotlin","visibleRange":null,"content":"package io.zenwave360.example.orderfulfillment.domain\n\nimport jakarta.persistence.AttributeConverter\nimport jakarta.persistence.Converter\n\n/** Enum for OrderStatus. */\nenum class OrderStatus(val value: Int) {\n\n    DRAFT(1),\n    PLACED(2),\n    PAID(3),\n    SHIPPED(4),\n    CANCELLED(5);\n\n    companion object {\n        fun fromValue(value: Int): OrderStatus? {\n            return values().find { it.value == value }\n        }\n    }\n\n    @Converter\n    class OrderStatusConverter : AttributeConverter<OrderStatus, Int> {\n        override fun convertToDatabaseColumn(attribute: OrderStatus?): Int? {\n            return attribute?.value\n        }\n\n        override fun convertToEntityAttribute(dbData: Int?): OrderStatus? {\n            return if (dbData == null) null else OrderStatus.fromValue(dbData)\n        }\n    }\n}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/domain/OrderStatus.kt:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-sdk/refs/heads/main/zenwave-sdk-cli/src/main/java/io/zenwave360/sdk/zdl/layouts/LayeredProjectLayout.java","originalUrl":"https://github.com/ZenWave360/zenwave-sdk/blob/main/zenwave-sdk-cli/src/main/java/io/zenwave360/sdk/zdl/layouts/LayeredProjectLayout.java","sourceUrl":"https://github.com/ZenWave360/zenwave-sdk/blob/main/zenwave-sdk-cli/src/main/java/io/zenwave360/sdk/zdl/layouts/LayeredProjectLayout.java#L3-L33","language":"java","visibleRange":"3,33","content":"/**\n * Simple domain project layout.\n *\n * <pre>\n * ðŸ“¦ {{basePackage}}                            # Root package\n *    ðŸ“¦ config                                  # Spring Boot configuration, security, etc.\n *    ðŸ“¦ domain                                  # Domain Layer (Business Entities and Events)\n *        â”œâ”€ *Entities\n *        â””â”€ events/\n *           â””â”€ *DomainEvents\n *    ðŸ“¦ repository                              # Repository Layer (Persistence and Data Access)\n *        â”œâ”€ {{persistence}}/\n *        |   â”œâ”€ *RepositoryInterface            # Persistence interface (Spring Data, etc.)\n *        |   â””â”€ *RepositoryImpl                 # Repository implementation\n *    ðŸ“¦ events                                  # Events Layer (Internal and Async API Events)\n *        â”œâ”€ *EventListeners                     # Event listeners\n *    ðŸ“¦ commands                                # Command Layer (Command Handlers)\n *        â”œâ”€ *CommandHandlers                   # Command handlers (e.g., CQRS commands)\n *    ðŸ“¦ service                                 # Service Layer (Business Logic and DTOs)\n *        â”œâ”€ dtos/\n *        |   â””â”€ *DTOs                           # Data Transfer Objects\n *        â”œâ”€ impl/\n *        |   â””â”€ *ServiceImplementation          # Service implementations\n *        â””â”€ impl/mappers/\n *            â””â”€ *Mappers                        # Object mappers for transformations\n *    ðŸ“¦ web                                     # Web Layer (Controllers and API)\n *        â”œâ”€ *RestControllers                   # REST controllers (Spring MVC, etc.)\n *        â””â”€ mappers/\n *           â””â”€ *WebMappers                     # Mappers for web layer transformations\n * </pre>\n */","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-sdk/refs/heads/main/zenwave-sdk-cli/src/main/java/io/zenwave360/sdk/zdl/layouts/LayeredProjectLayout.java:3,33"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-scripts.zw","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-scripts.zw","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-scripts.zw#L31-L33","language":"zdl","visibleRange":"31,33","content":"        SpringWebTestClientPlugin {\n            openapiFile \"src/main/resources/public/apis/openapi.yml\"\n        }","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-scripts.zw:31,33"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-model.zdl","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-model.zdl","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-model.zdl#L55-L68","language":"zdl","visibleRange":"55,68","content":"@rest(\"/customers\")\nservice CustomerService for (Customer) {\n    @post\n    createCustomer(Customer) Customer withEvents CustomerEvent\n    @get(\"/{id}\")\n    getCustomer(id) Customer?\n    @put(\"/{id}\")\n    updateCustomer(id, Customer) Customer? withEvents CustomerEvent\n    @delete(\"/{id}\")\n    deleteCustomer(id) withEvents CustomerDeletedEvent\n    @post(path: \"/search\", status: 200)\n    @paginated\n    searchCustomers(CustomerSearchCriteria) Customer[]\n}","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-model.zdl:55,68"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/domain/OrderItem.kt","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/domain/OrderItem.kt","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/domain/OrderItem.kt","language":"kotlin","visibleRange":null,"content":"package io.zenwave360.example.orderfulfillment.domain\n\nimport jakarta.persistence.*\nimport jakarta.validation.constraints.*\nimport java.io.Serializable\nimport java.math.*\nimport java.time.*\nimport java.util.*\n\n/**  */\n// @Embeddable // json embedded\ndata class OrderItem(\n    @NotNull @Column(name = \"product_id\", nullable = false) var productId: String? = null,\n    @NotNull\n    @Size(max = 254)\n    @Column(name = \"product_name\", nullable = false, length = 254)\n    var productName: String? = null,\n    @NotNull @Min(1) @Column(name = \"quantity\", nullable = false) var quantity: Integer? = null,\n    @NotNull @Column(name = \"unit_price\", nullable = false) var unitPrice: BigDecimal? = null,\n) : Serializable {\n\n    companion object {\n        private const val serialVersionUID = 1L\n    }\n\n    override fun toString(): String {\n        return this::class.java.name + \"@\" + Integer.toHexString(hashCode())\n    }\n}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/domain/OrderItem.kt:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/models/terms-and-conditions.zdl","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/models/terms-and-conditions.zdl","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/models/terms-and-conditions.zdl","language":"zdl","visibleRange":null,"content":"config {\n    title \"Clinical Terms And Conditions Backend\"\n    layout.moduleBasePackage \"io.zenwave360.example.clinicaltool.modules.termsandconditions\"\n    // you can choose: DefaultProjectLayout, CleanHexagonalProjectLayout, LayeredProjectLayout, SimpleDomainProjectLayout, HexagonalProjectLayout, CleanArchitectureProjectLayout\n    layout SimpleDomainProjectLayout\n\n}\n\n\n@aggregate\nentity AcceptedTermsAndConditions {\n    @naturalId\n    userId Long required\n    termsAndConditionsId Long required\n    acceptedDate Instant required\n}\n\n@aggregate\nentity TermsAndConditions {\n    content TextBlob required\n    lang String required maxlength(3) /** language code */\n    contentVersion String unique required /** Arbitrary version string */\n    startDate LocalDate unique required /** Date when the terms and conditions are valid (inclusive) */\n}\n\n@inline\ninput Lang {\n    lang String required maxlength(3) /** language code */\n}\n\ninput AcceptedTermsAndConditionsInput {\n    userId Long required\n    termsAndConditionsId Long required\n}\n\n@rest(\"/terms-and-conditions\")\nservice TermsAndConditionsService for (AcceptedTermsAndConditions, TermsAndConditions) {\n    @get\n    listTermsAndConditions() TermsAndConditions[]\n    @get(\"/{id}\")\n    getTermsAndConditions(id) TermsAndConditions?\n    @post\n    createTermsAndConditions(TermsAndConditions) TermsAndConditions\n    @put(\"/{id}\")\n    updateTermsAndConditions(id, TermsAndConditions) TermsAndConditions?\n\n    @get(\"/latest/{lang}\")\n    getCurrentTermsAndConditions(Lang) TermsAndConditions?\n    @post({ path: \"/accept\", status: 200 })\n    acceptTermsAndConditions(AcceptedTermsAndConditionsInput)\n}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/models/terms-and-conditions.zdl:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/core/domain/PaymentMethod.java","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/core/domain/PaymentMethod.java","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/core/domain/PaymentMethod.java","language":"java","visibleRange":null,"content":"package io.zenwave360.example.core.domain;\n\nimport jakarta.persistence.*;\nimport jakarta.validation.constraints.NotNull;\nimport java.io.Serializable;\nimport java.time.LocalDateTime;\nimport org.hibernate.annotations.Cache;\nimport org.hibernate.annotations.CacheConcurrencyStrategy;\nimport org.springframework.data.annotation.CreatedBy;\nimport org.springframework.data.annotation.CreatedDate;\nimport org.springframework.data.annotation.LastModifiedBy;\nimport org.springframework.data.annotation.LastModifiedDate;\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\n\n/** */\n@lombok.Getter\n@lombok.Setter\n@Entity\n@Table(name = \"payment_method\")\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\n@EntityListeners(AuditingEntityListener.class)\npublic class PaymentMethod implements Serializable {\n\n    @java.io.Serial\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private Long id;\n\n    @Version\n    private Integer version;\n\n    @NotNull\n    @Column(name = \"type\", nullable = false)\n    @Convert(converter = PaymentMethodType.PaymentMethodTypeConverter.class)\n    private PaymentMethodType type;\n\n    @NotNull\n    @Column(name = \"card_number\", nullable = false)\n    private String cardNumber;\n\n    @NotNull\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"customer_id\")\n    private Customer customer;\n\n    @CreatedBy\n    @Column(name = \"created_by\", updatable = false)\n    protected String createdBy;\n\n    @CreatedDate\n    @Column(name = \"created_date\", columnDefinition = \"TIMESTAMP\", updatable = false)\n    protected LocalDateTime createdDate;\n\n    @LastModifiedBy\n    @Column(name = \"last_modified_by\")\n    protected String lastModifiedBy;\n\n    @LastModifiedDate\n    @Column(name = \"last_modified_date\", columnDefinition = \"TIMESTAMP\")\n    protected LocalDateTime lastModifiedDate;\n\n    /*\n     * https://vladmihalcea.com/the-best-way-to-implement-equals-hashcode-and-tostring-\n     * with-jpa-and-hibernate/\n     */\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) {\n            return true;\n        }\n        if (!(o instanceof PaymentMethod)) {\n            return false;\n        }\n        PaymentMethod other = (PaymentMethod) o;\n        return getId() != null && getId().equals(other.getId());\n    }\n\n    @Override\n    public int hashCode() {\n        return getClass().hashCode();\n    }\n}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/core/domain/PaymentMethod.java:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/asyncapi-shopping-cart/shopping-cart/pom.xml","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/asyncapi-shopping-cart/shopping-cart/pom.xml","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/asyncapi-shopping-cart/shopping-cart/pom.xml#L16-L33","language":"xml","visibleRange":"16,33","content":"\t<properties>\n\t\t<basePackage>io.example.asyncapi.shoppingcart</basePackage>\n\t\t<openApiApiPackage>${basePackage}.web</openApiApiPackage>\n\t\t<openApiModelPackage>${basePackage}.web.model</openApiModelPackage>\n\n        <asyncapiPrefix>classpath:io/example/asyncapi/shoppingcart/apis</asyncapiPrefix>\n        <asyncapi.inputSpec>${asyncapiPrefix}/asyncapi.yml</asyncapi.inputSpec>\n        <asyncapi.avro.imports>\n            ${asyncapiPrefix}/avro/\n        </asyncapi.avro.imports>\n        <zenwave.asyncapiGenerator.templates>SpringKafka</zenwave.asyncapiGenerator.templates>\n\n\t\t<asyncApiProducerApiPackage>${basePackage}.events</asyncApiProducerApiPackage>\n\t\t<asyncApiConsumerApiPackage>${basePackage}.commands</asyncApiConsumerApiPackage>\n\n        <spotless-maven-plugin.version>2.44.3</spotless-maven-plugin.version>\n        <palantir-java-format.version>2.55.0</palantir-java-format.version>\n\t</properties>","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/asyncapi-shopping-cart/shopping-cart/pom.xml:16,33"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-sdk/refs/heads/main/zenwave-sdk-cli/src/main/java/io/zenwave360/sdk/zdl/layouts/CleanHexagonalProjectLayout.java","originalUrl":"https://github.com/ZenWave360/zenwave-sdk/blob/main/zenwave-sdk-cli/src/main/java/io/zenwave360/sdk/zdl/layouts/CleanHexagonalProjectLayout.java","sourceUrl":"https://github.com/ZenWave360/zenwave-sdk/blob/main/zenwave-sdk-cli/src/main/java/io/zenwave360/sdk/zdl/layouts/CleanHexagonalProjectLayout.java#L3-L33","language":"java","visibleRange":"3,33","content":"/**\n * Hexagonal Architecture (also called Ports and Adapters) with a Clean separation of concerns, following Domain-Driven Design (DDD) and Event-Driven Architecture (EDA) principles.\n *\n * <pre>\n * ðŸ“¦ {{basePackage}}\n *    ðŸ“¦ adapters\n *        â””â”€ web\n *        |  â””â”€ RestControllers (spring mvc)\n *        â””â”€ events\n *           â””â”€ *EventListeners (spring-cloud-streams)\n *    ðŸ“¦ core\n *        â”œâ”€ ðŸ“¦ domain\n *        |     â””â”€ (entities and aggregates)\n *        â”œâ”€ ðŸ“¦ inbound\n *        |     â”œâ”€ dtos/\n *        |     â””â”€ ServiceInterface (inbound service interface)\n *        â”œâ”€ ðŸ“¦ outbound\n *        |     â”œâ”€ mongodb\n *        |     |  â””â”€ *RepositoryInterface (spring-data interface)\n *        |     â””â”€ jpa\n *        |        â””â”€ *RepositoryInterface (spring-data interface)\n *        â””â”€ ðŸ“¦ implementation\n *              â”œâ”€ mappers/\n *              â””â”€ ServiceImplementation (inbound service implementation)\n *    ðŸ“¦ infrastructure\n *      â”œâ”€ mongodb\n *      |  â””â”€ CustomRepositoryImpl (spring-data custom implementation)\n *      â””â”€ jpa\n *         â””â”€ CustomRepositoryImpl (spring-data custom implementation)\n * </pre>\n */","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-sdk/refs/heads/main/zenwave-sdk-cli/src/main/java/io/zenwave360/sdk/zdl/layouts/CleanHexagonalProjectLayout.java:3,33"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml","language":"yaml","visibleRange":null,"content":"openapi: 3.0.1\ninfo:\n  title: \"ZenWave Customer JPA Example\"\n  version: 0.0.1\n  description: \"ZenWave Customer JPA Example\"\n  contact:\n    email: email@domain.com\nservers:\n  - description: localhost\n    url: http://localhost:8080/api\n  - description: custom\n    url: \"{protocol}://{server}/{path}\"\n    variables:\n      protocol:\n        enum: ['http', 'https']\n        default: 'http'\n      server:\n        default: 'localhost:8080'\n      path:\n        default: 'api'\ntags:\n  - name: \"Default\"\n  - name: \"Customer\"\n\n\npaths:\n  /customers:\n    post:\n      operationId: createCustomer\n      description: \"createCustomer\"\n      tags: [Customer]\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/Customer\"\n      responses:\n        \"201\":\n          description: \"OK\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Customer\"\n  /customers/{id}:\n    get:\n      operationId: getCustomer\n      description: \"getCustomer\"\n      tags: [Customer]\n      parameters:\n        - name: \"id\"\n          in: path\n          required: true\n          schema:\n            type: integer\n            format: int64\n      responses:\n        \"200\":\n          description: \"OK\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Customer\"\n    put:\n      operationId: updateCustomer\n      description: \"updateCustomer\"\n      tags: [Customer]\n      parameters:\n        - name: \"id\"\n          in: path\n          required: true\n          schema:\n            type: integer\n            format: int64\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/Customer\"\n      responses:\n        \"200\":\n          description: \"OK\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Customer\"\n    delete:\n      operationId: deleteCustomer\n      description: \"deleteCustomer\"\n      tags: [Customer]\n      parameters:\n        - name: \"id\"\n          in: path\n          required: true\n          schema:\n            type: integer\n            format: int64\n      responses:\n        \"204\":\n          description: \"OK\"\n  /customers/search:\n    post:\n      operationId: searchCustomers\n      description: \"searchCustomers\"\n      tags: [Customer]\n      parameters:\n        - $ref: \"#/components/parameters/page\"\n        - $ref: \"#/components/parameters/limit\"\n        - $ref: \"#/components/parameters/sort\"\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/CustomerSearchCriteria\"\n      responses:\n        \"200\":\n          description: \"OK\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/CustomerPaginated\"\n\ncomponents:\n  schemas:\n    Customer:\n      type: \"object\"\n      x-business-entity: \"Customer\"\n      required:\n      - \"name\"\n      - \"email\"\n      properties:\n        id:\n          type: \"integer\"\n          format: \"int64\"\n          readOnly: true\n        version:\n          type: \"integer\"\n          default: \"null\"\n          description: \"Version of the document (required in PUT for concurrency control,\\\n            \\ should be null in POSTs).\"\n        name:\n          type: \"string\"\n          maxLength: 254\n          description: \"Customer name\"\n        email:\n          type: \"string\"\n          maxLength: 254\n          pattern: \"^[^@]+@[^\\\\s@]+\\\\.[^\\\\s@]+$\"\n          description: \"\"\n        addresses:\n          type: \"array\"\n          items:\n            $ref: \"#/components/schemas/Address\"\n            minLength: 1\n            maxLength: 5\n        paymentMethods:\n          type: \"array\"\n          items:\n            $ref: \"#/components/schemas/PaymentMethod\"\n    CustomerPaginated:\n      allOf:\n      - $ref: \"#/components/schemas/Page\"\n      - properties:\n          content:\n            type: \"array\"\n            items:\n              $ref: \"#/components/schemas/Customer\"\n    CustomerSearchCriteria:\n      type: \"object\"\n      x-business-entity: \"CustomerSearchCriteria\"\n      properties:\n        name:\n          type: \"string\"\n        email:\n          type: \"string\"\n        city:\n          type: \"string\"\n        state:\n          type: \"string\"\n    PaymentMethodType:\n      type: \"string\"\n      x-business-entity: \"PaymentMethodType\"\n      enum:\n      - \"VISA\"\n      - \"MASTERCARD\"\n    Address:\n      type: \"object\"\n      x-business-entity: \"Address\"\n      required:\n      - \"street\"\n      - \"city\"\n      properties:\n        street:\n          type: \"string\"\n          maxLength: 254\n        city:\n          type: \"string\"\n          maxLength: 254\n    PaymentMethod:\n      type: \"object\"\n      x-business-entity: \"PaymentMethod\"\n      required:\n      - \"type\"\n      - \"cardNumber\"\n      properties:\n        id:\n          type: \"integer\"\n          format: \"int64\"\n          readOnly: true\n        version:\n          type: \"integer\"\n          default: \"null\"\n          description: \"Version of the document (required in PUT for concurrency control,\\\n            \\ should be null in POSTs).\"\n        type:\n          $ref: \"#/components/schemas/PaymentMethodType\"\n        cardNumber:\n          type: \"string\"\n\n    Page:\n      type: object\n      required:\n        - \"content\"\n        - \"totalElements\"\n        - \"totalPages\"\n        - \"size\"\n        - \"number\"\n      properties:\n        number:\n          type: integer\n          minimum: 0\n        numberOfElements:\n          type: integer\n          minimum: 0\n        size:\n          type: integer\n          minimum: 0\n          maximum: 200\n          multipleOf: 25\n        totalElements:\n          type: integer\n        totalPages:\n          type: integer\n\n  parameters:\n    page:\n      name: page\n      in: query\n      description: The number of results page\n      schema:\n        type: integer\n        format: int32\n        default: 0\n    limit:\n      name: limit\n      in: query\n      description: The number of results in a single page\n      schema:\n        type: integer\n        format: int32\n        default: 20\n    sort:\n      name: sort\n      in: query\n      description: Sort results by field name and direction (asc or desc)\n      schema:\n        type: array\n        items:\n          type: string\n\n  securitySchemes:\n    basicAuth:     # <-- arbitrary name for the security scheme\n      type: http\n      scheme: basic\n    bearerAuth:     # <-- arbitrary name for the security scheme\n      type: http\n      scheme: bearer\n      bearerFormat: JWT    # optional, arbitrary value for documentation purposes\nsecurity:\n  - basicAuth: []  # <-- use the same name here\n  - bearerAuth: []  # <-- use the same name here\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-sdk/refs/heads/main/zenwave-sdk-cli/src/main/java/io/zenwave360/sdk/zdl/layouts/SimpleDomainProjectLayout.java","originalUrl":"https://github.com/ZenWave360/zenwave-sdk/blob/main/zenwave-sdk-cli/src/main/java/io/zenwave360/sdk/zdl/layouts/SimpleDomainProjectLayout.java","sourceUrl":"https://github.com/ZenWave360/zenwave-sdk/blob/main/zenwave-sdk-cli/src/main/java/io/zenwave360/sdk/zdl/layouts/SimpleDomainProjectLayout.java#L3-L33","language":"java","visibleRange":"3,33","content":"/**\n * Simple domain project layout.\n *\n * <pre>\n * ðŸ“¦ {{basePackage}}\n *    â””â”€ ðŸ“¦ config\n *    â””â”€ ðŸ“¦ model (entities and aggregates)\n *    â””â”€ ðŸ“¦ dtos\n *    â””â”€ ðŸ“¦ events\n *    â”œâ”€ ðŸ“¦ mappers\n *    â”œâ”€ *EventListeners (spring-cloud-streams)\n *    â”œâ”€ *RestControllers (spring mvc)\n *    â”œâ”€ ServiceImplementation\n *    â””â”€ *RepositoryInterface\n * </pre>\n */\npublic class SimpleDomainProjectLayout extends ProjectLayout {\n\n    {\n        basePackage = \"{{basePackage}}\";\n        // in case of modular project\n        configPackage = \"{{basePackage}}.config\";\n        commonPackage = \"{{basePackage}}\"; // set to \"{{basePackage}}.common\" in modular projects\n        modulesPackage = \"{{basePackage}}.modules\";\n\n        // module specific\n        moduleBasePackage = \"{{basePackage}}\";\n        moduleConfigPackage = \"{{moduleBasePackage}}.config\";\n\n        // domain entities and events\n        entitiesPackage = \"{{moduleBasePackage}}.domain\";","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-sdk/refs/heads/main/zenwave-sdk-cli/src/main/java/io/zenwave360/sdk/zdl/layouts/SimpleDomainProjectLayout.java:3,33"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-model.zdl","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-model.zdl","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-model.zdl","language":"zdl","visibleRange":null,"content":"/**\n * Sample ZenWave Model Definition.\n * Use zenwave-scripts.zdl to generate your code from this model definition.\n */\nconfig {\n    title \"ZenWave Customer JPA Example\"\n    basePackage \"io.zenwave360.example\"\n    persistence jpa\n    databaseType postgresql\n\n    layout CleanHexagonalProjectLayout\n\n    // these should match the values of openapi-generator-maven-plugin\n    // used by the OpenAPIControllersPlugin and SpringWebTestClientPlugin\n    openApiApiPackage \"{{basePackage}}.adapters.web\"\n    openApiModelPackage \"{{basePackage}}.adapters.web.model\"\n    openApiModelNameSuffix DTO\n}\n\n/**\n* Customer entity\n*/\n@aggregate\n@auditing // adds auditing fields to the entity\nentity Customer {\n    name String required maxlength(254) /** Customer name */\n    email String required maxlength(254) pattern(/^[^@]+@[^\\\\s@]+\\\\.[^\\\\s@]+$/)\n    /** Customer Addresses can be stored in a JSON column in the database. */\n    @json addresses Address[] minlength(1) maxlength(5) {\n        street String required maxlength(254)\n        city String required maxlength(254)\n    }\n}\n\n@auditing\nentity PaymentMethod {\n    type PaymentMethodType required\n    cardNumber String required\n}\n\nenum PaymentMethodType { VISA(1), MASTERCARD(2) }\n\nrelationship OneToMany {\n    Customer{paymentMethods required maxlength(3)} to PaymentMethod{customer required}\n}\n\n// you can create 'inputs' as dtos for your service methods, or use entities directly\ninput CustomerSearchCriteria {\n    name String\n    email String\n    city String\n    state String\n}\n\n@rest(\"/customers\")\nservice CustomerService for (Customer) {\n    @post\n    createCustomer(Customer) Customer withEvents CustomerEvent\n    @get(\"/{id}\")\n    getCustomer(id) Customer?\n    @put(\"/{id}\")\n    updateCustomer(id, Customer) Customer? withEvents CustomerEvent\n    @delete(\"/{id}\")\n    deleteCustomer(id) withEvents CustomerDeletedEvent\n    @post(path: \"/search\", status: 200)\n    @paginated\n    searchCustomers(CustomerSearchCriteria) Customer[]\n}\n\n@copy(Customer)\n@asyncapi({ channel: \"CustomersChannel\", topic: \"customers\" })\nevent CustomerEvent {\n    id Long required\n    version Integer\n    // all fields from Customer are copied here, but not relationships\n    paymentMethods PaymentMethod[]\n}\n\n@asyncapi({ channel: \"CustomersChannel\", topic: \"customers\" })\nevent CustomerDeletedEvent {\n    id Long required\n}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-model.zdl:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/OrderRepository.kt","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/OrderRepository.kt","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/OrderRepository.kt","language":"kotlin","visibleRange":null,"content":"package io.zenwave360.example.orderfulfillment\n\nimport io.zenwave360.example.orderfulfillment.domain.*\nimport java.math.*\nimport java.time.*\nimport java.util.*\nimport org.springframework.data.jpa.repository.*\nimport org.springframework.stereotype.Repository\n\n/** Spring Data JPA repository for the Order entity. */\n@Suppress(\"unused\")\n@Repository\ninterface OrderRepository : JpaRepository<Order, Long> {\n    fun findByOrderNumber(orderNumber: String): Order?\n}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/OrderRepository.kt:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/CustomerApiIntegrationTest.java","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/CustomerApiIntegrationTest.java","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/CustomerApiIntegrationTest.java#L17-L79","language":"java","visibleRange":"17,79","content":"    @Test\n    void testCreateCustomer_201() {\n        var requestBody =\n                \"\"\"\n                {\n                  \"email\": \"jane.doe@example.com\",\n                  \"name\": \"Jane Doe\",\n                  \"addresses\": [\n                    {\n                      \"city\": \"Othertown\",\n                      \"street\": \"456 Elm St\"\n                    }\n                  ],\n                  \"paymentMethods\": [\n                    {\n                      \"type\": \"VISA\",\n                      \"cardNumber\": \"6543210987654321\"\n                    }\n                  ]\n                }\n                \"\"\";\n\n        webTestClient\n                .method(POST)\n                .uri(\"/api/customers\")\n                .accept(MediaType.APPLICATION_JSON)\n                .contentType(MediaType.APPLICATION_JSON)\n                .bodyValue(requestBody)\n                .exchange()\n                .expectStatus()\n                .isEqualTo(201)\n                .expectHeader()\n                .contentType(MediaType.APPLICATION_JSON)\n                .expectBody()\n                .jsonPath(\"$.id\")\n                .isNotEmpty()\n                .jsonPath(\"$.version\")\n                .isNotEmpty()\n                .jsonPath(\"$.name\")\n                .isNotEmpty()\n                .jsonPath(\"$.email\")\n                .isNotEmpty()\n                .jsonPath(\"$.addresses\")\n                .isNotEmpty()\n                .jsonPath(\"$.addresses\")\n                .isArray()\n                .jsonPath(\"$.addresses[0].street\")\n                .isNotEmpty()\n                .jsonPath(\"$.addresses[0].city\")\n                .isNotEmpty()\n                .jsonPath(\"$.paymentMethods\")\n                .isNotEmpty()\n                .jsonPath(\"$.paymentMethods\")\n                .isArray()\n                .jsonPath(\"$.paymentMethods[0].id\")\n                .isNotEmpty()\n                .jsonPath(\"$.paymentMethods[0].version\")\n                .isNotEmpty()\n                .jsonPath(\"$.paymentMethods[0].type\")\n                .isNotEmpty()\n                .jsonPath(\"$.paymentMethods[0].cardNumber\")\n                .isNotEmpty();\n    }","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/CustomerApiIntegrationTest.java:17,79"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/core/domain/PaymentMethodType.java","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/core/domain/PaymentMethodType.java","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/core/domain/PaymentMethodType.java","language":"java","visibleRange":null,"content":"package io.zenwave360.example.core.domain;\n\nimport jakarta.persistence.AttributeConverter;\nimport jakarta.persistence.Converter;\nimport java.util.Arrays;\n\n/** Enum for PaymentMethodType. */\npublic enum PaymentMethodType {\n    VISA(1),\n    MASTERCARD(2),\n    ;\n\n    private final Integer value;\n\n    private PaymentMethodType(Integer value) {\n        this.value = value;\n    }\n\n    public Integer getValue() {\n        return value;\n    }\n\n    public static PaymentMethodType fromValue(Integer value) {\n        return Arrays.stream(PaymentMethodType.values())\n                .filter(e -> e.value.equals(value))\n                .findFirst()\n                .orElse(null);\n    }\n\n    @Converter\n    static class PaymentMethodTypeConverter implements AttributeConverter<PaymentMethodType, Integer> {\n\n        @Override\n        public Integer convertToDatabaseColumn(PaymentMethodType attribute) {\n            if (attribute == null) {\n                return null;\n            }\n\n            return attribute.value;\n        }\n\n        @Override\n        public PaymentMethodType convertToEntityAttribute(Integer dbData) {\n            return PaymentMethodType.fromValue(dbData);\n        }\n    }\n}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/core/domain/PaymentMethodType.java:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/zenwave-scripts.zw","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/zenwave-scripts.zw","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/zenwave-scripts.zw#L1-L11","language":"zdl","visibleRange":"1,11","content":"config {\n    title \"Clinical Tool Backend\"\n    basePackage \"io.zenwave360.example.clinicaltool\"\n    persistence jpa\n    databaseType postgresql\n\n    layout.commonPackage \"{{basePackage}}.common\"\n    layout.infrastructureRepositoryCommonPackage \"{{commonPackage}}\"\n    layout.adaptersWebMappersCommonPackage \"{{commonPackage}}.mappers\"\n    layout.coreImplementationMappersCommonPackage \"{{commonPackage}}.mappers\"\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/zenwave-scripts.zw:1,11"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/asyncapi-shopping-cart/shopping-cart/pom.xml","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/asyncapi-shopping-cart/shopping-cart/pom.xml","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/asyncapi-shopping-cart/shopping-cart/pom.xml#L36-L46","language":"xml","visibleRange":"36,46","content":"        <profile>\n            <id>asyncapi-http-files</id>\n            <properties>\n                <asyncapiPrefix>https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/main/examples/asyncapi-shopping-cart/apis</asyncapiPrefix>\n                <asyncapi.inputSpec>${asyncapiPrefix}/asyncapi.yml</asyncapi.inputSpec>\n                <asyncapi.avro.imports>\n                    ${asyncapiPrefix}/avro/Item.avsc,\n                    ${asyncapiPrefix}/avro/ShoppingCart.avsc,\n                </asyncapi.avro.imports>\n            </properties>\n        </profile>","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/asyncapi-shopping-cart/shopping-cart/pom.xml:36,46"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-model.zdl","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-model.zdl","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-model.zdl#L59-L60","language":"zdl","visibleRange":"59,60","content":"    @get(\"/{id}\")\n    getCustomer(id) Customer?","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-model.zdl:59,60"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml","language":"yaml","visibleRange":null,"content":"openapi: 3.0.1\ninfo:\n  title: \"ZenWave Customer JPA Example\"\n  version: 0.0.1\n  description: \"ZenWave Customer JPA Example\"\n  contact:\n    email: email@domain.com\nservers:\n  - description: localhost\n    url: http://localhost:8080/api\n  - description: custom\n    url: \"{protocol}://{server}/{path}\"\n    variables:\n      protocol:\n        enum: ['http', 'https']\n        default: 'http'\n      server:\n        default: 'localhost:8080'\n      path:\n        default: 'api'\ntags:\n  - name: \"Default\"\n  - name: \"Customer\"\n\n\npaths:\n  /customers:\n    post:\n      operationId: createCustomer\n      description: \"createCustomer\"\n      tags: [Customer]\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/Customer\"\n      responses:\n        \"201\":\n          description: \"OK\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Customer\"\n  /customers/{id}:\n    get:\n      operationId: getCustomer\n      description: \"getCustomer\"\n      tags: [Customer]\n      parameters:\n        - name: \"id\"\n          in: path\n          required: true\n          schema:\n            type: integer\n            format: int64\n      responses:\n        \"200\":\n          description: \"OK\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Customer\"\n    put:\n      operationId: updateCustomer\n      description: \"updateCustomer\"\n      tags: [Customer]\n      parameters:\n        - name: \"id\"\n          in: path\n          required: true\n          schema:\n            type: integer\n            format: int64\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/Customer\"\n      responses:\n        \"200\":\n          description: \"OK\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Customer\"\n    delete:\n      operationId: deleteCustomer\n      description: \"deleteCustomer\"\n      tags: [Customer]\n      parameters:\n        - name: \"id\"\n          in: path\n          required: true\n          schema:\n            type: integer\n            format: int64\n      responses:\n        \"204\":\n          description: \"OK\"\n  /customers/search:\n    post:\n      operationId: searchCustomers\n      description: \"searchCustomers\"\n      tags: [Customer]\n      parameters:\n        - $ref: \"#/components/parameters/page\"\n        - $ref: \"#/components/parameters/limit\"\n        - $ref: \"#/components/parameters/sort\"\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/CustomerSearchCriteria\"\n      responses:\n        \"200\":\n          description: \"OK\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/CustomerPaginated\"\n\ncomponents:\n  schemas:\n    Customer:\n      type: \"object\"\n      x-business-entity: \"Customer\"\n      required:\n      - \"name\"\n      - \"email\"\n      properties:\n        id:\n          type: \"integer\"\n          format: \"int64\"\n          readOnly: true\n        version:\n          type: \"integer\"\n          default: \"null\"\n          description: \"Version of the document (required in PUT for concurrency control,\\\n            \\ should be null in POSTs).\"\n        name:\n          type: \"string\"\n          maxLength: 254\n          description: \"Customer name\"\n        email:\n          type: \"string\"\n          maxLength: 254\n          pattern: \"^[^@]+@[^\\\\s@]+\\\\.[^\\\\s@]+$\"\n          description: \"\"\n        addresses:\n          type: \"array\"\n          items:\n            $ref: \"#/components/schemas/Address\"\n            minLength: 1\n            maxLength: 5\n        paymentMethods:\n          type: \"array\"\n          items:\n            $ref: \"#/components/schemas/PaymentMethod\"\n    CustomerPaginated:\n      allOf:\n      - $ref: \"#/components/schemas/Page\"\n      - properties:\n          content:\n            type: \"array\"\n            items:\n              $ref: \"#/components/schemas/Customer\"\n    CustomerSearchCriteria:\n      type: \"object\"\n      x-business-entity: \"CustomerSearchCriteria\"\n      properties:\n        name:\n          type: \"string\"\n        email:\n          type: \"string\"\n        city:\n          type: \"string\"\n        state:\n          type: \"string\"\n    PaymentMethodType:\n      type: \"string\"\n      x-business-entity: \"PaymentMethodType\"\n      enum:\n      - \"VISA\"\n      - \"MASTERCARD\"\n    Address:\n      type: \"object\"\n      x-business-entity: \"Address\"\n      required:\n      - \"street\"\n      - \"city\"\n      properties:\n        street:\n          type: \"string\"\n          maxLength: 254\n        city:\n          type: \"string\"\n          maxLength: 254\n    PaymentMethod:\n      type: \"object\"\n      x-business-entity: \"PaymentMethod\"\n      required:\n      - \"type\"\n      - \"cardNumber\"\n      properties:\n        id:\n          type: \"integer\"\n          format: \"int64\"\n          readOnly: true\n        version:\n          type: \"integer\"\n          default: \"null\"\n          description: \"Version of the document (required in PUT for concurrency control,\\\n            \\ should be null in POSTs).\"\n        type:\n          $ref: \"#/components/schemas/PaymentMethodType\"\n        cardNumber:\n          type: \"string\"\n\n    Page:\n      type: object\n      required:\n        - \"content\"\n        - \"totalElements\"\n        - \"totalPages\"\n        - \"size\"\n        - \"number\"\n      properties:\n        number:\n          type: integer\n          minimum: 0\n        numberOfElements:\n          type: integer\n          minimum: 0\n        size:\n          type: integer\n          minimum: 0\n          maximum: 200\n          multipleOf: 25\n        totalElements:\n          type: integer\n        totalPages:\n          type: integer\n\n  parameters:\n    page:\n      name: page\n      in: query\n      description: The number of results page\n      schema:\n        type: integer\n        format: int32\n        default: 0\n    limit:\n      name: limit\n      in: query\n      description: The number of results in a single page\n      schema:\n        type: integer\n        format: int32\n        default: 20\n    sort:\n      name: sort\n      in: query\n      description: Sort results by field name and direction (asc or desc)\n      schema:\n        type: array\n        items:\n          type: string\n\n  securitySchemes:\n    basicAuth:     # <-- arbitrary name for the security scheme\n      type: http\n      scheme: basic\n    bearerAuth:     # <-- arbitrary name for the security scheme\n      type: http\n      scheme: bearer\n      bearerFormat: JWT    # optional, arbitrary value for documentation purposes\nsecurity:\n  - basicAuth: []  # <-- use the same name here\n  - bearerAuth: []  # <-- use the same name here\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-scripts.zw","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-scripts.zw","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-scripts.zw#L35-L40","language":"zdl","visibleRange":"35,40","content":"        SpringWebTestClientPlugin {\n            openapiFile \"src/main/resources/public/apis/openapi.yml\"\n            groupBy businessFlow\n            businessFlowTestName CreateUpdateDeleteCustomerIntegrationTest\n            operationIds createCustomer,updateCustomer,deleteCustomer,getCustomer\n        }","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-scripts.zw:35,40"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/core/outbound/jpa/CustomerRepository.java","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/core/outbound/jpa/CustomerRepository.java","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/core/outbound/jpa/CustomerRepository.java","language":"java","visibleRange":null,"content":"package io.zenwave360.example.core.outbound.jpa;\n\nimport io.zenwave360.example.core.domain.Customer;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n/** Spring Data JPA repository for the Customer entity. */\n@SuppressWarnings(\"unused\")\n@Repository\npublic interface CustomerRepository extends JpaRepository<Customer, Long> {}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/core/outbound/jpa/CustomerRepository.java:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/OrderService.kt","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/OrderService.kt","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/OrderService.kt","language":"kotlin","visibleRange":null,"content":"package io.zenwave360.example.orderfulfillment\n\nimport io.zenwave360.example.orderfulfillment.domain.*\nimport io.zenwave360.example.orderfulfillment.dtos.*\nimport java.math.*\nimport java.time.*\n\n/** Inbound Service Port for managing [Order]. */\ninterface OrderService {\n\n    /**\n     * Customer places an order\n     *\n     * With Events: [OrderPlaced].\n     */\n    fun placeOrder(input: PlaceOrderInput): Order\n\n    /**\n     * Order is shipped\n     *\n     * With Events: [OrderPaid].\n     */\n    fun payOrder(orderNumber: String, input: PayOrderInput): Order\n\n    /**\n     * Order is cancelled\n     *\n     * With Events: [OrderShipped].\n     */\n    fun shipOrder(orderNumber: String, input: ShipOrderInput): Order\n\n    /**\n     * Query order\n     *\n     * <ul><li><b>shipedOrdersCanNotBeCancelled</b>: Shipped orders can not be cancelled</li></ul> With Events:\n     * [OrderCancelled].\n     */\n    fun cancelOrder(orderNumber: String): Order\n\n    /**  */\n    fun getOrder(orderNumber: String): Order?\n}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/OrderService.kt:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/models/clinical.zdl","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/models/clinical.zdl","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/models/clinical.zdl#L1-L6","language":"zdl","visibleRange":"1,6","content":"config {\n    title \"Clinical Tool Backend\"\n    layout.moduleBasePackage \"io.zenwave360.example.clinicaltool.modules.clinical\"\n    // you can choose different layouts, see docs at https://www.zenwave360.io/docs/\n    layout CleanHexagonalProjectLayout\n}","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/models/clinical.zdl:1,6"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/asyncapi.yml","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/asyncapi.yml","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/asyncapi.yml","language":"yaml","visibleRange":null,"content":"asyncapi: 3.0.0\ninfo:\n  title: \"ZenWave Customer JPA Example\"\n  version: 0.0.1\n  tags:\n    - name: \"Default\"\n    - name: \"Customer\"\n\ndefaultContentType: application/json\n\nchannels:\n  CustomersChannel:\n    address: \"customers\"\n    messages:\n      CustomerDeletedEventMessage:\n        $ref: '#/components/messages/CustomerDeletedEventMessage'\n      CustomerEventMessage:\n        $ref: '#/components/messages/CustomerEventMessage'\n\noperations:\n  onCustomerEvent:\n    action: send\n    tags:\n      - name: Customer\n    channel:\n      $ref: '#/channels/CustomersChannel'\n  onCustomerDeletedEvent:\n    action: send\n    tags:\n      - name: Customer\n    channel:\n      $ref: '#/channels/CustomersChannel'\n\n\ncomponents:\n  messages:\n    CustomerEventMessage:\n      name: CustomerEventMessage\n      title: \"\"\n      summary: \"\"\n      traits:\n        - $ref: '#/components/messageTraits/CommonHeaders'\n      payload:\n        schemaFormat: application/vnd.apache.avro+json;version=1.9.0\n        schema:\n          $ref: \"./avro/CustomerEvent.avsc\"\n    CustomerDeletedEventMessage:\n      name: CustomerDeletedEventMessage\n      title: \"\"\n      summary: \"\"\n      traits:\n        - $ref: '#/components/messageTraits/CommonHeaders'\n      payload:\n        schemaFormat: application/vnd.apache.avro+json;version=1.9.0\n        schema:\n          $ref: \"./avro/CustomerDeletedEvent.avsc\"\n\n  messageTraits:\n    CommonHeaders:\n      headers:\n        type: object\n        properties:\n          kafka_messageKey:\n            type: \"integer\"\n            description: This header value will be populated automatically at runtime\n            x-runtime-expression: $message.payload#/id\n\n\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/asyncapi.yml:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml#L45-L63","language":"yaml","visibleRange":"45,63","content":"  /customers/{id}:\n    get:\n      operationId: getCustomer\n      description: \"getCustomer\"\n      tags: [Customer]\n      parameters:\n        - name: \"id\"\n          in: path\n          required: true\n          schema:\n            type: integer\n            format: int64\n      responses:\n        \"200\":\n          description: \"OK\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Customer\"","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml:45,63"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/asyncapi-shopping-cart/client/pom.xml","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/asyncapi-shopping-cart/client/pom.xml","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/asyncapi-shopping-cart/client/pom.xml#L57-L116","language":"xml","visibleRange":"57,116","content":"            <plugin>\n                <groupId>io.zenwave360.sdk</groupId>\n                <artifactId>zenwave-sdk-maven-plugin</artifactId>\n                <version>${zenwave.version}</version>\n                <configuration>\n                    <inputSpec>${asyncapi.inputSpec}</inputSpec>\n                    <skip>false</skip>\n                    <addCompileSourceRoot>true</addCompileSourceRoot>\n                    <addTestCompileSourceRoot>true</addTestCompileSourceRoot>\n                </configuration>\n                <executions>\n                    <execution>\n                        <id>generate-asyncapi</id>\n                        <phase>generate-sources</phase>\n                        <goals>\n                            <goal>generate</goal>\n                        </goals>\n                        <configuration>\n                            <generatorName>AsyncAPIGenerator</generatorName>\n                            <configOptions>\n                                <role>client</role>\n                                <templates>${zenwave.asyncapiGenerator.templates}</templates>\n                                <!-- required for json, here it uses avro package <modelPackage>${asyncApiModelPackage}</modelPackage>-->\n                                <producerApiPackage>${asyncApiProducerApiPackage}</producerApiPackage>\n                                <consumerApiPackage>${asyncApiConsumerApiPackage}</consumerApiPackage>\n                                <avroCompilerProperties.imports>${asyncapi.avro.imports}</avroCompilerProperties.imports>\n\n<!--                                <operationIds>onCustomerDeletedEvent</operationIds>-->\n                            </configOptions>\n                        </configuration>\n                    </execution>\n                </executions>\n                <dependencies>\n                    <dependency>\n                        <groupId>io.zenwave360.sdk.plugins</groupId>\n                        <artifactId>asyncapi-generator</artifactId>\n                        <version>${zenwave.version}</version>\n                    </dependency>\n                    <dependency>\n                        <groupId>org.apache.avro</groupId>\n                        <artifactId>avro-compiler</artifactId>\n                        <version>${avro.version}</version>\n                        <exclusions>\n                            <exclusion>\n                                <groupId>com.fasterxml.jackson.core</groupId>\n                                <artifactId>jackson-core</artifactId>\n                            </exclusion>\n                            <exclusion>\n                                <groupId>com.fasterxml.jackson.core</groupId>\n                                <artifactId>jackson-databind</artifactId>\n                            </exclusion>\n                        </exclusions>\n                    </dependency>\n                    <dependency>\n                        <groupId>io.example.asyncapi.shoppingcart</groupId>\n                        <artifactId>shopping-cart-apis</artifactId>\n                        <version>1.0.0</version>\n                    </dependency>\n                </dependencies>\n            </plugin>","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/asyncapi-shopping-cart/client/pom.xml:57,116"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/CreateUpdateDeleteCustomerIntegrationTest.java","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/CreateUpdateDeleteCustomerIntegrationTest.java","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/CreateUpdateDeleteCustomerIntegrationTest.java","language":"java","visibleRange":null,"content":"package io.zenwave360.example.adapters.web;\n\nimport static org.springframework.http.HttpMethod.*;\n\nimport io.zenwave360.example.adapters.web.model.CustomerDTO;\nimport io.zenwave360.example.adapters.web.model.PaymentMethodTypeDTO;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.http.MediaType;\n\n/**\n * Business Flow Test for: createCustomer, getCustomer, updateCustomer, deleteCustomer.\n */\nclass CreateUpdateDeleteCustomerIntegrationTest extends BaseWebTestClientTest {\n\n    /**\n     * Business Flow Test for: createCustomer, getCustomer, updateCustomer, deleteCustomer.\n     */\n    @Test\n    void testCreateUpdateDeleteCustomerIntegrationTest() {\n        // createCustomer: createCustomer\n        var customerRequestBody0 =\n                \"\"\"\n                {\n                  \"email\": \"jane.doe@example.com\",\n                  \"name\": \"Jane Doe\",\n                  \"addresses\": [\n                    {\n                      \"city\": \"Othertown\",\n                      \"street\": \"456 Elm St\"\n                    }\n                  ],\n                  \"paymentMethods\": [\n                    {\n                      \"type\": \"VISA\",\n                      \"cardNumber\": \"6543210987654321\"\n                    }\n                  ]\n                }\n                \"\"\";\n\n        var createCustomerResponse0 = webTestClient\n                .method(POST)\n                .uri(\"/api/customers\")\n                .accept(MediaType.APPLICATION_JSON)\n                .contentType(MediaType.APPLICATION_JSON)\n                .bodyValue(customerRequestBody0)\n                .exchange()\n                .expectStatus()\n                .isEqualTo(201)\n                .expectHeader()\n                .contentType(MediaType.APPLICATION_JSON)\n                .returnResult(CustomerDTO.class);\n\n        // getCustomer: getCustomer\n        var id = createCustomerResponse0.getResponseBody().blockFirst().getId();\n\n        var getCustomerResponse1 = webTestClient\n                .method(GET)\n                .uri(\"/api/customers/{id}\", id)\n                .accept(MediaType.APPLICATION_JSON)\n                .exchange()\n                .expectStatus()\n                .isEqualTo(200)\n                .expectHeader()\n                .contentType(MediaType.APPLICATION_JSON)\n                .returnResult(CustomerDTO.class);\n\n        // updateCustomer: updateCustomer\n        CustomerDTO customerRequestBody2 =\n                getCustomerResponse1.getResponseBody().blockFirst();\n        customerRequestBody2.setName(\"updated\");\n        customerRequestBody2.setEmail(\"updated@email.com\");\n        customerRequestBody2.getPaymentMethods().get(0).setType(PaymentMethodTypeDTO.VISA);\n\n        var updateCustomerResponse2 = webTestClient\n                .method(PUT)\n                .uri(\"/api/customers/{id}\", id)\n                .accept(MediaType.APPLICATION_JSON)\n                .contentType(MediaType.APPLICATION_JSON)\n                .bodyValue(customerRequestBody2)\n                .exchange()\n                .expectStatus()\n                .isEqualTo(200)\n                .expectHeader()\n                .contentType(MediaType.APPLICATION_JSON)\n                .returnResult(CustomerDTO.class);\n\n        // deleteCustomer: deleteCustomer\n\n        webTestClient\n                .method(DELETE)\n                .uri(\"/api/customers/{id}\", id)\n                .accept(MediaType.APPLICATION_JSON)\n                .exchange()\n                .expectStatus()\n                .isEqualTo(204);\n\n        // getCustomer: getCustomer (not found)\n        webTestClient\n                .method(GET)\n                .uri(\"/api/customers/{id}\", id)\n                .accept(MediaType.APPLICATION_JSON)\n                .exchange()\n                .expectStatus()\n                .isEqualTo(404);\n    }\n}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/CreateUpdateDeleteCustomerIntegrationTest.java:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/infrastructure/jpa/inmemory/CustomerRepositoryInMemory.java","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/infrastructure/jpa/inmemory/CustomerRepositoryInMemory.java","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/infrastructure/jpa/inmemory/CustomerRepositoryInMemory.java","language":"java","visibleRange":null,"content":"package io.zenwave360.example.infrastructure.jpa.inmemory;\n\nimport static org.apache.commons.lang3.ObjectUtils.firstNonNull;\n\nimport io.zenwave360.example.core.domain.Customer;\nimport io.zenwave360.example.core.outbound.jpa.CustomerRepository;\n\npublic class CustomerRepositoryInMemory extends InMemoryJpaRepository<Customer> implements CustomerRepository {\n\n    private long nextId = 0;\n    private final PrimaryKeyGenerator<Long> primaryKeyGenerator = () -> nextId++;\n\n    public Customer save(Customer entity) {\n        entity = super.save(entity);\n        entity.getPaymentMethods().forEach(paymentMethod -> {\n            paymentMethod.setId(firstNonNull(paymentMethod.getId(), primaryKeyGenerator.next()));\n        });\n        return entity;\n    }\n}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/infrastructure/jpa/inmemory/CustomerRepositoryInMemory.java:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/OrderServiceImpl.kt","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/OrderServiceImpl.kt","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/OrderServiceImpl.kt","language":"kotlin","visibleRange":null,"content":"package io.zenwave360.example.orderfulfillment\n\n// import io.zenwave360.example.orderfulfillment.events.dtos.*\nimport io.zenwave360.example.orderfulfillment.*\nimport io.zenwave360.example.orderfulfillment.domain.*\nimport io.zenwave360.example.orderfulfillment.dtos.*\nimport io.zenwave360.example.orderfulfillment.events.*\nimport io.zenwave360.example.orderfulfillment.mappers.*\nimport java.math.*\nimport java.time.*\nimport org.slf4j.Logger\nimport org.slf4j.LoggerFactory\nimport org.springframework.stereotype.Service\nimport org.springframework.transaction.annotation.Transactional\nimport java.util.UUID\n\n/** Service Implementation for managing [Order]. */\n@Service\n@Transactional\nopen class OrderServiceImpl(\n    private val orderRepository: OrderRepository,\n    private val eventsProducer: OrderEventsProducer,\n) : OrderService {\n\n    private val log: Logger = LoggerFactory.getLogger(javaClass)\n\n    private val orderServiceMapper: OrderServiceMapper = OrderServiceMapper.INSTANCE\n\n    private val eventsMapper: EventsMapper = EventsMapper.INSTANCE\n\n    override fun placeOrder(input: PlaceOrderInput): Order {\n        log.debug(\"Request placeOrder: {}\", input)\n\n        val order = orderServiceMapper.update(Order(), input)\n            .apply {\n                orderNumber = UUID.randomUUID().toString()\n                status = OrderStatus.PLACED\n                totalAmount = input.items.sumOf { it.unitPrice!! * BigDecimal.valueOf(it.quantity!!.toLong()) }\n            }\n            .let { orderRepository.save(it) }\n\n        // emit events\n        eventsProducer.onOrderPlaced(eventsMapper.asOrderPlaced(order))\n        return order\n    }\n\n    override fun payOrder(orderNumber: String, input: PayOrderInput): Order {\n        log.debug(\"Request payOrder: {} {}\", orderNumber, input)\n\n        return orderRepository\n            .findByOrderNumber(orderNumber)\n            ?.let { existingOrder -> orderServiceMapper.update(existingOrder, input) }\n            ?.apply { status = OrderStatus.PAID }\n            ?.let { orderRepository.save(it) }\n            ?.also {\n\n                // emit events\n                eventsProducer.onOrderPaid(eventsMapper.asOrderPaid(it))\n            } ?: throw NoSuchElementException(\"Order not found with id: orderNumber=$orderNumber\")\n    }\n\n    override fun shipOrder(orderNumber: String, input: ShipOrderInput): Order {\n        log.debug(\"Request shipOrder: {} {}\", orderNumber, input)\n\n        return orderRepository\n            .findByOrderNumber(orderNumber)\n            ?.let { existingOrder -> orderServiceMapper.update(existingOrder, input) }\n            ?.apply { status = OrderStatus.SHIPPED }\n            ?.let { orderRepository.save(it) }\n            ?.also {\n\n                // emit events\n                eventsProducer.onOrderShipped(eventsMapper.asOrderShipped(it))\n            } ?: throw NoSuchElementException(\"Order not found with id: orderNumber=$orderNumber\")\n    }\n\n    override fun cancelOrder(orderNumber: String): Order {\n        log.debug(\"Request cancelOrder: {}\", orderNumber)\n\n        return orderRepository.findByOrderNumber(orderNumber)\n            ?.also {\n                if (it.status == OrderStatus.SHIPPED) {\n                    throw IllegalStateException(\"Shipped orders can not be cancelled\")\n                }\n            }\n            ?.apply { status = OrderStatus.CANCELLED }\n            ?.let { orderRepository.save(it) }\n            ?.also {\n                // emit events\n                eventsProducer.onOrderCancelled(eventsMapper.asOrderCancelled(it))\n            }\n            ?: throw NoSuchElementException(\"Order not found with id: orderNumber=$orderNumber\")\n    }\n\n    @Transactional(readOnly = true)\n    override fun getOrder(orderNumber: String): Order? {\n        log.debug(\"Request getOrder: {}\", orderNumber)\n        val order = orderRepository.findByOrderNumber(orderNumber)\n        return order\n    }\n}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/OrderServiceImpl.kt:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/models/clinical.zdl","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/models/clinical.zdl","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/models/clinical.zdl#L187-L212","language":"zdl","visibleRange":"187,212","content":"@rest\nservice PatientsService for (Patient) {\n\n    @get(\"/patients/{hisNumber}/{phoneNumber}\")\n    loadPatient(@natural id) Patient\n\n    @post(\"/patients\")\n    createPatient(Patient) Patient withEvents PatientCreated\n\n    @patch(\"/patients/{hisNumber}/{phoneNumber}\")\n    partialPatientUpdate(@natural id, Patient) Patient\n\n    @put(\"/patients/{id}\")\n    updatePatient(id, Patient) Patient?\n\n    @get(\"/patients/{id}\")\n    getPatient(id) Patient?\n\n    @get(\"/patients/{id}/profile\")\n    @policies(isMobile)\n    @entityForId(Patient)\n    getPatientProfileById(id) PatientProfile\n\n    @listener({model: \"models/documents.zdl\", event: DocumentSignatureRequested})\n    associateDocumentWithPatient(DocumentSignatureRequestedInput)\n}","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/models/clinical.zdl:187,212"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/asyncapi-shopping-cart/client/src/main/java/io/example/asyncapi/shoppingcart/client/events/ShoppingCartChannelConsumerService.java","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/asyncapi-shopping-cart/client/src/main/java/io/example/asyncapi/shoppingcart/client/events/ShoppingCartChannelConsumerService.java","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/asyncapi-shopping-cart/client/src/main/java/io/example/asyncapi/shoppingcart/client/events/ShoppingCartChannelConsumerService.java#L8-L16","language":"java","visibleRange":"8,16","content":"@Component\npublic class ShoppingCartChannelConsumerService implements IShoppingCartChannelConsumerService {\n\n    private static final Logger log = LoggerFactory.getLogger(ShoppingCartChannelConsumerService.class);\n\n    @Override\n    public void onShoppingCartCreated(ShoppingCartCreated payload, ShoppingCartCreatedHeaders headers) {\n        log.info(\"onShoppingCartCreated: {}\", payload);\n    }","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/asyncapi-shopping-cart/client/src/main/java/io/example/asyncapi/shoppingcart/client/events/ShoppingCartChannelConsumerService.java:8,16"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/models/surveys.zdl","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/models/surveys.zdl","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/models/surveys.zdl#L160-L161","language":"zdl","visibleRange":"160,161","content":"    @get({ path: \"/{name}/patient/{patientId}/questions\", params: { lang: String } })\n    getSurveyAndQuestionsForPatient(SurveyByNameAndPatient) SurveyAndQuestions","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/models/surveys.zdl:160,161"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-model.zdl","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-model.zdl","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-model.zdl#L55-L68","language":"zdl","visibleRange":"55,68","content":"@rest(\"/customers\")\nservice CustomerService for (Customer) {\n    @post\n    createCustomer(Customer) Customer withEvents CustomerEvent\n    @get(\"/{id}\")\n    getCustomer(id) Customer?\n    @put(\"/{id}\")\n    updateCustomer(id, Customer) Customer? withEvents CustomerEvent\n    @delete(\"/{id}\")\n    deleteCustomer(id) withEvents CustomerDeletedEvent\n    @post(path: \"/search\", status: 200)\n    @paginated\n    searchCustomers(CustomerSearchCriteria) Customer[]\n}","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-model.zdl:55,68"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-scripts.zw","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-scripts.zw","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-scripts.zw#L42-L44","language":"zdl","visibleRange":"42,44","content":"        OpenAPIKaratePlugin {\n            openapiFile \"src/main/resources/public/apis/openapi.yml\"\n        }","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-scripts.zw:42,44"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/OrderApiController.kt","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/OrderApiController.kt","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/OrderApiController.kt","language":"kotlin","visibleRange":null,"content":"package io.zenwave360.example.orderfulfillment\n\nimport io.zenwave360.example.orderfulfillment.domain.*\nimport io.zenwave360.example.orderfulfillment.*\nimport io.zenwave360.example.orderfulfillment.dtos.*\nimport io.zenwave360.example.orderfulfillment.web.*\nimport io.zenwave360.example.orderfulfillment.web.model.*\nimport io.zenwave360.example.orderfulfillment.*\nimport io.zenwave360.example.orderfulfillment.mappers.*\n\nimport java.net.URI\nimport java.net.URISyntaxException\nimport java.math.*\nimport java.time.*\nimport java.util.*\nimport jakarta.validation.Valid\nimport jakarta.validation.constraints.NotNull\nimport org.mapstruct.factory.Mappers\nimport org.slf4j.Logger\nimport org.slf4j.LoggerFactory\nimport org.springframework.beans.factory.annotation.Autowired\nimport org.springframework.beans.factory.annotation.Value\nimport org.springframework.http.MediaType\nimport org.springframework.http.ResponseEntity\nimport org.springframework.web.bind.annotation.*\nimport org.springframework.core.io.ByteArrayResource\nimport org.springframework.core.io.Resource\nimport org.springframework.data.domain.Page\nimport org.springframework.data.domain.PageRequest\nimport org.springframework.data.domain.Pageable\nimport org.springframework.data.domain.Sort\nimport org.springframework.web.context.request.NativeWebRequest\n\n/**\n * REST controller for OrderApi.\n */\n@RestController\n@RequestMapping(\"/api\")\nopen class OrderApiController(\n    private val orderService: OrderService\n) : OrderApi {\n\n    private val log: Logger = LoggerFactory.getLogger(javaClass)\n\n    @Autowired\n    private lateinit var request: NativeWebRequest\n\n    private val mapper = OrderDTOsMapper.INSTANCE\n\n\n\n    override fun placeOrder(reqBody: PlaceOrderInputDTO): ResponseEntity<OrderDTO> {\n        log.debug(\"REST request to placeOrder: {}\", reqBody)\n        val input = mapper.asPlaceOrderInput(reqBody)\n        val order =  orderService.placeOrder(input)\n        val responseDTO = mapper.asOrderDTO(order)\n        return ResponseEntity.status(201).body(responseDTO)\n    }\n\n    override fun payOrder(orderNumber: String, reqBody: PayOrderInputDTO): ResponseEntity<OrderDTO> {\n        log.debug(\"REST request to payOrder: {}, {}\", orderNumber, reqBody)\n        val input = mapper.asPayOrderInput(reqBody)\n        val order =  orderService.payOrder(orderNumber, input)\n        val responseDTO = mapper.asOrderDTO(order)\n        return ResponseEntity.status(201).body(responseDTO)\n    }\n\n    override fun shipOrder(orderNumber: String, reqBody: ShipOrderInputDTO): ResponseEntity<OrderDTO> {\n        log.debug(\"REST request to shipOrder: {}, {}\", orderNumber, reqBody)\n        val input = mapper.asShipOrderInput(reqBody)\n        val order =  orderService.shipOrder(orderNumber, input)\n        val responseDTO = mapper.asOrderDTO(order)\n        return ResponseEntity.status(201).body(responseDTO)\n    }\n\n    override fun cancelOrder(orderNumber: String): ResponseEntity<OrderDTO> {\n        log.debug(\"REST request to cancelOrder: {}\", orderNumber)\n        val order =  orderService.cancelOrder(orderNumber)\n        val responseDTO = mapper.asOrderDTO(order)\n        return ResponseEntity.status(201).body(responseDTO)\n    }\n\n    override fun getOrder(orderNumber: String): ResponseEntity<OrderDTO> {\n        log.debug(\"REST request to getOrder: {}\", orderNumber)\n        val order =  orderService.getOrder(orderNumber)\n        return if (order != null) {\n            val responseDTO = mapper.asOrderDTO(order)\n            ResponseEntity.status(200).body(responseDTO)\n        } else {\n            ResponseEntity.notFound().build()\n        }\n    }\n\n\n    protected fun pageOf(page: Int?, limit: Int?, sort: List<String>?): Pageable {\n        val sortOrder = sort?.let {\n            Sort.by(it.map { sortParam ->\n                val parts = sortParam.split(\":\")\n                val property = parts[0]\n                val direction = if (parts.size > 1) Sort.Direction.fromString(parts[1]) else Sort.Direction.ASC\n                Sort.Order(direction, property)\n            })\n        } ?: Sort.unsorted()\n        return PageRequest.of(page ?: 0, limit ?: 10, sortOrder)\n    }\n}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/OrderApiController.kt:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/zenwave-scripts.zw","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/zenwave-scripts.zw","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/zenwave-scripts.zw#L27-L39","language":"zdl","visibleRange":"27,39","content":"        ZDLToOpenAPIPlugin {\n            title \"Clinical Tool - WebApp API\"\n            zdlFiles \"models/clinical.zdl\"\n            targetFile \"src/main/resources/public/apis/webapp-openapi.yml\"\n            operationIdsToExclude \"getPatientProfileById\"\n        }\n\n        ZDLToOpenAPIPlugin {\n            title \"Clinical Tool - Mobile API\"\n            zdlFiles \"models/clinical.zdl\"\n            targetFile \"src/main/resources/public/apis/mobile-openapi.yml\"\n            operationIdsToInclude \"getPatientProfileById,requestOptOut\"\n        }","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/zenwave-scripts.zw:27,39"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/surveys-public-openapi.yml","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/surveys-public-openapi.yml","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/surveys-public-openapi.yml#L28-L55","language":"yaml","visibleRange":"28,55","content":"  /public/surveys/{name}/patient/{patientId}/questions:\n    get:\n      operationId: getSurveyAndQuestionsForPatient\n      description: \"getSurveyAndQuestionsForPatient\"\n      tags: [Surveys]\n      parameters:\n        - name: \"name\"\n          in: path\n          required: true\n          schema:\n            type: string\n        - name: \"patientId\"\n          in: path\n          required: true\n          schema:\n            type: integer\n            format: int64\n        - name: \"lang\"\n          in: query\n          schema:\n            type: string\n      responses:\n        \"200\":\n          description: \"OK\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/SurveyAndQuestions\"","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/surveys-public-openapi.yml:28,55"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/core/inbound/CustomerService.java","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/core/inbound/CustomerService.java","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/core/inbound/CustomerService.java","language":"java","visibleRange":null,"content":"package io.zenwave360.example.core.inbound;\n\nimport io.zenwave360.example.core.domain.Customer;\nimport io.zenwave360.example.core.inbound.dtos.CustomerSearchCriteria;\nimport java.util.Optional;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\n\n/** Inbound Service Port for managing [Customer]. */\npublic interface CustomerService {\n\n    /** With Events: [CustomerEvent]. */\n    public Customer createCustomer(Customer input);\n\n    /** */\n    public Optional<Customer> getCustomer(Long id);\n\n    /** With Events: [CustomerEvent]. */\n    public Optional<Customer> updateCustomer(Long id, Customer input);\n\n    /** With Events: [CustomerEvent]. */\n    public void deleteCustomer(Long id);\n\n    /** */\n    public Page<Customer> searchCustomers(CustomerSearchCriteria input, Pageable pageable);\n}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/core/inbound/CustomerService.java:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/resources/io/zenwave360/example/adapters/web/CustomerApi.feature","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/resources/io/zenwave360/example/adapters/web/CustomerApi.feature","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/resources/io/zenwave360/example/adapters/web/CustomerApi.feature","language":"gherkin","visibleRange":null,"content":"@openapi-file=src/main/resources/public/apis/openapi.yml\nFeature: CustomerApi\n\nBackground:\n* url baseUrl\n# * def auth = { username: '', password: '' }\n* def authHeader = call read('classpath:karate-auth.js') auth\n* configure headers = authHeader || {}\n\n@operationId=createCustomer\nScenario: createCustomer\n\nGiven path '/customers'\nAnd request\n\"\"\"\n{\n  \"name\" : \"name-iv8wf61cpxe13fa3j0\",\n  \"email\" : \"kraig.hermann@gmail.com\",\n  \"addresses\" : [ {\n    \"street\" : \"street-wivpwm357mj4r1\",\n    \"city\" : \"Connellyside\"\n  } ],\n  \"paymentMethods\" : [ {\n    \"type\" : \"VISA\",\n    \"cardNumber\" : \"cardNumber-ydvoeke77t3z\"\n  } ]\n}\n\"\"\"\nWhen method post\nThen status 201\n* def createCustomerResponse = response\n* def customerId = response.id\n# TODO: Add response validation\n\n\n@operationId=getCustomer\nScenario: getCustomer\n\n* def pathParams = { id: 53 }\nGiven path '/customers/', pathParams.id\nWhen method get\nThen status 200\n* def getCustomerResponse = response\n* def customerId = response.id\n# TODO: Add response validation\n\n\n@operationId=updateCustomer\nScenario: updateCustomer\n\n* def pathParams = { id: 53 }\nGiven path '/customers/', pathParams.id\nAnd request\n\"\"\"\n{\n  \"name\" : \"name-t58rqm1n6zb\",\n  \"email\" : \"reta.wiza@gmail.com\",\n  \"addresses\" : [ {\n    \"street\" : \"street-e2pn9ih8t7du14h93\",\n    \"city\" : \"East Genesis\"\n  } ],\n  \"paymentMethods\" : [ {\n    \"type\" : \"MASTERCARD\",\n    \"cardNumber\" : \"cardNumber-qx3ag249vxzjgkh\"\n  } ]\n}\n\"\"\"\nWhen method put\nThen status 200\n* def updateCustomerResponse = response\n* def customerId = response.id\n# TODO: Add response validation\n\n\n@operationId=deleteCustomer\nScenario: deleteCustomer\n\n* def pathParams = { id: 89 }\nGiven path '/customers/', pathParams.id\nWhen method delete\nThen status 204\n* def deleteCustomerResponse = response\n# TODO: Add response validation\n\n\n@operationId=searchCustomers\nScenario: searchCustomers\n\nGiven path '/customers/search'\nAnd def queryParams = { page: 71, limit: 20, sort: ['name:asc'] }\nAnd request\n\"\"\"\n{\n  \"name\" : \"name-xrx9m9s1\",\n  \"email\" : \"tyron.heidenreich@yahoo.co\",\n  \"city\" : \"Bellamouth\",\n  \"state\" : \"state-y1x18r2h\"\n}\n\"\"\"\nWhen method post\nThen status 201\n* def searchCustomersResponse = response\n* def customerPaginatedId = response.id\n# TODO: Add response validation\n\n\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/resources/io/zenwave360/example/adapters/web/CustomerApi.feature:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/mappers/OrderDTOsMapper.kt","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/mappers/OrderDTOsMapper.kt","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/mappers/OrderDTOsMapper.kt","language":"kotlin","visibleRange":null,"content":"package io.zenwave360.example.orderfulfillment.mappers\n\nimport io.zenwave360.example.orderfulfillment.mappers.*\nimport io.zenwave360.example.orderfulfillment.domain.*\nimport io.zenwave360.example.orderfulfillment.dtos.*\nimport io.zenwave360.example.orderfulfillment.web.model.*\n\nimport org.mapstruct.Mapper\nimport org.mapstruct.Mapping\nimport org.mapstruct.factory.Mappers\nimport java.math.*\nimport java.time.*\nimport java.util.*\nimport org.springframework.data.domain.Page\n\n@Mapper(uses = [BaseMapper::class])\ninterface OrderDTOsMapper {\n\n    companion object {\n        val INSTANCE: OrderDTOsMapper = Mappers.getMapper(OrderDTOsMapper::class.java)\n    }\n\n    // request mappings\n    fun asPlaceOrderInput(dto: PlaceOrderInputDTO): PlaceOrderInput\n    fun asShipOrderInput(dto: ShipOrderInputDTO): ShipOrderInput\n    fun asPayOrderInput(dto: PayOrderInputDTO): PayOrderInput\n\n    // response mappings\n    \n    fun asOrderDTO(entity: Order): OrderDTO\n    \n\n}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/mappers/OrderDTOsMapper.kt:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/zenwave-scripts.zw","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/zenwave-scripts.zw","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/zenwave-scripts.zw#L117-L125","language":"zdl","visibleRange":"117,125","content":"        OpenAPIControllersPlugin {\n            zdlFiles \"models/clinical.zdl\"\n            openapiFile \"src/main/resources/public/apis/webapp-openapi.yml\"\n\n            layout.customWebModule \"{{basePackage}}.modules.web.webapp\"\n            layout.adaptersWebPackage \"{{layout.customWebModule}}\"\n            layout.openApiApiPackage \"{{layout.customWebModule}}\"\n            layout.openApiModelPackage \"{{layout.customWebModule}}.dtos\"\n        }","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/zenwave-scripts.zw:117,125"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-model.zdl","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-model.zdl","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-model.zdl#L57-L58","language":"zdl","visibleRange":"57,58","content":"    @post\n    createCustomer(Customer) Customer withEvents CustomerEvent","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-model.zdl:57,58"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-scripts.zw","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-scripts.zw","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-scripts.zw#L46-L51","language":"zdl","visibleRange":"46,51","content":"        OpenAPIKaratePlugin {\n            openapiFile \"src/main/resources/public/apis/openapi.yml\"\n            groupBy businessFlow\n            businessFlowTestName CreateUpdateDeleteCustomerKarateTest\n            operationIds createCustomer,updateCustomer,deleteCustomer,getCustomer\n        }","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-scripts.zw:46,51"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/core/implementation/CustomerServiceImpl.java","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/core/implementation/CustomerServiceImpl.java","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/core/implementation/CustomerServiceImpl.java","language":"java","visibleRange":null,"content":"package io.zenwave360.example.core.implementation;\n\nimport io.zenwave360.example.core.domain.Customer;\nimport io.zenwave360.example.core.implementation.mappers.CustomerServiceMapper;\nimport io.zenwave360.example.core.implementation.mappers.EventsMapper;\nimport io.zenwave360.example.core.inbound.CustomerService;\nimport io.zenwave360.example.core.inbound.dtos.CustomerSearchCriteria;\nimport io.zenwave360.example.core.outbound.events.CustomerEventsProducer;\nimport io.zenwave360.example.core.outbound.jpa.CustomerRepository;\nimport java.util.Optional;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.context.ApplicationEventPublisher;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\n/** Service Implementation for managing [Customer]. */\n@Service\n@Transactional(readOnly = true)\n@lombok.AllArgsConstructor\npublic class CustomerServiceImpl implements CustomerService {\n\n    private final Logger log = LoggerFactory.getLogger(getClass());\n\n    private final CustomerServiceMapper customerServiceMapper = CustomerServiceMapper.INSTANCE;\n\n    private final CustomerRepository customerRepository;\n\n    private final EventsMapper eventsMapper = EventsMapper.INSTANCE;\n\n    private final CustomerEventsProducer eventsProducer;\n\n    private final ApplicationEventPublisher applicationEventPublisher;\n\n    @Transactional\n    public Customer createCustomer(Customer input) {\n        log.debug(\"[CRUD] Request to save Customer: {}\", input);\n        var customer = customerServiceMapper.update(new Customer(), input);\n        customer = customerRepository.save(customer);\n        // TODO: may need to reload the entity to fetch relationships 'mapped by id'\n        // emit events\n        var customerEvent = eventsMapper.asCustomerEvent(customer);\n        eventsProducer.onCustomerEvent(customerEvent);\n        return customer;\n    }\n\n    public Optional<Customer> getCustomer(Long id) {\n        log.debug(\"[CRUD] Request to get Customer : {}\", id);\n        var customer = customerRepository.findById(id);\n        return customer;\n    }\n\n    @Transactional\n    public Optional<Customer> updateCustomer(Long id, Customer input) {\n        log.debug(\"Request updateCustomer: {} {}\", id, input);\n\n        var customer = customerRepository\n                .findById(id)\n                .map(existingCustomer -> {\n                    return customerServiceMapper.update(existingCustomer, input);\n                })\n                .map(customerRepository::save);\n        if (customer.isPresent()) {\n            // emit events\n            var customerEvent = eventsMapper.asCustomerEvent(customer.get());\n            eventsProducer.onCustomerEvent(customerEvent);\n        }\n        return customer;\n    }\n\n    @Transactional\n    public void deleteCustomer(Long id) {\n        log.debug(\"[CRUD] Request to delete Customer : {}\", id);\n        customerRepository.deleteById(id);\n        // emit events\n        var customerEvent = eventsMapper.asCustomerEvent(id);\n        eventsProducer.onCustomerDeletedEvent(customerEvent);\n    }\n\n    public Page<Customer> searchCustomers(CustomerSearchCriteria input, Pageable pageable) {\n        log.debug(\"Request searchCustomers: {} {}\", input, pageable);\n\n        var customers = customerRepository.findAll(pageable);\n        return customers;\n    }\n}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/core/implementation/CustomerServiceImpl.java:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/OrderServiceImpl.kt","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/OrderServiceImpl.kt","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/OrderServiceImpl.kt#L17-L45","language":"kotlin","visibleRange":"17,45","content":"/** Service Implementation for managing [Order]. */\n@Service\n@Transactional\nopen class OrderServiceImpl(\n    private val orderRepository: OrderRepository,\n    private val eventsProducer: OrderEventsProducer,\n) : OrderService {\n\n    private val log: Logger = LoggerFactory.getLogger(javaClass)\n\n    private val orderServiceMapper: OrderServiceMapper = OrderServiceMapper.INSTANCE\n\n    private val eventsMapper: EventsMapper = EventsMapper.INSTANCE\n\n    override fun placeOrder(input: PlaceOrderInput): Order {\n        log.debug(\"Request placeOrder: {}\", input)\n\n        val order = orderServiceMapper.update(Order(), input)\n            .apply {\n                orderNumber = UUID.randomUUID().toString()\n                status = OrderStatus.PLACED\n                totalAmount = input.items.sumOf { it.unitPrice!! * BigDecimal.valueOf(it.quantity!!.toLong()) }\n            }\n            .let { orderRepository.save(it) }\n\n        // emit events\n        eventsProducer.onOrderPlaced(eventsMapper.asOrderPlaced(order))\n        return order\n    }","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/order-fulfillment-kotlin/src/main/kotlin/io/zenwave360/example/orderfulfillment/OrderServiceImpl.kt:17,45"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/zenwave-scripts.zw","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/zenwave-scripts.zw","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/zenwave-scripts.zw#L127-L135","language":"zdl","visibleRange":"127,135","content":"        OpenAPIControllersPlugin {\n            zdlFiles \"models/clinical.zdl\"\n            openapiFile \"src/main/resources/public/apis/mobile-openapi.yml\"\n\n            layout.customWebModule \"{{basePackage}}.modules.web.mobile\"\n            layout.adaptersWebPackage \"{{layout.customWebModule}}\"\n            layout.openApiApiPackage \"{{layout.customWebModule}}\"\n            layout.openApiModelPackage \"{{layout.customWebModule}}.dtos\"\n        }","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/zenwave-scripts.zw:127,135"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml#L27-L44","language":"yaml","visibleRange":"27,44","content":"  /customers:\n    post:\n      operationId: createCustomer\n      description: \"createCustomer\"\n      tags: [Customer]\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/Customer\"\n      responses:\n        \"201\":\n          description: \"OK\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Customer\"","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml:27,44"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/resources/io/zenwave360/example/adapters/web/CreateUpdateDeleteCustomerKarateTest.feature","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/resources/io/zenwave360/example/adapters/web/CreateUpdateDeleteCustomerKarateTest.feature","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/resources/io/zenwave360/example/adapters/web/CreateUpdateDeleteCustomerKarateTest.feature","language":"gherkin","visibleRange":null,"content":"@openapi-file=src/main/resources/public/apis/openapi.yml\nFeature: CreateUpdateDeleteCustomerKarateTest\n\nBackground:\n* url baseUrl\n# * def auth = { username: '', password: '' }\n* def authHeader = call read('classpath:karate-auth.js') auth\n* configure headers = authHeader || {}\n\n@business-flow\n@operationId=createCustomer,updateCustomer,deleteCustomer,getCustomer\nScenario: CreateUpdateDeleteCustomerKarateTest\n\n# createCustomer\nGiven path '/customers'\nAnd request\n\"\"\"\n{\n  \"id\" : 21,\n  \"version\" : 13,\n  \"name\" : \"name-5ugq20772n1\",\n  \"email\" : \"rosaria.hyatt@gmail.com\",\n  \"addresses\" : [ {\n    \"street\" : \"street-z\",\n    \"city\" : \"West Edmundbury\"\n  } ],\n  \"paymentMethods\" : [ {\n    \"id\" : 37,\n    \"version\" : 10,\n    \"type\" : \"MASTERCARD\",\n    \"cardNumber\" : \"cardNumber-9c2xzm77ig5\"\n  } ]\n}\n\"\"\"\nWhen method post\nThen status 201\n* def createCustomerResponse = response\n* def customerId = response.id\n# TODO: Add response validation\n\n\n# updateCustomer\n* def pathParams = { id: 2 }\nGiven path '/customers/', pathParams.id\nAnd request\n\"\"\"\n{\n  \"id\" : 79,\n  \"version\" : 7,\n  \"name\" : \"name-mu8j1eqcaoy2a7ex9uup1\",\n  \"email\" : \"jerica.emmerich@hotmail.co\",\n  \"addresses\" : [ {\n    \"street\" : \"street-7ug0jz4c5ghumuz2yst\",\n    \"city\" : \"Sydneychester\"\n  } ],\n  \"paymentMethods\" : [ {\n    \"id\" : 30,\n    \"version\" : 82,\n    \"type\" : \"MASTERCARD\",\n    \"cardNumber\" : \"cardNumber-f\"\n  } ]\n}\n\"\"\"\nWhen method put\nThen status 200\n* def updateCustomerResponse = response\n* def customerId = response.id\n# TODO: Add response validation\n\n\n# deleteCustomer\n* def pathParams = { id: 42 }\nGiven path '/customers/', pathParams.id\nWhen method delete\nThen status 204\n* def deleteCustomerResponse = response\n# TODO: Add response validation\n\n\n# getCustomer\n* def pathParams = { id: 71 }\nGiven path '/customers/', pathParams.id\nWhen method get\nThen status 404\n* def getCustomerResponse = response\n* def customerId = response.id\n# TODO: Add response validation\n\n\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/resources/io/zenwave360/example/adapters/web/CreateUpdateDeleteCustomerKarateTest.feature:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/core/implementation/CustomerServiceTest.java","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/core/implementation/CustomerServiceTest.java","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/core/implementation/CustomerServiceTest.java","language":"java","visibleRange":null,"content":"package io.zenwave360.example.core.implementation;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\nimport io.zenwave360.example.config.ServicesInMemoryConfig;\nimport io.zenwave360.example.core.domain.Address;\nimport io.zenwave360.example.core.domain.Customer;\nimport io.zenwave360.example.core.inbound.dtos.CustomerSearchCriteria;\nimport io.zenwave360.example.infrastructure.jpa.inmemory.CustomerRepositoryInMemory;\nimport java.util.List;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.data.domain.PageRequest;\n\n/** Acceptance Test for CustomerService. */\nclass CustomerServiceTest {\n\n    private final Logger log = LoggerFactory.getLogger(getClass());\n\n    ServicesInMemoryConfig context = new ServicesInMemoryConfig();\n\n    CustomerServiceImpl customerService = context.customerService();\n\n    CustomerRepositoryInMemory customerRepository = context.customerRepository();\n\n    @BeforeEach\n    void setUp() {\n        context.reloadTestData();\n    }\n\n    @Test\n    void createCustomerTest() {\n        var input = new Customer();\n        input.setName(\"name\");\n        input.setEmail(\"me@email.com\");\n        input.setAddresses(List.of(\n                new Address() //\n                        .setStreet(\"street\")\n                        .setCity(\"city\")));\n        var customer = customerService.createCustomer(input);\n        assertNotNull(customer.getId());\n        assertTrue(customerRepository.containsEntity(customer));\n    }\n\n    @Test\n    void getCustomerTest() {\n        var id = 1L; // TODO fill id\n        var customer = customerService.getCustomer(id);\n        assertTrue(customer.isPresent());\n    }\n\n    @Test\n    void updateCustomerTest() {\n        var id = 1L; // TODO fill id\n        var input = new Customer();\n        input.setName(\"name\");\n        input.setEmail(\"me@email.com\");\n        input.setAddresses(List.of(\n                new Address() //\n                        .setStreet(\"street\")\n                        .setCity(\"city\")));\n        assertTrue(customerRepository.containsKey(id));\n        var customer = customerService.updateCustomer(id, input);\n        assertTrue(customer.isPresent());\n        assertTrue(customerRepository.containsEntity(customer.get()));\n    }\n\n    @Test\n    void deleteCustomerTest() {\n        var id = 1L; // TODO fill id\n        assertTrue(customerRepository.containsKey(id));\n        customerService.deleteCustomer(id);\n        assertFalse(customerRepository.containsKey(id));\n    }\n\n    @Test\n    void searchCustomersTest() {\n        var searchCriteria = new CustomerSearchCriteria();\n        var results = customerService.searchCustomers(searchCriteria, PageRequest.of(0, 10));\n        Assertions.assertNotNull(results);\n        Assertions.assertFalse(results.isEmpty());\n    }\n}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/core/implementation/CustomerServiceTest.java:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/zenwave-scripts.zw","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/zenwave-scripts.zw","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/zenwave-scripts.zw#L41-L53","language":"zdl","visibleRange":"41,53","content":"        ZDLToOpenAPIPlugin {\n            title \"Surveys - Backoffice API\"\n            zdlFile \"models/surveys.zdl\"\n            targetFile \"src/main/resources/public/apis/surveys-backoffice-openapi.yml\"\n            operationIdsToExclude \"getSurveyAndQuestionsForPatient,answerSurvey,updateSurveyAnswers,getSurveyAnswers\"\n        }\n\n        ZDLToOpenAPIPlugin {\n            title \"Surveys - Public API\"\n            zdlFile \"models/surveys.zdl\"\n            targetFile \"src/main/resources/public/apis/surveys-public-openapi.yml\"\n            operationIdsToInclude \"getSurveyAndQuestionsForPatient,answerSurvey,updateSurveyAnswers,getSurveyAnswers\"\n        }","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/zenwave-scripts.zw:41,53"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/infrastructure/jpa/CustomerRepositoryIntegrationTest.java","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/infrastructure/jpa/CustomerRepositoryIntegrationTest.java","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/infrastructure/jpa/CustomerRepositoryIntegrationTest.java#L39-L64","language":"java","visibleRange":"39,64","content":"    @Test\n    void saveTest() {\n        Customer customer = new Customer();\n        customer.setName(\"Jane Smith\");\n        customer.setEmail(\"jane.smith@example.com\");\n        customer.setAddresses(List.of(new Address().setStreet(\"456 Elm St\").setCity(\"Othertown\")));\n\n        // OneToMany paymentMethods owner: true\n        var paymentMethods = new PaymentMethod();\n        paymentMethods.setType(PaymentMethodType.VISA);\n        paymentMethods.setCardNumber(\"6543210987654321\");\n        customer.addPaymentMethods(paymentMethods);\n\n        // Persist aggregate root\n        var created = customerRepository.save(customer);\n\n        // reloading to get relationships persisted by id\n        entityManager.flush();\n        entityManager.refresh(created);\n        Assertions.assertNotNull(created.getId());\n        Assertions.assertNotNull(created.getVersion());\n        Assertions.assertNotNull(created.getCreatedBy());\n        Assertions.assertNotNull(created.getCreatedDate());\n\n        Assertions.assertTrue(customer.getPaymentMethods().stream().allMatch(item -> item.getId() != null));\n    }","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/infrastructure/jpa/CustomerRepositoryIntegrationTest.java:39,64"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/models/users.zdl","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/models/users.zdl","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/models/users.zdl#L54-L55","language":"zdl","visibleRange":"54,55","content":"    @post(path: \"/search\", status: 200) @paginated\n    searchUsers(SearchCriteria) User[]","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/models/users.zdl:54,55"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/zenwave-scripts.zw","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/zenwave-scripts.zw","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/zenwave-scripts.zw#L136-L145","language":"zdl","visibleRange":"136,145","content":"\n        OpenAPIControllersPlugin {\n            zdlFiles \"models/surveys.zdl\"\n            openapiFile \"src/main/resources/public/apis/surveys-backoffice-openapi.yml\"\n        }\n\n        OpenAPIControllersPlugin {\n            zdlFiles \"models/surveys.zdl\"\n            openapiFile \"src/main/resources/public/apis/surveys-public-openapi.yml\"\n        }","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/zenwave-scripts.zw:136,145"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/users-openapi.yml","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/users-openapi.yml","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/users-openapi.yml#L158-L180","language":"yaml","visibleRange":"158,180","content":"  /users/search:\n    post:\n      operationId: \"searchUsers\"\n      description: \"searchUsers\"\n      tags:\n      - \"User\"\n      parameters:\n      - $ref: \"#/components/parameters/page\"\n      - $ref: \"#/components/parameters/limit\"\n      - $ref: \"#/components/parameters/sort\"\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/SearchCriteria\"\n      responses:\n        \"200\":\n          description: \"OK\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/UserPaginated\"","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/users-openapi.yml:158,180"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/config/DockerComposeInitializer.java","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/config/DockerComposeInitializer.java","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/config/DockerComposeInitializer.java#L38-L41","language":"java","visibleRange":"38,41","content":"    private static final List<Service> SERVICES = List.of(\n            new Service(\"postgresql\", 5432, \"DATASOURCE_URL\", \"jdbc:postgresql://%s:%s/app\"),\n            new Service(\"kafka\", 9092, \"KAFKA_BOOTSTRAP_SERVERS\", \"%s:%s\"),\n            new Service(\"schema-registry\", 8081, \"SCHEMA_REGISTRY_URL\", \"http://%s:%s\"));","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/config/DockerComposeInitializer.java:38,41"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/src/main/java/io/zenwave360/example/clinicaltool/modules/documents/DocumentApiController.java","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/src/main/java/io/zenwave360/example/clinicaltool/modules/documents/DocumentApiController.java","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/src/main/java/io/zenwave360/example/clinicaltool/modules/documents/DocumentApiController.java#L61-L71","language":"java","visibleRange":"61,71","content":"    @Override\n    public ResponseEntity<Resource> downloadDocument(Long id, Boolean preview) {\n        log.debug(\"REST request to downloadDocument: {}, {}\", id, preview);\n        var documentInfo = documentService.downloadDocument(id);\n        byte[] bytes = documentInfo.getDocumentData().getData();\n        ByteArrayResource resource = new ByteArrayResource(bytes);\n        return ResponseEntity.status(200)\n                .header(\"Content-Disposition\", \"inline\") // or attachment; filename=example.pdf\n                .contentType(MediaType.APPLICATION_OCTET_STREAM) // TODO: set content type\n                .body(resource);\n    }","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/src/main/java/io/zenwave360/example/clinicaltool/modules/documents/DocumentApiController.java:61,71"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/infrastructure/jpa/BaseRepositoryIntegrationTest.java","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/infrastructure/jpa/BaseRepositoryIntegrationTest.java","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/infrastructure/jpa/BaseRepositoryIntegrationTest.java","language":"java","visibleRange":null,"content":"package io.zenwave360.example.infrastructure.jpa;\n\nimport io.zenwave360.example.config.DockerComposeInitializer;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.context.ActiveProfiles;\n\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.MOCK)\n@ActiveProfiles(\"test\")\n@DockerComposeInitializer.EnableDockerCompose\n@org.springframework.transaction.annotation.Transactional\npublic abstract class BaseRepositoryIntegrationTest {}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/infrastructure/jpa/BaseRepositoryIntegrationTest.java:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-model.zdl","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-model.zdl","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-model.zdl#L61-L62","language":"zdl","visibleRange":"61,62","content":"    @put(\"/{id}\")\n    updateCustomer(id, Customer) Customer? withEvents CustomerEvent","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-model.zdl:61,62"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/models/clinical.zdl","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/models/clinical.zdl","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/models/clinical.zdl#L210-L211","language":"zdl","visibleRange":"210,211","content":"    @listener({model: \"models/documents.zdl\", event: DocumentSignatureRequested})\n    associateDocumentWithPatient(DocumentSignatureRequestedInput)","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/models/clinical.zdl:210,211"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/core/implementation/CustomerServiceTest.java","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/core/implementation/CustomerServiceTest.java","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/core/implementation/CustomerServiceTest.java#L19-L33","language":"java","visibleRange":"19,33","content":"class CustomerServiceTest {\n\n    private final Logger log = LoggerFactory.getLogger(getClass());\n\n    ServicesInMemoryConfig context = new ServicesInMemoryConfig();\n\n    CustomerServiceImpl customerService = context.customerService();\n\n    CustomerRepositoryInMemory customerRepository = context.customerRepository();\n\n    @BeforeEach\n    void setUp() {\n        context.reloadTestData();\n    }\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/core/implementation/CustomerServiceTest.java:19,33"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml#L64-L87","language":"yaml","visibleRange":"64,87","content":"    put:\n      operationId: updateCustomer\n      description: \"updateCustomer\"\n      tags: [Customer]\n      parameters:\n        - name: \"id\"\n          in: path\n          required: true\n          schema:\n            type: integer\n            format: int64\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/Customer\"\n      responses:\n        \"200\":\n          description: \"OK\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Customer\"","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml:64,87"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/src/main/java/io/zenwave360/example/clinicaltool/modules/clinical/infrastructure/events/DefaultEventPublisher.java","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/src/main/java/io/zenwave360/example/clinicaltool/modules/clinical/infrastructure/events/DefaultEventPublisher.java","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/src/main/java/io/zenwave360/example/clinicaltool/modules/clinical/infrastructure/events/DefaultEventPublisher.java#L9-L22","language":"zdl","visibleRange":"9,22","content":"@Component\n@lombok.RequiredArgsConstructor\npublic class DefaultEventPublisher implements EventPublisher {\n\n    private final ApplicationEventPublisher applicationEventPublisher;\n\n    public void onDoctorCreated(DoctorCreated event) {\n        applicationEventPublisher.publishEvent(event);\n    }\n\n    public void onPatientCreated(PatientCreated event) {\n        applicationEventPublisher.publishEvent(event);\n    }\n}","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/src/main/java/io/zenwave360/example/clinicaltool/modules/clinical/infrastructure/events/DefaultEventPublisher.java:9,22"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-model.zdl","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-model.zdl","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-model.zdl#L63-L64","language":"zdl","visibleRange":"63,64","content":"    @delete(\"/{id}\")\n    deleteCustomer(id) withEvents CustomerDeletedEvent","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-model.zdl:63,64"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/resources/data/jpa/customer/1.json","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/resources/data/jpa/customer/1.json","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/resources/data/jpa/customer/1.json","language":"json","visibleRange":null,"content":"{\n  \"id\": 1,\n  \"version\": 1,\n  \"email\": \"john.doe@example.com\",\n  \"name\": \"John Doe\",\n  \"addresses\": [\n    {\n      \"city\": \"Anytown\",\n      \"street\": \"123 Main St\"\n    }\n  ],\n  \"paymentMethods\": [\n    {\n      \"type\": 1,\n      \"cardNumber\": \"1234567890123456\",\n      \"createdBy\": \"system\",\n      \"createdDate\": \"2023-01-01T00:00:00\",\n      \"lastModifiedBy\": \"system\",\n      \"lastModifiedDate\": \"2023-01-01T00:00:00\"\n    }\n  ],\n  \"createdBy\": \"system\",\n  \"createdDate\": \"2023-01-01T00:00:00\",\n  \"lastModifiedBy\": \"system\",\n  \"lastModifiedDate\": \"2023-01-01T00:00:00\"\n}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/resources/data/jpa/customer/1.json:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/models/documents.zdl","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/models/documents.zdl","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/models/documents.zdl#L40-L42","language":"zdl","visibleRange":"40,42","content":"    @post({path: \"/upload\", status: 201})\n    @fileupload(\"file\")\n    uploadDocument(DocumentInfo) DocumentInfo","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/models/documents.zdl:40,42"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/adapters/web/mappers/CustomerDTOsMapper.java","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/adapters/web/mappers/CustomerDTOsMapper.java","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/adapters/web/mappers/CustomerDTOsMapper.java#L13-L34","language":"java","visibleRange":"13,34","content":"@Mapper(uses = BaseMapper.class)\npublic interface CustomerDTOsMapper {\n\n    CustomerDTOsMapper INSTANCE = Mappers.getMapper(CustomerDTOsMapper.class);\n\n    // request mappings\n    CustomerSearchCriteria asCustomerSearchCriteria(CustomerSearchCriteriaDTO dto);\n\n    Customer asCustomer(CustomerDTO dto);\n\n    // response mappings\n\n    List<CustomerDTO> asCustomerDTOList(List<Customer> entityList);\n\n    CustomerPaginatedDTO asCustomerPaginatedDTO(Page<Customer> page);\n\n    default Page<CustomerDTO> asCustomerDTOPage(Page<Customer> page) {\n        return page.map(this::asCustomerDTO);\n    }\n\n    CustomerDTO asCustomerDTO(Customer entity);\n}","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/adapters/web/mappers/CustomerDTOsMapper.java:13,34"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml#L88-L101","language":"yaml","visibleRange":"88,101","content":"    delete:\n      operationId: deleteCustomer\n      description: \"deleteCustomer\"\n      tags: [Customer]\n      parameters:\n        - name: \"id\"\n          in: path\n          required: true\n          schema:\n            type: integer\n            format: int64\n      responses:\n        \"204\":\n          description: \"OK\"","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml:88,101"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/documents-openapi.yml","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/documents-openapi.yml","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/documents-openapi.yml#L88-L104","language":"yaml","visibleRange":"88,104","content":"        required: true\n        schema:\n          type: \"integer\"\n          format: \"int64\"\n      responses:\n        \"204\":\n          description: \"OK\"\n  /documents/upload:\n    post:\n      operationId: \"uploadDocument\"\n      description: \"uploadDocument\"\n      tags:\n      - \"Document\"\n      parameters:\n      - name: \"uuid\"\n        in: \"query\"\n        required: false","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/documents-openapi.yml:88,104"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/CustomerApiControllerTest.java","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/CustomerApiControllerTest.java","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/CustomerApiControllerTest.java#L26-L35","language":"java","visibleRange":"26,35","content":"    @Test\n    void createCustomerTest() {\n        CustomerDTO reqBody = new CustomerDTO();\n        reqBody.setName(\"John Doe\");\n        reqBody.setEmail(\"john.doe@example.com\");\n        reqBody.setAddresses(List.of(new AddressDTO(\"Anytown\", \"123 Main St\")));\n        reqBody.setPaymentMethods(List.of(new PaymentMethodDTO(PaymentMethodTypeDTO.VISA, \"1234567890123456\")));\n        var response = controller.createCustomer(reqBody);\n        Assertions.assertEquals(201, response.getStatusCode().value());\n    }","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/CustomerApiControllerTest.java:26,35"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/models/documents.zdl","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/models/documents.zdl","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/models/documents.zdl#L36-L38","language":"zdl","visibleRange":"36,38","content":"    @get({path: \"/{id}\", params: {preview: boolean} })\n    @filedownload(\"documentData.data\")\n    downloadDocument(id) DocumentInfo","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/models/documents.zdl:36,38"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/models/surveys.zdl","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/models/surveys.zdl","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/models/surveys.zdl#L166-L167","language":"zdl","visibleRange":"166,167","content":"    @patch({ path: \"/{surveyId}/patient/{patientId}/answers/{date}\", params: { surveyId: Long } })\n    updateSurveyAnswers(@natural id, SurveyAnswers) SurveyAnswers?","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/models/surveys.zdl:166,167"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/CustomerApiControllerTest.java","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/CustomerApiControllerTest.java","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/CustomerApiControllerTest.java#L63-L71","language":"java","visibleRange":"63,71","content":"    @Test\n    void searchCustomersTest() {\n        Integer page = 0;\n        Integer limit = 10;\n        List<String> sort = List.of(\"name\");\n        CustomerSearchCriteriaDTO reqBody = new CustomerSearchCriteriaDTO();\n        var response = controller.searchCustomers(page, limit, sort, reqBody);\n        Assertions.assertEquals(200, response.getStatusCode().value());\n    }","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/CustomerApiControllerTest.java:63,71"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/documents-openapi.yml","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/documents-openapi.yml","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/documents-openapi.yml#L44-L79","language":"yaml","visibleRange":"44,79","content":"          description: \"OK\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/DocumentInfoList\"\n  /documents/{id}:\n    get:\n      operationId: \"downloadDocument\"\n      description: \"downloadDocument\"\n      tags:\n      - \"Document\"\n      parameters:\n      - name: \"id\"\n        in: \"path\"\n        required: true\n        schema:\n          type: \"integer\"\n          format: \"int64\"\n      - name: \"preview\"\n        in: \"query\"\n        schema:\n          type: \"boolean\"\n      responses:\n        \"200\":\n          description: \"OK\"\n          headers:\n            Content-Disposition:\n              description: \"Controls file download behavior. Values: 'inline' (display\\\n                \\ in browser) or 'attachment; filename=example.pdf' (download file)\"\n              schema:\n                type: \"string\"\n          content:\n            '*/*':\n              schema:\n                type: \"string\"\n                format: \"binary\"","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/documents-openapi.yml:44,79"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/surveys-public-openapi.yml","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/surveys-public-openapi.yml","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/surveys-public-openapi.yml#L93-L128","language":"yaml","visibleRange":"93,128","content":"    patch:\n      operationId: updateSurveyAnswers\n      description: \"updateSurveyAnswers\"\n      tags: [Surveys]\n      parameters:\n        - name: \"surveyId\"\n          in: path\n          required: true\n          schema:\n            type: integer\n            format: int64\n        - name: \"patientId\"\n          in: path\n          required: true\n          schema:\n            type: integer\n            format: int64\n        - name: \"date\"\n          in: path\n          required: true\n          schema:\n            type: string\n            format: date\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/SurveyAnswersPatch\"\n      responses:\n        \"200\":\n          description: \"OK\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/SurveyAnswers\"","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/surveys-public-openapi.yml:93,128"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/CustomerApiControllerTest.java","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/CustomerApiControllerTest.java","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/CustomerApiControllerTest.java#L12-L36","language":"java","visibleRange":"12,36","content":"/** Test controller for CustomerApiController. */\nclass CustomerApiControllerTest {\n\n    private final Logger log = LoggerFactory.getLogger(getClass());\n\n    ServicesInMemoryConfig context = new ServicesInMemoryConfig();\n\n    CustomerApiController controller = new CustomerApiController(context.customerService());\n\n    @BeforeEach\n    void setUp() {\n        context.reloadTestData();\n    }\n\n    @Test\n    void createCustomerTest() {\n        CustomerDTO reqBody = new CustomerDTO();\n        reqBody.setName(\"John Doe\");\n        reqBody.setEmail(\"john.doe@example.com\");\n        reqBody.setAddresses(List.of(new AddressDTO(\"Anytown\", \"123 Main St\")));\n        reqBody.setPaymentMethods(List.of(new PaymentMethodDTO(PaymentMethodTypeDTO.VISA, \"1234567890123456\")));\n        var response = controller.createCustomer(reqBody);\n        Assertions.assertEquals(201, response.getStatusCode().value());\n    }\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/CustomerApiControllerTest.java:12,36"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/pom.xml","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/pom.xml","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/pom.xml#L398-L400","language":"xml","visibleRange":"398,400","content":"                            <schemaMappings>\n                                SurveyAnswersPatch=java.util.Map\n                            </schemaMappings>","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/pom.xml:398,400"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/BaseWebTestClientTest.java","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/BaseWebTestClientTest.java","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/BaseWebTestClientTest.java#L13-L29","language":"java","visibleRange":"13,29","content":"@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.MOCK)\n@ActiveProfiles(\"test\")\n@DockerComposeInitializer.EnableDockerCompose\n@org.springframework.transaction.annotation.Transactional\npublic abstract class BaseWebTestClientTest {\n\n    @Autowired\n    protected WebApplicationContext context;\n\n    protected WebTestClient webTestClient;\n\n    @BeforeEach\n    void setup() {\n        this.webTestClient =\n                MockMvcWebTestClient.bindToApplicationContext(this.context).build();\n    }\n}","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/BaseWebTestClientTest.java:13,29"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/src/main/java/io/zenwave360/example/clinicaltool/modules/surveys/web/SurveysApiController.java","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/src/main/java/io/zenwave360/example/clinicaltool/modules/surveys/web/SurveysApiController.java","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/src/main/java/io/zenwave360/example/clinicaltool/modules/surveys/web/SurveysApiController.java#L71-L73","language":"java","visibleRange":"71,73","content":"    @Override\n    public ResponseEntity<SurveyAnswersDTO> updateSurveyAnswers(\n            Long surveyId, Long patientId, LocalDate date, Map input) {","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/src/main/java/io/zenwave360/example/clinicaltool/modules/surveys/web/SurveysApiController.java:71,73"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-model.zdl","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-model.zdl","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-model.zdl#L70-L82","language":"zdl","visibleRange":"70,82","content":"@copy(Customer)\n@asyncapi({ channel: \"CustomersChannel\", topic: \"customers\" })\nevent CustomerEvent {\n    id Long required\n    version Integer\n    // all fields from Customer are copied here, but not relationships\n    paymentMethods PaymentMethod[]\n}\n\n@asyncapi({ channel: \"CustomersChannel\", topic: \"customers\" })\nevent CustomerDeletedEvent {\n    id Long required\n}","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-model.zdl:70,82"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-model.zdl","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-model.zdl","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-model.zdl#L65-L67","language":"zdl","visibleRange":"65,67","content":"    @post(path: \"/search\", status: 200)\n    @paginated\n    searchCustomers(CustomerSearchCriteria) Customer[]","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-model.zdl:65,67"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/pom.xml","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/pom.xml","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/pom.xml#L420-L476","language":"xml","visibleRange":"420,476","content":"            <plugin>\n                <groupId>io.zenwave360.sdk</groupId>\n                <artifactId>zenwave-sdk-maven-plugin</artifactId>\n                <version>${zenwave.version}</version>\n                <configuration>\n                    <inputSpec>${asyncapi.inputSpec}</inputSpec>\n                    <skip>false</skip>\n                    <addCompileSourceRoot>true</addCompileSourceRoot>\n                    <addTestCompileSourceRoot>true</addTestCompileSourceRoot>\n                    <!-- <authentication>-->\n                    <!--     <authentication><key>API_KEY</key><value>XXX</value></authentication> -->\n                    <!-- </authentication>-->\n                </configuration>\n                <executions>\n                    <execution>\n                        <id>generate-asyncapi</id>\n                        <phase>generate-sources</phase>\n                        <goals>\n                            <goal>generate</goal>\n                        </goals>\n                        <configuration>\n                            <generatorName>AsyncAPIGenerator</generatorName>\n                            <configOptions>\n                                <role>provider</role>\n                                <transactionalOutbox>modulith</transactionalOutbox>\n                                <includeApplicationEventListener>true</includeApplicationEventListener>\n                                <!-- <modelPackage>${asyncApiModelPackage}</modelPackage> required for json-schema, here it uses avro package -->\n                                <producerApiPackage>${asyncApiProducerApiPackage}</producerApiPackage>\n                                <consumerApiPackage>${asyncApiConsumerApiPackage}</consumerApiPackage>\n                                <avroCompilerProperties.imports>${asyncapi.avro.imports}</avroCompilerProperties.imports>\n                            </configOptions>\n                        </configuration>\n                    </execution>\n                </executions>\n                <dependencies>\n                    <dependency>\n                        <groupId>io.zenwave360.sdk.plugins</groupId>\n                        <artifactId>asyncapi-generator</artifactId>\n                        <version>${zenwave.version}</version>\n                    </dependency>\n                    <dependency>\n                        <groupId>org.apache.avro</groupId>\n                        <artifactId>avro-compiler</artifactId>\n                        <version>${avro.version}</version>\n                        <exclusions>\n                            <exclusion>\n                                <groupId>com.fasterxml.jackson.core</groupId>\n                                <artifactId>jackson-core</artifactId>\n                            </exclusion>\n                            <exclusion>\n                                <groupId>com.fasterxml.jackson.core</groupId>\n                                <artifactId>jackson-databind</artifactId>\n                            </exclusion>\n                        </exclusions>\n                    </dependency>\n                </dependencies>\n            </plugin>","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/pom.xml:420,476"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-model.zdl","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-model.zdl","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-model.zdl#L57-L58","language":"zdl","visibleRange":"57,58","content":"    @post\n    createCustomer(Customer) Customer withEvents CustomerEvent","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-model.zdl:57,58"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml#L102-L123","language":"yaml","visibleRange":"102,123","content":"  /customers/search:\n    post:\n      operationId: searchCustomers\n      description: \"searchCustomers\"\n      tags: [Customer]\n      parameters:\n        - $ref: \"#/components/parameters/page\"\n        - $ref: \"#/components/parameters/limit\"\n        - $ref: \"#/components/parameters/sort\"\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/CustomerSearchCriteria\"\n      responses:\n        \"200\":\n          description: \"OK\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/CustomerPaginated\"","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml:102,123"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml#L27-L44","language":"yaml","visibleRange":"27,44","content":"  /customers:\n    post:\n      operationId: createCustomer\n      description: \"createCustomer\"\n      tags: [Customer]\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/Customer\"\n      responses:\n        \"201\":\n          description: \"OK\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Customer\"","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml:27,44"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/models/documents.zdl","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/models/documents.zdl","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/models/documents.zdl#L40-L42","language":"zdl","visibleRange":"40,42","content":"    @post({path: \"/upload\", status: 201})\n    @fileupload(\"file\")\n    uploadDocument(DocumentInfo) DocumentInfo","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/models/documents.zdl:40,42"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/documents-openapi.yml","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/documents-openapi.yml","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/documents-openapi.yml#L95-L134","language":"yaml","visibleRange":"95,134","content":"  /documents/upload:\n    post:\n      operationId: \"uploadDocument\"\n      description: \"uploadDocument\"\n      tags:\n      - \"Document\"\n      parameters:\n      - name: \"uuid\"\n        in: \"query\"\n        required: false\n        schema:\n          type: \"string\"\n      - name: \"tags\"\n        in: \"query\"\n        required: false\n        style: \"form\"\n        explode: true\n        schema:\n          type: \"array\"\n          items:\n            type: \"string\"\n      requestBody:\n        required: true\n        content:\n          multipart/form-data:\n            schema:\n              type: \"object\"\n              required:\n              - \"file\"\n              properties:\n                file:\n                  type: \"string\"\n                  format: \"binary\"\n      responses:\n        \"201\":\n          description: \"OK\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/DocumentInfo\"","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/documents-openapi.yml:95,134"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/adapters/web/CustomerApiController.java","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/adapters/web/CustomerApiController.java","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/adapters/web/CustomerApiController.java#L52-L59","language":"java","visibleRange":"52,59","content":"    @Override\n    public ResponseEntity<CustomerDTO> createCustomer(CustomerDTO reqBody) {\n        log.debug(\"REST request to createCustomer: {}\", reqBody);\n        var input = mapper.asCustomer(reqBody);\n        var customer = customerService.createCustomer(input);\n        CustomerDTO responseDTO = mapper.asCustomerDTO(customer);\n        return ResponseEntity.status(201).body(responseDTO);\n    }","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/adapters/web/CustomerApiController.java:52,59"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/models/documents.zdl","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/models/documents.zdl","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/models/documents.zdl#L36-L38","language":"zdl","visibleRange":"36,38","content":"    @get({path: \"/{id}\", params: {preview: boolean} })\n    @filedownload(\"documentData.data\")\n    downloadDocument(id) DocumentInfo","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/models/documents.zdl:36,38"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-model.zdl","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-model.zdl","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-model.zdl#L65-L67","language":"zdl","visibleRange":"65,67","content":"    @post(path: \"/search\", status: 200)\n    @paginated\n    searchCustomers(CustomerSearchCriteria) Customer[]","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-model.zdl:65,67"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml#L102-L123","language":"yaml","visibleRange":"102,123","content":"  /customers/search:\n    post:\n      operationId: searchCustomers\n      description: \"searchCustomers\"\n      tags: [Customer]\n      parameters:\n        - $ref: \"#/components/parameters/page\"\n        - $ref: \"#/components/parameters/limit\"\n        - $ref: \"#/components/parameters/sort\"\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/CustomerSearchCriteria\"\n      responses:\n        \"200\":\n          description: \"OK\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/CustomerPaginated\"","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml:102,123"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/documents-openapi.yml","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/documents-openapi.yml","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/documents-openapi.yml#L49-L79","language":"yaml","visibleRange":"49,79","content":"  /documents/{id}:\n    get:\n      operationId: \"downloadDocument\"\n      description: \"downloadDocument\"\n      tags:\n      - \"Document\"\n      parameters:\n      - name: \"id\"\n        in: \"path\"\n        required: true\n        schema:\n          type: \"integer\"\n          format: \"int64\"\n      - name: \"preview\"\n        in: \"query\"\n        schema:\n          type: \"boolean\"\n      responses:\n        \"200\":\n          description: \"OK\"\n          headers:\n            Content-Disposition:\n              description: \"Controls file download behavior. Values: 'inline' (display\\\n                \\ in browser) or 'attachment; filename=example.pdf' (download file)\"\n              schema:\n                type: \"string\"\n          content:\n            '*/*':\n              schema:\n                type: \"string\"\n                format: \"binary\"","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/documents-openapi.yml:49,79"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/adapters/web/CustomerApiController.java","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/adapters/web/CustomerApiController.java","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/adapters/web/CustomerApiController.java#L94-L116","language":"java","visibleRange":"94,116","content":"    public ResponseEntity<CustomerPaginatedDTO> searchCustomers(\n            Integer page, Integer limit, List<String> sort, CustomerSearchCriteriaDTO reqBody) {\n        log.debug(\"REST request to searchCustomers: {}, {}, {}, {}\", page, limit, sort, reqBody);\n        var input = mapper.asCustomerSearchCriteria(reqBody);\n        var customerPage = customerService.searchCustomers(input, pageOf(page, limit, sort));\n        var responseDTO = mapper.asCustomerPaginatedDTO(customerPage);\n        return ResponseEntity.status(200).body(responseDTO);\n    }\n\n    protected Pageable pageOf(Integer page, Integer limit, List<String> sort) {\n        Sort sortOrder = sort != null\n                ? Sort.by(sort.stream()\n                        .map(sortParam -> {\n                            String[] parts = sortParam.split(\":\");\n                            String property = parts[0];\n                            Sort.Direction direction =\n                                    parts.length > 1 ? Sort.Direction.fromString(parts[1]) : Sort.Direction.ASC;\n                            return new Sort.Order(direction, property);\n                        })\n                        .toList())\n                : Sort.unsorted();\n        return PageRequest.of(page != null ? page : 0, limit != null ? limit : 10, sortOrder);\n    }","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/adapters/web/CustomerApiController.java:94,116"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-scripts.zw","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-scripts.zw","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-scripts.zw#L31-L33","language":"zdl","visibleRange":"31,33","content":"        SpringWebTestClientPlugin {\n            openapiFile \"src/main/resources/public/apis/openapi.yml\"\n        }","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-scripts.zw:31,33"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/CustomerApiControllerTest.java","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/CustomerApiControllerTest.java","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/CustomerApiControllerTest.java","language":"java","visibleRange":null,"content":"package io.zenwave360.example.adapters.web;\n\nimport io.zenwave360.example.adapters.web.model.*;\nimport io.zenwave360.example.config.ServicesInMemoryConfig;\nimport java.util.List;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\n/** Test controller for CustomerApiController. */\nclass CustomerApiControllerTest {\n\n    private final Logger log = LoggerFactory.getLogger(getClass());\n\n    ServicesInMemoryConfig context = new ServicesInMemoryConfig();\n\n    CustomerApiController controller = new CustomerApiController(context.customerService());\n\n    @BeforeEach\n    void setUp() {\n        context.reloadTestData();\n    }\n\n    @Test\n    void createCustomerTest() {\n        CustomerDTO reqBody = new CustomerDTO();\n        reqBody.setName(\"John Doe\");\n        reqBody.setEmail(\"john.doe@example.com\");\n        reqBody.setAddresses(List.of(new AddressDTO(\"Anytown\", \"123 Main St\")));\n        reqBody.setPaymentMethods(List.of(new PaymentMethodDTO(PaymentMethodTypeDTO.VISA, \"1234567890123456\")));\n        var response = controller.createCustomer(reqBody);\n        Assertions.assertEquals(201, response.getStatusCode().value());\n    }\n\n    @Test\n    void getCustomerTest() {\n        Long id = 1L;\n        var response = controller.getCustomer(id);\n        Assertions.assertEquals(200, response.getStatusCode().value());\n    }\n\n    @Test\n    void updateCustomerTest() {\n        Long id = 1L;\n        CustomerDTO reqBody = new CustomerDTO();\n        reqBody.setName(\"John Doe\");\n        reqBody.setEmail(\"john.doe@example.com\");\n        reqBody.setAddresses(List.of(new AddressDTO(\"Anytown\", \"123 Main St\")));\n        reqBody.setPaymentMethods(List.of(new PaymentMethodDTO(PaymentMethodTypeDTO.VISA, \"1234567890123456\")));\n        var response = controller.updateCustomer(id, reqBody);\n        Assertions.assertEquals(200, response.getStatusCode().value());\n    }\n\n    @Test\n    void deleteCustomerTest() {\n        Long id = 1L;\n        var response = controller.deleteCustomer(id);\n        Assertions.assertEquals(204, response.getStatusCode().value());\n    }\n\n    @Test\n    void searchCustomersTest() {\n        Integer page = 0;\n        Integer limit = 10;\n        List<String> sort = List.of(\"name\");\n        CustomerSearchCriteriaDTO reqBody = new CustomerSearchCriteriaDTO();\n        var response = controller.searchCustomers(page, limit, sort, reqBody);\n        Assertions.assertEquals(200, response.getStatusCode().value());\n    }\n}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/CustomerApiControllerTest.java:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-scripts.zw","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-scripts.zw","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-scripts.zw#L35-L40","language":"zdl","visibleRange":"35,40","content":"        SpringWebTestClientPlugin {\n            openapiFile \"src/main/resources/public/apis/openapi.yml\"\n            groupBy businessFlow\n            businessFlowTestName CreateUpdateDeleteCustomerIntegrationTest\n            operationIds createCustomer,updateCustomer,deleteCustomer,getCustomer\n        }","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-scripts.zw:35,40"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/CreateUpdateDeleteCustomerIntegrationTest.java","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/CreateUpdateDeleteCustomerIntegrationTest.java","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/CreateUpdateDeleteCustomerIntegrationTest.java","language":"java","visibleRange":null,"content":"package io.zenwave360.example.adapters.web;\n\nimport static org.springframework.http.HttpMethod.*;\n\nimport io.zenwave360.example.adapters.web.model.CustomerDTO;\nimport io.zenwave360.example.adapters.web.model.PaymentMethodTypeDTO;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.http.MediaType;\n\n/**\n * Business Flow Test for: createCustomer, getCustomer, updateCustomer, deleteCustomer.\n */\nclass CreateUpdateDeleteCustomerIntegrationTest extends BaseWebTestClientTest {\n\n    /**\n     * Business Flow Test for: createCustomer, getCustomer, updateCustomer, deleteCustomer.\n     */\n    @Test\n    void testCreateUpdateDeleteCustomerIntegrationTest() {\n        // createCustomer: createCustomer\n        var customerRequestBody0 =\n                \"\"\"\n                {\n                  \"email\": \"jane.doe@example.com\",\n                  \"name\": \"Jane Doe\",\n                  \"addresses\": [\n                    {\n                      \"city\": \"Othertown\",\n                      \"street\": \"456 Elm St\"\n                    }\n                  ],\n                  \"paymentMethods\": [\n                    {\n                      \"type\": \"VISA\",\n                      \"cardNumber\": \"6543210987654321\"\n                    }\n                  ]\n                }\n                \"\"\";\n\n        var createCustomerResponse0 = webTestClient\n                .method(POST)\n                .uri(\"/api/customers\")\n                .accept(MediaType.APPLICATION_JSON)\n                .contentType(MediaType.APPLICATION_JSON)\n                .bodyValue(customerRequestBody0)\n                .exchange()\n                .expectStatus()\n                .isEqualTo(201)\n                .expectHeader()\n                .contentType(MediaType.APPLICATION_JSON)\n                .returnResult(CustomerDTO.class);\n\n        // getCustomer: getCustomer\n        var id = createCustomerResponse0.getResponseBody().blockFirst().getId();\n\n        var getCustomerResponse1 = webTestClient\n                .method(GET)\n                .uri(\"/api/customers/{id}\", id)\n                .accept(MediaType.APPLICATION_JSON)\n                .exchange()\n                .expectStatus()\n                .isEqualTo(200)\n                .expectHeader()\n                .contentType(MediaType.APPLICATION_JSON)\n                .returnResult(CustomerDTO.class);\n\n        // updateCustomer: updateCustomer\n        CustomerDTO customerRequestBody2 =\n                getCustomerResponse1.getResponseBody().blockFirst();\n        customerRequestBody2.setName(\"updated\");\n        customerRequestBody2.setEmail(\"updated@email.com\");\n        customerRequestBody2.getPaymentMethods().get(0).setType(PaymentMethodTypeDTO.VISA);\n\n        var updateCustomerResponse2 = webTestClient\n                .method(PUT)\n                .uri(\"/api/customers/{id}\", id)\n                .accept(MediaType.APPLICATION_JSON)\n                .contentType(MediaType.APPLICATION_JSON)\n                .bodyValue(customerRequestBody2)\n                .exchange()\n                .expectStatus()\n                .isEqualTo(200)\n                .expectHeader()\n                .contentType(MediaType.APPLICATION_JSON)\n                .returnResult(CustomerDTO.class);\n\n        // deleteCustomer: deleteCustomer\n\n        webTestClient\n                .method(DELETE)\n                .uri(\"/api/customers/{id}\", id)\n                .accept(MediaType.APPLICATION_JSON)\n                .exchange()\n                .expectStatus()\n                .isEqualTo(204);\n\n        // getCustomer: getCustomer (not found)\n        webTestClient\n                .method(GET)\n                .uri(\"/api/customers/{id}\", id)\n                .accept(MediaType.APPLICATION_JSON)\n                .exchange()\n                .expectStatus()\n                .isEqualTo(404);\n    }\n}\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/test/java/io/zenwave360/example/adapters/web/CreateUpdateDeleteCustomerIntegrationTest.java:full"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-model.zdl","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-model.zdl","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-model.zdl#L61-L62","language":"zdl","visibleRange":"61,62","content":"    @put(\"/{id}\")\n    updateCustomer(id, Customer) Customer? withEvents CustomerEvent","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-model.zdl:61,62"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/core/implementation/CustomerServiceImpl.java","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/core/implementation/CustomerServiceImpl.java","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/core/implementation/CustomerServiceImpl.java#L55-L71","language":"java","visibleRange":"55,71","content":"    @Transactional\n    public Optional<Customer> updateCustomer(Long id, Customer input) {\n        log.debug(\"Request updateCustomer: {} {}\", id, input);\n\n        var customer = customerRepository\n                .findById(id)\n                .map(existingCustomer -> {\n                    return customerServiceMapper.update(existingCustomer, input);\n                })\n                .map(customerRepository::save);\n        if (customer.isPresent()) {\n            // emit events\n            var customerEvent = eventsMapper.asCustomerEvent(customer.get());\n            eventsProducer.onCustomerEvent(customerEvent);\n        }\n        return customer;\n    }","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/java/io/zenwave360/example/core/implementation/CustomerServiceImpl.java:55,71"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-scripts.zw","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-scripts.zw","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/zenwave-scripts.zw#L12-L19","language":"zdl","visibleRange":"12,19","content":"        ZDLToAsyncAPIPlugin {\n            asyncapiVersion v3\n            schemaFormat avro\n            avroPackage \"io.zenwave360.example.core.outbound.events.dtos\"\n            idType long\n            targetFile \"src/main/resources/public/apis/asyncapi.yml\"\n            includeKafkaCommonHeaders true\n        }","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/zenwave-scripts.zw:12,19"},{"url":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/asyncapi.yml","originalUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/asyncapi.yml","sourceUrl":"https://github.com/ZenWave360/zenwave-playground/blob/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/asyncapi.yml","language":"yaml","visibleRange":null,"content":"asyncapi: 3.0.0\ninfo:\n  title: \"ZenWave Customer JPA Example\"\n  version: 0.0.1\n  tags:\n    - name: \"Default\"\n    - name: \"Customer\"\n\ndefaultContentType: application/json\n\nchannels:\n  CustomersChannel:\n    address: \"customers\"\n    messages:\n      CustomerDeletedEventMessage:\n        $ref: '#/components/messages/CustomerDeletedEventMessage'\n      CustomerEventMessage:\n        $ref: '#/components/messages/CustomerEventMessage'\n\noperations:\n  onCustomerEvent:\n    action: send\n    tags:\n      - name: Customer\n    channel:\n      $ref: '#/channels/CustomersChannel'\n  onCustomerDeletedEvent:\n    action: send\n    tags:\n      - name: Customer\n    channel:\n      $ref: '#/channels/CustomersChannel'\n\n\ncomponents:\n  messages:\n    CustomerEventMessage:\n      name: CustomerEventMessage\n      title: \"\"\n      summary: \"\"\n      traits:\n        - $ref: '#/components/messageTraits/CommonHeaders'\n      payload:\n        schemaFormat: application/vnd.apache.avro+json;version=1.9.0\n        schema:\n          $ref: \"./avro/CustomerEvent.avsc\"\n    CustomerDeletedEventMessage:\n      name: CustomerDeletedEventMessage\n      title: \"\"\n      summary: \"\"\n      traits:\n        - $ref: '#/components/messageTraits/CommonHeaders'\n      payload:\n        schemaFormat: application/vnd.apache.avro+json;version=1.9.0\n        schema:\n          $ref: \"./avro/CustomerDeletedEvent.avsc\"\n\n  messageTraits:\n    CommonHeaders:\n      headers:\n        type: object\n        properties:\n          kafka_messageKey:\n            type: \"integer\"\n            description: This header value will be populated automatically at runtime\n            x-runtime-expression: $message.payload#/id\n\n\n","cacheKey":"https://raw.githubusercontent.com/ZenWave360/zenwave-playground/refs/heads/v20260120/examples/customer-address-jpa/src/main/resources/public/apis/asyncapi.yml:full"}]}}}