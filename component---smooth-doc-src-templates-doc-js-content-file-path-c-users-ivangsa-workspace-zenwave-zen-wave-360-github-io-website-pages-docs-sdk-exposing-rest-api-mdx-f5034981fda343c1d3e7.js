"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[254],{29639:function(e,t,n){n.r(t),n.d(t,{default:function(){return u}});var a=n(27378),l=n(20951),o=n(48171),r=n.p+"static/openapi-customer-service-outline-68b9a96e93c4c92af26c41eaeecc07c3.png";function i(e){const t=Object.assign({h1:"h1",a:"a",div:"div",p:"p",h2:"h2",ul:"ul",li:"li",blockquote:"blockquote",strong:"strong",h3:"h3",code:"code",pre:"pre",h4:"h4"},(0,l.ah)(),e.components);return a.createElement(a.Fragment,null,a.createElement(t.h1,{id:"exposing-a-rest-api-for-your-domain-services",style:{position:"relative"}},a.createElement(t.a,{href:"#exposing-a-rest-api-for-your-domain-services","aria-label":"exposing a rest api for your domain services permalink",className:"anchor before"},a.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Exposing a REST API for your Domain Services"),"\n",a.createElement(t.p,null,"Because writing YAML and dealing with boilerplate code is no fun..."),"\n",a.createElement(t.p,null,"In the following sections, we'll explore how to use ZenWave Domain Language (ZDL) as an Interface Definition Language (IDL) for OpenAPI, leveraging ZenWave SDK to generate complete OpenAPI v3 specifications from your domain models."),"\n",a.createElement(t.p,null,"You can then use these generated OpenAPI definitions to build various aspects of your application using ",a.createElement(t.a,{href:"/API-First/OpenAPI/"},"ZenWave API-First tooling"),"."),"\n",a.createElement(t.h2,{id:"zenwave-domain-language-as-interface-definition-language-idl-for-openapi",style:{position:"relative"}},a.createElement(t.a,{href:"#zenwave-domain-language-as-interface-definition-language-idl-for-openapi","aria-label":"zenwave domain language as interface definition language idl for openapi permalink",className:"anchor before"},a.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"ZenWave Domain Language as Interface Definition Language (IDL) for OpenAPI"),"\n",a.createElement(t.p,null,"Because writing YAML by hand is no fun... You can use ZDL models as Interface Definition Language (IDL) to generate OpenAPI v3 with ZenWave SDK ",a.createElement(t.a,{href:"/zenwave-sdk/plugins/zdl-to-openapi/"},"ZDLToOpenAPIPlugin"),"."),"\n",a.createElement(t.p,null,"This approach allows you to:"),"\n",a.createElement(t.ul,null,"\n",a.createElement(t.li,null,"Define APIs using a compact, developer-friendly syntax"),"\n",a.createElement(t.li,null,"Maintain consistency between your domain model and API contracts"),"\n",a.createElement(t.li,null,"Consisten style between your different APIs: naming, pagination, status codes, error handling..."),"\n",a.createElement(t.li,null,"Reduce manual YAML writing and potential errors"),"\n"),"\n",a.createElement(t.p,null,"ZDL has evolved to support defining OpenAPI APIs almost completely, including file uploads and downloads, status codes, and more."),"\n",a.createElement(t.blockquote,null,"\n",a.createElement(t.p,null,"⚠️ ",a.createElement(t.strong,null,"Remember"),": Once generated, the OpenAPI definition becomes the source of truth for your REST API. ZDL serves as a starting point for rapid API design."),"\n"),"\n",a.createElement(t.h3,{id:"decorating-your-services-with-rest",style:{position:"relative"}},a.createElement(t.a,{href:"#decorating-your-services-with-rest","aria-label":"decorating your services with rest permalink",className:"anchor before"},a.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Decorating your Services with ",a.createElement(t.code,null,"@rest")),"\n",a.createElement(t.p,null,"First step is to decorate your services with ",a.createElement(t.code,null,"@rest")," to indicate that they will be exposed via REST API and define the base path for all operations in this service."),"\n",a.createElement(t.pre,null,a.createElement(t.code,{className:"language-zdl"},'@rest("/customers")\r\nservice CustomerService for (Customer) {\r\n    //...\r\n}\n')),"\n",a.createElement(t.p,null,"Now you can use ",a.createElement(t.code,null,"ZDLToOpenAPIPlugin")," to generate an OpenAPI definition from your ZDL model:"),"\n",a.createElement(o.rv,{summary:"ZDLToOpenAPIPlugin in zenwave-scripts.zw",language:"zdl",collapsed:!1,visibleRange:"6,10",url:"https://github.com/ZenWave360/zenwave-playground/blob/main/examples/customer-address-jpa/zenwave-scripts.zw"}),"\n",a.createElement(t.p,null,"Remember that this is equivalent to running:"),"\n",a.createElement(o.rv,{summary:"ZDLToOpenAPIPlugin using JBang CLI",language:"zdl",collapsed:!0,content:"jbang zw -p ZDLToOpenAPIPlugin \\\n    zdlFile=zenwave-model.zdl \\\n    idType=integer \\\n    idTypeFormat=int64 \\\n    targetFolder=. \\\n    targetFile=src/main/resources/public/apis/openapi.yml"}),"\n",a.createElement(o.Ee,{src:r,alt:"OpenAPI Customer Service Outline",align:"left"}),"\n",a.createElement(t.h3,{id:"decorating-your-service-methods-with-get-post-put-delete-patch",style:{position:"relative"}},a.createElement(t.a,{href:"#decorating-your-service-methods-with-get-post-put-delete-patch","aria-label":"decorating your service methods with get post put delete patch permalink",className:"anchor before"},a.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Decorating your Service Methods with ",a.createElement(t.code,null,"@get"),", ",a.createElement(t.code,null,"@post"),", ",a.createElement(t.code,null,"@put"),", ",a.createElement(t.code,null,"@delete"),", ",a.createElement(t.code,null,"@patch")),"\n",a.createElement(t.p,null,"All ",a.createElement(t.code,null,"@get"),", ",a.createElement(t.code,null,"@post"),", ",a.createElement(t.code,null,"@put"),", ",a.createElement(t.code,null,"@delete"),", ",a.createElement(t.code,null,"@patch")," support the following syntax:"),"\n",a.createElement(t.ul,null,"\n",a.createElement(t.li,null,a.createElement(t.code,null,'@get("/somepath/{somePathParam}")'),": simpler form, shorthand for ",a.createElement(t.code,null,'@get({path: "/somepath/{somePathParam}"})')),"\n",a.createElement(t.li,null,a.createElement(t.code,null,'@get({path: "/somepath", status: 200, params: {search: String}, operationId: "someOperationId"})'),":","\n",a.createElement(t.ul,null,"\n",a.createElement(t.li,null,a.createElement(t.code,null,"path"),": the path for this operation, relative to the service base path."),"\n",a.createElement(t.li,null,a.createElement(t.code,null,"status"),": the default status code for this operation, this is usefull for ",a.createElement(t.code,null,"@post")," operations that return ",a.createElement(t.code,null,"200")," instead of the default ",a.createElement(t.code,null,"201"),"."),"\n",a.createElement(t.li,null,a.createElement(t.code,null,"params"),": a map of parameters and their types, they will match path params o query params if no path param was matched."),"\n",a.createElement(t.li,null,a.createElement(t.code,null,"operationId"),": the operationId for this operation, by default it will use the service command name."),"\n"),"\n"),"\n"),"\n",a.createElement(o.TJ,{text1:"When using the `ZDLToOpenAPIPlugin`, the following",sourceTitle:"decorated service:",sourceLanguage:"zdl",sourceVisibleRange:"55,68",sourceCollapsed:!1,sourceUrl:"https://github.com/ZenWave360/zenwave-playground/blob/main/examples/customer-address-jpa/zenwave-model.zdl",text2:"would produce this openapi definition:",outputTitle:"src/main/resources/public/apis/openapi.yml",outputLanguage:"yaml",outputCollapsed:!0,outputUrl:"https://github.com/ZenWave360/zenwave-playground/blob/main/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml"}),"\n",a.createElement(t.h4,{id:"using-get",style:{position:"relative"}},a.createElement(t.a,{href:"#using-get","aria-label":"using get permalink",className:"anchor before"},a.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Using ",a.createElement(t.code,null,"@get")),"\n",a.createElement(t.p,null,"As you would expect, ",a.createElement(t.code,null,"@get")," will generate a ",a.createElement(t.code,null,"GET")," operations, with path and query parameters defined in the ",a.createElement(t.code,null,"path")," and ",a.createElement(t.code,null,"params")," properties, with their corresponding data types. It will return an status code ",a.createElement(t.code,null,"200")," by default, but you can change it using the ",a.createElement(t.code,null,"status")," property."),"\n",a.createElement(o.TJ,{text1:"When using the `ZDLToOpenAPIPlugin`, the following",sourceTitle:"this service command:",sourceLanguage:"zdl",sourceVisibleRange:"59,60",sourceCollapsed:!1,sourceUrl:"https://github.com/ZenWave360/zenwave-playground/blob/main/examples/customer-address-jpa/zenwave-model.zdl",text2:"would produce this:",outputTitle:"src/main/resources/public/apis/openapi.yml",outputLanguage:"yaml",outputVisibleRange:"45,63",outputCollapsed:!1,outputUrl:"https://github.com/ZenWave360/zenwave-playground/blob/main/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml"}),"\n",a.createElement(t.p,null,"If the method command has a command payload, it will be expanded as path or query parameters."),"\n",a.createElement(o.TJ,{text1:"When using the `ZDLToOpenAPIPlugin`, the following",sourceTitle:"this service command:",sourceLanguage:"zdl",sourceVisibleRange:"160,161",sourceCollapsed:!1,sourceUrl:"https://github.com/ZenWave360/zenwave-playground/blob/main/examples/modulith-clinical-tool-jpa/models/surveys.zdl",text2:"would produce this:",outputTitle:"src/main/resources/public/apis/surveys-public-openapi.yml",outputLanguage:"yaml",outputVisibleRange:"28,55",outputCollapsed:!1,outputUrl:"https://github.com/ZenWave360/zenwave-playground/blob/main/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/surveys-public-openapi.yml"}),"\n",a.createElement(t.p,null,"Notice how path and query parameter data types are inferred:"),"\n",a.createElement(t.ul,null,"\n",a.createElement(t.li,null,a.createElement(t.code,null,"name")," path param is inferred from ",a.createElement(t.code,null,"SurveyByNameAndPatient.name")," field type ",a.createElement(t.code,null,"String"),"."),"\n",a.createElement(t.li,null,a.createElement(t.code,null,"patientId")," path param is inferred from ",a.createElement(t.code,null,"SurveyByNameAndPatient.patientId")," field type ",a.createElement(t.code,null,"Long"),"."),"\n",a.createElement(t.li,null,a.createElement(t.code,null,"lang")," is added as query parameter because it is not a path parameter."),"\n"),"\n",a.createElement(t.h4,{id:"using-post-for-creating-resources",style:{position:"relative"}},a.createElement(t.a,{href:"#using-post-for-creating-resources","aria-label":"using post for creating resources permalink",className:"anchor before"},a.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Using ",a.createElement(t.code,null,"@post")," for Creating Resources"),"\n",a.createElement(t.p,null,"Posts are used to create new resources. The default status code is ",a.createElement(t.code,null,"201"),", if you need to change it, because you are implementing a search operation for example, you can use the ",a.createElement(t.code,null,"status")," property."),"\n",a.createElement(o.TJ,{text1:"When using the `ZDLToOpenAPIPlugin`, the following",sourceTitle:"this service command:",sourceLanguage:"zdl",sourceVisibleRange:"57,58",sourceCollapsed:!1,sourceUrl:"https://github.com/ZenWave360/zenwave-playground/blob/main/examples/customer-address-jpa/zenwave-model.zdl",text2:"would produce this:",outputTitle:"src/main/resources/public/apis/openapi.yml",outputLanguage:"yaml",outputVisibleRange:"27,44",outputCollapsed:!1,outputUrl:"https://github.com/ZenWave360/zenwave-playground/blob/main/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml"}),"\n",a.createElement(t.p,null,"You can also use ",a.createElement(t.code,null,"@post")," to implement search operations, in this case you should use ",a.createElement(t.code,null,"status: 200")," to indicate that the operation returns a list of resources:"),"\n",a.createElement(o.TJ,{text1:"When using the `ZDLToOpenAPIPlugin`, the following",sourceTitle:"this service command:",sourceLanguage:"zdl",sourceVisibleRange:"54,55",sourceCollapsed:!1,sourceUrl:"https://github.com/ZenWave360/zenwave-playground/blob/main/examples/modulith-clinical-tool-jpa/models/users.zdl",text2:"would produce this:",outputTitle:"src/main/resources/public/apis/openapi.yml",outputLanguage:"yaml",outputVisibleRange:"142,164",outputCollapsed:!0,outputUrl:"https://github.com/ZenWave360/zenwave-playground/blob/main/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/users-openapi.yml"}),"\n",a.createElement(t.h4,{id:"using-put-for-updating-resources",style:{position:"relative"}},a.createElement(t.a,{href:"#using-put-for-updating-resources","aria-label":"using put for updating resources permalink",className:"anchor before"},a.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Using ",a.createElement(t.code,null,"@put")," for Updating Resources"),"\n",a.createElement(o.TJ,{text1:"When using the `ZDLToOpenAPIPlugin`, the following",sourceTitle:"this service command:",sourceLanguage:"zdl",sourceVisibleRange:"61,62",sourceCollapsed:!1,sourceUrl:"https://github.com/ZenWave360/zenwave-playground/blob/main/examples/customer-address-jpa/zenwave-model.zdl",text2:"would produce this:",outputTitle:"src/main/resources/public/apis/openapi.yml",outputLanguage:"yaml",outputVisibleRange:"64,87",outputCollapsed:!1,outputUrl:"https://github.com/ZenWave360/zenwave-playground/blob/main/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml"}),"\n",a.createElement(t.h4,{id:"using-delete-for-deleting-resources",style:{position:"relative"}},a.createElement(t.a,{href:"#using-delete-for-deleting-resources","aria-label":"using delete for deleting resources permalink",className:"anchor before"},a.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Using ",a.createElement(t.code,null,"@delete")," for Deleting Resources"),"\n",a.createElement(t.p,null,"Delete operations would return a ",a.createElement(t.code,null,"204")," status code by default, but you can change it using the ",a.createElement(t.code,null,"status")," property."),"\n",a.createElement(o.TJ,{text1:"When using the `ZDLToOpenAPIPlugin`, the following",sourceTitle:"this service command:",sourceLanguage:"zdl",sourceVisibleRange:"63,64",sourceCollapsed:!1,sourceUrl:"https://github.com/ZenWave360/zenwave-playground/blob/main/examples/customer-address-jpa/zenwave-model.zdl",text2:"would produce this:",outputTitle:"src/main/resources/public/apis/openapi.yml",outputLanguage:"yaml",outputVisibleRange:"88,101",outputCollapsed:!1,outputUrl:"https://github.com/ZenWave360/zenwave-playground/blob/main/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml"}),"\n",a.createElement(t.h4,{id:"using-patch-for-partial-updates",style:{position:"relative"}},a.createElement(t.a,{href:"#using-patch-for-partial-updates","aria-label":"using patch for partial updates permalink",className:"anchor before"},a.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Using ",a.createElement(t.code,null,"@patch")," for Partial Updates"),"\n",a.createElement(o.TJ,{text1:"When using the `ZDLToOpenAPIPlugin`, the following",sourceTitle:"this service command:",sourceLanguage:"zdl",sourceVisibleRange:"166,167",sourceCollapsed:!1,sourceUrl:"https://github.com/ZenWave360/zenwave-playground/blob/main/examples/modulith-clinical-tool-jpa/models/surveys.zdl",text2:"would produce this:",outputTitle:"src/main/resources/public/apis/surveys-public-openapi.yml",outputLanguage:"yaml",outputVisibleRange:"93,133",outputCollapsed:!1,outputUrl:"https://github.com/ZenWave360/zenwave-playground/blob/main/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/surveys-public-openapi.yml"}),"\n",a.createElement(o.rv,{title:"#/components/schemas/SurveyAnswersPatch",sourceLanguage:"yml",visibleRange:"327,329",sourceCollapsed:!1,url:"https://github.com/ZenWave360/zenwave-playground/blob/main/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/surveys-public-openapi.yml"}),"\n",a.createElement(o.TJ,{text1:"When configuring `schemaMappings` in `openapi-generator-maven-plugin` like this:",sourceTitle:"this service command:",sourceLanguage:"xml",sourceVisibleRange:"394,396",sourceCollapsed:!1,sourceUrl:"https://github.com/ZenWave360/zenwave-playground/blob/main/examples/modulith-clinical-tool-jpa/pom.xml",text2:"will generate a java method with `Map input` as parameter:",outputTitle:"src/main/resources/public/apis/surveys-public-openapi.yml",outputLanguage:"java",outputVisibleRange:"71,73",outputCollapsed:!1,outputUrl:"https://github.com/ZenWave360/zenwave-playground/blob/main/examples/modulith-clinical-tool-jpa/src/main/java/io/zenwave360/example/clinicaltool/modules/surveys/web/SurveysApiController.java"}),"\n",a.createElement(t.p,null,"Because ",a.createElement(t.code,null,"Map input")," contains only the properties that where actually send by the client, you can easily implement a partial update."),"\n",a.createElement(t.h3,{id:"returning-paginated-lists-with-paginated",style:{position:"relative"}},a.createElement(t.a,{href:"#returning-paginated-lists-with-paginated","aria-label":"returning paginated lists with paginated permalink",className:"anchor before"},a.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Returning Paginated Lists with ",a.createElement(t.code,null,"@paginated")),"\n",a.createElement(t.p,null,a.createElement(t.code,null,"ZDLToOpenAPIPlugin")," supports the following pagination style out of the box when using ",a.createElement(t.code,null,"@paginated")," annotation:"),"\n",a.createElement(o.TJ,{text1:"When using the `ZDLToOpenAPIPlugin`, the following",sourceTitle:"this `@paginated` service command:",sourceLanguage:"zdl",sourceVisibleRange:"65,67",sourceCollapsed:!1,sourceUrl:"https://github.com/ZenWave360/zenwave-playground/blob/main/examples/customer-address-jpa/zenwave-model.zdl",text2:"would produce this:",outputTitle:"src/main/resources/public/apis/openapi.yml",outputLanguage:"yaml",outputVisibleRange:"102,123",outputCollapsed:!1,outputUrl:"https://github.com/ZenWave360/zenwave-playground/blob/main/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml"}),"\n",a.createElement(t.p,null,"With the ",a.createElement(t.code,null,"CustomerPaginated")," schema defined as:"),"\n",a.createElement(o.rv,{title:"#/components/schemas/SurveyAnswersPatch",language:"yml",visibleRange:"158,166",collapsed:!1,url:"https://github.com/ZenWave360/zenwave-playground/blob/main/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml"}),"\n",a.createElement(t.p,null,"And the following ",a.createElement(t.code,null,"components")," definition:"),"\n",a.createElement(o.rv,{title:"Supporting Schemas for Pagination",language:"yml",visibleRange:"215,264",collapsed:!0,url:"https://github.com/ZenWave360/zenwave-playground/blob/main/examples/customer-address-jpa/src/main/resources/public/apis/openapi.yml"}),"\n",a.createElement(t.h3,{id:"file-uploads",style:{position:"relative"}},a.createElement(t.a,{href:"#file-uploads","aria-label":"file uploads permalink",className:"anchor before"},a.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"File Uploads"),"\n",a.createElement(t.p,null,a.createElement(t.code,null,"ZDLToOpenAPIPlugin")," supports generating OpenAPI definitions for file upload endpoints using the ",a.createElement(t.code,null,'@fileupload("fieldName")')," annotation being ",a.createElement(t.code,null,"fieldName")," the name of the field in the request body that contains the file data."),"\n",a.createElement(o.TJ,{text1:"When using the `ZDLToOpenAPIPlugin`, the following",sourceTitle:"this `@fileupload` service command:",sourceLanguage:"zdl",sourceVisibleRange:"40,42",sourceCollapsed:!1,sourceUrl:"https://github.com/ZenWave360/zenwave-playground/blob/main/examples/modulith-clinical-tool-jpa/models/documents.zdl",text2:"would produce this:",outputTitle:"src/main/resources/public/apis/openapi.yml",outputLanguage:"yaml",outputVisibleRange:"88,112",outputCollapsed:!1,outputUrl:"https://github.com/ZenWave360/zenwave-playground/blob/main/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/documents-openapi.yml"}),"\n",a.createElement(t.p,null,"And the corresponding SpringMVC Controller:"),"\n",a.createElement(o.rv,{title:"DocumentApiController.java#uploadDocument",language:"yml",visibleRange:"79,106",collapsed:!0,url:"https://github.com/ZenWave360/zenwave-playground/blob/main/examples/modulith-clinical-tool-jpa/src/main/java/io/zenwave360/example/clinicaltool/modules/documents/DocumentApiController.java"}),"\n",a.createElement(t.h3,{id:"file-downloads",style:{position:"relative"}},a.createElement(t.a,{href:"#file-downloads","aria-label":"file downloads permalink",className:"anchor before"},a.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"File Downloads"),"\n",a.createElement(t.p,null,a.createElement(t.code,null,"ZDLToOpenAPIPlugin")," supports generating OpenAPI definitions for file upload endpoints using the ",a.createElement(t.code,null,'@filedownload("javaFieldName")')," annotation, being ",a.createElement(t.code,null,"javaFieldName")," the name of the field in java model that contains the binary data to be downloaded."),"\n",a.createElement(o.TJ,{text1:"When using the `ZDLToOpenAPIPlugin`, the following",sourceTitle:"this `@filedownload` service command:",sourceLanguage:"zdl",sourceVisibleRange:"36,38",sourceCollapsed:!1,sourceUrl:"https://github.com/ZenWave360/zenwave-playground/blob/main/examples/modulith-clinical-tool-jpa/models/documents.zdl",text2:"would produce this:",outputTitle:"src/main/resources/public/apis/openapi.yml",outputLanguage:"yaml",outputVisibleRange:"45,73",outputCollapsed:!1,outputUrl:"https://github.com/ZenWave360/zenwave-playground/blob/main/examples/modulith-clinical-tool-jpa/src/main/resources/public/apis/documents-openapi.yml"}),"\n",a.createElement(t.p,null,"And the corresponding SpringMVC Controller:"),"\n",a.createElement(o.rv,{title:"DocumentApiController.java#uploadDocument",language:"java",visibleRange:"60,70",collapsed:!0,url:"https://github.com/ZenWave360/zenwave-playground/blob/main/examples/modulith-clinical-tool-jpa/src/main/java/io/zenwave360/example/clinicaltool/modules/documents/DocumentApiController.java"}))}var s=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,l.ah)(),e.components);return t?a.createElement(t,e,a.createElement(i,e)):i(e)};function c(e){let{children:t}=e;return t}function u(e){return a.createElement(c,e,a.createElement(s,e))}},48171:function(e,t,n){n.d(t,{d2:function(){return a.d},zx:function(){return c},TJ:function(){return u.T},L0:function(){return g},$s:function(){return v},VS:function(){return y},gT:function(){return w},P7:function(){return f},Gz:function(){return h},S:function(){return U},VM:function(){return I},sd:function(){return T},kW:function(){return S},$D:function(){return C},DH:function(){return P},vC:function(){return x},LR:function(){return E},Ee:function(){return H},Gh:function(){return F},Bk:function(){return R},Nm:function(){return W},rv:function(){return Y.r},X_:function(){return d.X},YZ:function(){return O},vk:function(){return B},BW:function(){return _},Mo:function(){return V}});var a=n(63585),l=n(27378),o=n(87573),r=n(30294);const i=e=>{let{background:t,backgroundHover:n,on:a}=e;return()=>(0,r.ivY)(["background-color:",";color:",";&:hover:not(:disabled){background-color:",";color:",";}&:active:not(:disabled){background-color:",";color:",";}"],t,a,n,a,n,a)},s=r.ZPm.buttonBox.withConfig({displayName:"Button__InnerButton",componentId:"sc-1qxez5q-0"})(["appearance:none;border-radius:base;transition:base;font-weight:500;border:0;display:inline-flex;align-items:center;cursor:pointer;font-size:16;padding:2 3;text-decoration:none !important;&:disabled{opacity:0.5;cursor:default;}&[data-variant='primary']{","}&[data-variant='success']{","}&[data-variant='danger']{","}&[data-variant='neutral']{","}"],i({background:"primary-600",backgroundHover:"primary-700",on:"white"}),i({background:"green-600",backgroundHover:"green-700",on:"white"}),i({background:"red-600",backgroundHover:"red-700",on:"white"}),i({background:"gray-300",backgroundHover:"gray-400",on:"black"})),c=l.forwardRef(((e,t)=>{let{variant:n="primary",children:a,...r}=e;return l.createElement(o.z,{ref:t,"data-variant":n},(e=>l.createElement(s,Object.assign({},e,r),a)))}));n(23824);var u=n(37898),p=(n(31729),n(63681)),d=n(84234);const m=r.ZPm.box.withConfig({displayName:"Feature__InnerFeature",componentId:"sc-17n9iec-0"})(["border-left:1;border-left-style:dashed;border-left-color:layout-border;padding-left:4 !important;padding-right:5 !important;"]),g=l.forwardRef(((e,t)=>l.createElement(m,Object.assign({ref:t,col:{xs:1,md:1/3},px:2,pt:4,pb:{xs:2,md:5}},e)))),h=r.ZPm.h2.withConfig({displayName:"Feature__FeatureTitle",componentId:"sc-17n9iec-1"})(["margin:3 0;font-size:16;font-weight:500;border-left:1;border-color:primary-400;margin-left:",";padding-left:",";"],p.th.px(-9),p.th.px(9)),f=r.ZPm.p.withConfig({displayName:"Feature__FeatureText",componentId:"sc-17n9iec-2"})(["color:on-background-light;font-size:15;text-align:justify;margin:4 0;"]),b=r.ZPm.img.withConfig({displayName:"Feature__InnerFeatureImage",componentId:"sc-17n9iec-3"})(["margin-top:3;"]),v=l.forwardRef(((e,t)=>l.createElement(b,Object.assign({ref:t,width:48,height:48},e)))),y=l.forwardRef(((e,t)=>l.createElement(d.X,Object.assign({ref:t,row:!0,my:-4,px:3},e)))),w=l.forwardRef(((e,t)=>l.createElement(r.x.section,Object.assign({ref:t,py:4,borderTop:1,borderBottom:1,borderColor:"layout-border"},e)))),E=r.ZPm.h1Box.withConfig({displayName:"Hero__HeroTitle",componentId:"sc-18tbum5-0"})(["font-size:38;font-weight:600;line-height:1.2;letter-spacing:-1.12px;margin:0 0 2;"," ",""],(0,p.up)("md",(0,r.ivY)(["padding-top:4;font-size:48;"])),(0,p.up)("xl",(0,r.ivY)(["font-size:60;"]))),x=r.ZPm.pBox.withConfig({displayName:"Hero__HeroTeaser",componentId:"sc-18tbum5-1"})(["font-size:18;margin:3 0;"," ",""],(0,p.up)("md",(0,r.ivY)(["font-size:20;"])),(0,p.up)("xl",(0,r.ivY)(["font-size:24;"]))),z=(0,r.ZPm)(d.X).withConfig({displayName:"Hero__InnerHero",componentId:"sc-18tbum5-2"})(["background-repeat:no-repeat;background-position:top -5% center;background-size:100% auto;padding-top:65%;text-align:center;"," ",""],(0,p.up)("md",(0,r.ivY)(["padding-top:0;margin-top:5;background-position:center right;background-size:58% auto;min-height:400;text-align:left;"])),(0,p.up)("xl",(0,r.ivY)(["margin-top:6;"]))),I=l.forwardRef(((e,t)=>{let{backgroundImageURL:n,...a}=e;return l.createElement(z,Object.assign({ref:t,backgroundImage:"url("+n+")"},a))})),C=l.forwardRef(((e,t)=>l.createElement(r.x.div,Object.assign({ref:t,w:{md:.5}},e)))),P=r.ZPm.sectionBox.withConfig({displayName:"Hero__HeroSection",componentId:"sc-18tbum5-3"})(["overflow:hidden;padding-top:2;padding-bottom:5;"]),S=l.forwardRef(((e,t)=>l.createElement(r.x.div,Object.assign({ref:t,row:!0,m:-2,justifyContent:{xs:"center",md:"initial"}},e)))),T=l.forwardRef(((e,t)=>l.createElement(r.x.div,Object.assign({ref:t,col:"auto",p:2},e))));var L=n(24956);const Z=r.ZPm.div.withConfig({displayName:"Image__ImageContainer",componentId:"sc-1b0134e-0"})(["text-align:",";"],(e=>e.align)),j=r.ZPm.img.withConfig({displayName:"Image__InnerImage",componentId:"sc-1b0134e-1"})(["display:inline-block;"]),k=(e,t)=>"dark"===t?e.dark||e.src:e.light||e.src,H=l.forwardRef(((e,t)=>l.createElement(Z,{align:e.align||"center",className:e.visible},l.createElement(j,Object.assign({ref:t,src:k(e,(0,L.If)()[0])},e)))));n(15239),n(83160);const A=(0,r.ZPm)(r.x.cite).withConfig({displayName:"Quote__Cite",componentId:"sc-12i53kz-0"})(["display:block;text-align:right;margin-top:1rem;"]),R=l.forwardRef(((e,t)=>l.createElement(r.x.blockquote,Object.assign({ref:t,className:"quote"},e)))),W=l.forwardRef(((e,t)=>l.createElement(A,Object.assign({ref:t},e)))),_=l.forwardRef(((e,t)=>l.createElement(r.x.section,Object.assign({ref:t,py:4,borderTop:1,borderBottom:1,borderColor:"layout-border"},e)))),O=r.ZPm.divBox.withConfig({displayName:"WideFeature",componentId:"sc-1ak5yjf-0"})(["display:block;",")"],(0,p.up)("md",(0,r.ivY)(["margin:0 20px;border-top:1px dashed;border-bottom:1px dotted;border-color:var(--xstyled-colors-layout-border,#d4d4d8);display:grid;grid-template-columns:1fr 1fr 1fr;"]))),V=r.ZPm.divBox.withConfig({displayName:"WideFeature__WideFeatureText",componentId:"sc-1ak5yjf-1"})(["padding:1rem;grid-column-start:span 2;font-size:18;"," ",""],(0,p.up)("md",(0,r.ivY)(["font-size:20;padding:3rem;padding-top:2rem;"])),(0,p.up)("xl",(0,r.ivY)(["font-size:24;"]))),D=r.ZPm.divBox.withConfig({displayName:"WideFeature__WideFeatureImageContainer",componentId:"sc-1ak5yjf-2"})(["padding:1rem;text-align:center;"]),N=r.ZPm.imgBox.withConfig({displayName:"WideFeature__InnerImage",componentId:"sc-1ak5yjf-3"})(["display:inline-block;"]),M=(e,t)=>"dark"===t?e.dark||e.src:e.light||e.src,B=l.forwardRef(((e,t)=>l.createElement(D,{className:e.className},l.createElement(N,Object.assign({ref:t,src:M(e,(0,L.If)()[0])},e))))),U=e=>{let{gist:t,file:n}=e;const a=(0,l.useRef)(null);(0,l.useEffect)((()=>{(async()=>{const e=n?"https://gist.githubusercontent.com/"+t+"/raw/"+n:"https://gist.githubusercontent.com/"+t+"/raw";try{const t=await fetch(e);if(t.ok){const e=22*(await t.text()).split("\n").length+40;a.current&&(a.current.style.height=e+"px")}else console.error("Failed to fetch Gist content")}catch(l){console.error("Error fetching Gist content:",l)}})()}),[t,n]);const o=n?"https://gist.github.com/"+t+".pibb?file="+n:"https://gist.github.com/"+t+".pibb",r=n?"https://gist.github.com/"+t+"#file-"+n.replace(/\./g,"-").toLowerCase():"https://gist.github.com/"+t;return l.createElement("div",{style:{border:"1px solid #ccc",padding:"10px 0 0 0",borderRadius:"5px"}},n&&l.createElement("header",{style:{marginLeft:"10px",fontStyle:"oblique"}},l.createElement("span",{role:"img","aria-label":"source code"},"🗒️"),l.createElement("a",{href:r,target:"_blank",rel:"noopener noreferrer"},n)),l.createElement("iframe",{title:n,ref:a,src:o,width:"100%",frameBorder:"0",style:{margin:"0",padding:"0"}}))},F=l.forwardRef(((e,t)=>l.createElement(r.x.strong,Object.assign({ref:t,className:"orange"},e))));var Y=n(29368)}}]);
//# sourceMappingURL=component---smooth-doc-src-templates-doc-js-content-file-path-c-users-ivangsa-workspace-zenwave-zen-wave-360-github-io-website-pages-docs-sdk-exposing-rest-api-mdx-f5034981fda343c1d3e7.js.map